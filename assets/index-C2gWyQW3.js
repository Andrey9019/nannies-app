var tb=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var E5=tb((rn,sn)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function to(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vf={exports:{}},na={},Hf={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fy;function nb(){if(fy)return ge;fy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function v(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function R(k,j,de){this.props=k,this.context=j,this.refs=N,this.updater=de||x}R.prototype.isReactComponent={},R.prototype.setState=function(k,j){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,j,"setState")},R.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function I(){}I.prototype=R.prototype;function M(k,j,de){this.props=k,this.context=j,this.refs=N,this.updater=de||x}var z=M.prototype=new I;z.constructor=M,C(z,R.prototype),z.isPureReactComponent=!0;var Z=Array.isArray,F=Object.prototype.hasOwnProperty,W={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function _e(k,j,de){var fe,me={},Ee=null,Ne=null;if(j!=null)for(fe in j.ref!==void 0&&(Ne=j.ref),j.key!==void 0&&(Ee=""+j.key),j)F.call(j,fe)&&!Q.hasOwnProperty(fe)&&(me[fe]=j[fe]);var Te=arguments.length-2;if(Te===1)me.children=de;else if(1<Te){for(var Me=Array(Te),Ct=0;Ct<Te;Ct++)Me[Ct]=arguments[Ct+2];me.children=Me}if(k&&k.defaultProps)for(fe in Te=k.defaultProps,Te)me[fe]===void 0&&(me[fe]=Te[fe]);return{$$typeof:t,type:k,key:Ee,ref:Ne,props:me,_owner:W.current}}function pe(k,j){return{$$typeof:t,type:k.type,key:j,ref:k.ref,props:k.props,_owner:k._owner}}function je(k){return typeof k=="object"&&k!==null&&k.$$typeof===t}function Se(k){var j={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(de){return j[de]})}var ot=/\/+/g;function Le(k,j){return typeof k=="object"&&k!==null&&k.key!=null?Se(""+k.key):j.toString(36)}function at(k,j,de,fe,me){var Ee=typeof k;(Ee==="undefined"||Ee==="boolean")&&(k=null);var Ne=!1;if(k===null)Ne=!0;else switch(Ee){case"string":case"number":Ne=!0;break;case"object":switch(k.$$typeof){case t:case e:Ne=!0}}if(Ne)return Ne=k,me=me(Ne),k=fe===""?"."+Le(Ne,0):fe,Z(me)?(de="",k!=null&&(de=k.replace(ot,"$&/")+"/"),at(me,j,de,"",function(Ct){return Ct})):me!=null&&(je(me)&&(me=pe(me,de+(!me.key||Ne&&Ne.key===me.key?"":(""+me.key).replace(ot,"$&/")+"/")+k)),j.push(me)),1;if(Ne=0,fe=fe===""?".":fe+":",Z(k))for(var Te=0;Te<k.length;Te++){Ee=k[Te];var Me=fe+Le(Ee,Te);Ne+=at(Ee,j,de,Me,me)}else if(Me=v(k),typeof Me=="function")for(k=Me.call(k),Te=0;!(Ee=k.next()).done;)Ee=Ee.value,Me=fe+Le(Ee,Te++),Ne+=at(Ee,j,de,Me,me);else if(Ee==="object")throw j=String(k),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return Ne}function Jt(k,j,de){if(k==null)return k;var fe=[],me=0;return at(k,fe,"","",function(Ee){return j.call(de,Ee,me++)}),fe}function St(k){if(k._status===-1){var j=k._result;j=j(),j.then(function(de){(k._status===0||k._status===-1)&&(k._status=1,k._result=de)},function(de){(k._status===0||k._status===-1)&&(k._status=2,k._result=de)}),k._status===-1&&(k._status=0,k._result=j)}if(k._status===1)return k._result.default;throw k._result}var Ge={current:null},q={transition:null},ie={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:q,ReactCurrentOwner:W};function Y(){throw Error("act(...) is not supported in production builds of React.")}return ge.Children={map:Jt,forEach:function(k,j,de){Jt(k,function(){j.apply(this,arguments)},de)},count:function(k){var j=0;return Jt(k,function(){j++}),j},toArray:function(k){return Jt(k,function(j){return j})||[]},only:function(k){if(!je(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},ge.Component=R,ge.Fragment=n,ge.Profiler=o,ge.PureComponent=M,ge.StrictMode=i,ge.Suspense=h,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,ge.act=Y,ge.cloneElement=function(k,j,de){if(k==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+k+".");var fe=C({},k.props),me=k.key,Ee=k.ref,Ne=k._owner;if(j!=null){if(j.ref!==void 0&&(Ee=j.ref,Ne=W.current),j.key!==void 0&&(me=""+j.key),k.type&&k.type.defaultProps)var Te=k.type.defaultProps;for(Me in j)F.call(j,Me)&&!Q.hasOwnProperty(Me)&&(fe[Me]=j[Me]===void 0&&Te!==void 0?Te[Me]:j[Me])}var Me=arguments.length-2;if(Me===1)fe.children=de;else if(1<Me){Te=Array(Me);for(var Ct=0;Ct<Me;Ct++)Te[Ct]=arguments[Ct+2];fe.children=Te}return{$$typeof:t,type:k.type,key:me,ref:Ee,props:fe,_owner:Ne}},ge.createContext=function(k){return k={$$typeof:u,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},k.Provider={$$typeof:a,_context:k},k.Consumer=k},ge.createElement=_e,ge.createFactory=function(k){var j=_e.bind(null,k);return j.type=k,j},ge.createRef=function(){return{current:null}},ge.forwardRef=function(k){return{$$typeof:d,render:k}},ge.isValidElement=je,ge.lazy=function(k){return{$$typeof:y,_payload:{_status:-1,_result:k},_init:St}},ge.memo=function(k,j){return{$$typeof:m,type:k,compare:j===void 0?null:j}},ge.startTransition=function(k){var j=q.transition;q.transition={};try{k()}finally{q.transition=j}},ge.unstable_act=Y,ge.useCallback=function(k,j){return Ge.current.useCallback(k,j)},ge.useContext=function(k){return Ge.current.useContext(k)},ge.useDebugValue=function(){},ge.useDeferredValue=function(k){return Ge.current.useDeferredValue(k)},ge.useEffect=function(k,j){return Ge.current.useEffect(k,j)},ge.useId=function(){return Ge.current.useId()},ge.useImperativeHandle=function(k,j,de){return Ge.current.useImperativeHandle(k,j,de)},ge.useInsertionEffect=function(k,j){return Ge.current.useInsertionEffect(k,j)},ge.useLayoutEffect=function(k,j){return Ge.current.useLayoutEffect(k,j)},ge.useMemo=function(k,j){return Ge.current.useMemo(k,j)},ge.useReducer=function(k,j,de){return Ge.current.useReducer(k,j,de)},ge.useRef=function(k){return Ge.current.useRef(k)},ge.useState=function(k){return Ge.current.useState(k)},ge.useSyncExternalStore=function(k,j,de){return Ge.current.useSyncExternalStore(k,j,de)},ge.useTransition=function(){return Ge.current.useTransition()},ge.version="18.3.1",ge}var hy;function ip(){return hy||(hy=1,Hf.exports=nb()),Hf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function rb(){if(py)return na;py=1;var t=ip(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var y,w={},v=null,x=null;m!==void 0&&(v=""+m),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(x=h.ref);for(y in h)i.call(h,y)&&!a.hasOwnProperty(y)&&(w[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)w[y]===void 0&&(w[y]=h[y]);return{$$typeof:e,type:d,key:v,ref:x,props:w,_owner:o.current}}return na.Fragment=n,na.jsx=u,na.jsxs=u,na}var my;function ib(){return my||(my=1,Vf.exports=rb()),Vf.exports}var _=ib(),b=ip();const Bi=to(b);var ra={},gy;function sb(){if(gy)return ra;gy=1,Object.defineProperty(ra,"__esModule",{value:!0}),ra.parse=u,ra.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,x){const C=new a,N=v.length;if(N<2)return C;const R=(x==null?void 0:x.decode)||y;let I=0;do{const M=v.indexOf("=",I);if(M===-1)break;const z=v.indexOf(";",I),Z=z===-1?N:z;if(M>Z){I=v.lastIndexOf(";",M-1)+1;continue}const F=d(v,I,M),W=h(v,M,F),Q=v.slice(F,W);if(C[Q]===void 0){let _e=d(v,M+1,Z),pe=h(v,Z,_e);const je=R(v.slice(_e,pe));C[Q]=je}I=Z+1}while(I<N);return C}function d(v,x,C){do{const N=v.charCodeAt(x);if(N!==32&&N!==9)return x}while(++x<C);return C}function h(v,x,C){for(;x>C;){const N=v.charCodeAt(--x);if(N!==32&&N!==9)return x+1}return C}function m(v,x,C){const N=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const R=N(x);if(!e.test(R))throw new TypeError(`argument val is invalid: ${x}`);let I=v+"="+R;if(!C)return I;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);I+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);I+="; Domain="+C.domain}if(C.path){if(!i.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);I+="; Path="+C.path}if(C.expires){if(!w(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);I+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(I+="; HttpOnly"),C.secure&&(I+="; Secure"),C.partitioned&&(I+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":I+="; Priority=Low";break;case"medium":I+="; Priority=Medium";break;case"high":I+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":I+="; SameSite=Strict";break;case"lax":I+="; SameSite=Lax";break;case"none":I+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return I}function y(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function w(v){return o.call(v)==="[object Date]"}return ra}sb();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var vy="popstate";function ob(t={}){function e(i,o){let{pathname:a,search:u,hash:d}=i.location;return Th("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:Ea(o)}return lb(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ab(){return Math.random().toString(36).substring(2,10)}function yy(t,e){return{usr:t.state,key:t.key,idx:e}}function Th(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?no(e):e,state:n,key:e&&e.key||i||ab()}}function Ea({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function no(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function lb(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,d="POP",h=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function w(){d="POP";let R=y(),I=R==null?null:R-m;m=R,h&&h({action:d,location:N.location,delta:I})}function v(R,I){d="PUSH";let M=Th(N.location,R,I);m=y()+1;let z=yy(M,m),Z=N.createHref(M);try{u.pushState(z,"",Z)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(Z)}a&&h&&h({action:d,location:N.location,delta:1})}function x(R,I){d="REPLACE";let M=Th(N.location,R,I);m=y();let z=yy(M,m),Z=N.createHref(M);u.replaceState(z,"",Z),a&&h&&h({action:d,location:N.location,delta:0})}function C(R){let I=o.location.origin!=="null"?o.location.origin:o.location.href,M=typeof R=="string"?R:Ea(R);return M=M.replace(/ $/,"%20"),Ze(I,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,I)}let N={get action(){return d},get location(){return t(o,u)},listen(R){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(vy,w),h=R,()=>{o.removeEventListener(vy,w),h=null}},createHref(R){return e(o,R)},createURL:C,encodeLocation(R){let I=C(R);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:v,replace:x,go(R){return u.go(R)}};return N}function B_(t,e,n="/"){return ub(t,e,n,!1)}function ub(t,e,n,i){let o=typeof e=="string"?no(e):e,a=ui(o.pathname||"/",n);if(a==null)return null;let u=z_(t);cb(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=Eb(a);d=wb(u[h],m,i)}return d}function z_(t,e=[],n=[],i=""){let o=(a,u,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(Ze(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let m=pr([i,h.relativePath]),y=n.concat(h);a.children&&a.children.length>0&&(Ze(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),z_(a.children,e,y,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:vb(m,a.index),routesMeta:y})};return t.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let h of V_(a.path))o(a,u,h)}),e}function V_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=V_(i.join("/")),d=[];return d.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&d.push(...u),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function cb(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yb(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var db=/^:[\w-]+$/,fb=3,hb=2,pb=1,mb=10,gb=-2,wy=t=>t==="*";function vb(t,e){let n=t.split("/"),i=n.length;return n.some(wy)&&(i+=gb),e&&(i+=hb),n.filter(o=>!wy(o)).reduce((o,a)=>o+(db.test(a)?fb:a===""?pb:mb),i)}function yb(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function wb(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",u=[];for(let d=0;d<i.length;++d){let h=i[d],m=d===i.length-1,y=a==="/"?e:e.slice(a.length)||"/",w=$u({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),v=h.route;if(!w&&m&&n&&!i[i.length-1].route.index&&(w=$u({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:pr([a,w.pathname]),pathnameBase:bb(pr([a,w.pathnameBase])),route:v}),w.pathnameBase!=="/"&&(a=pr([a,w.pathnameBase]))}return u}function $u(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=_b(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:w},v)=>{if(y==="*"){let C=d[v]||"";u=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const x=d[v];return w&&!x?m[y]=void 0:m[y]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:t}}function _b(t,e=!1,n=!0){qn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Eb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ui(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function xb(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?no(t):t;return{pathname:n?n.startsWith("/")?n:Sb(n,e):e,search:Tb(i),hash:Ib(o)}}function Sb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Wf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function H_(t){let e=Cb(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function W_(t,e,n,i=!1){let o;typeof t=="string"?o=no(t):(o={...t},Ze(!o.pathname||!o.pathname.includes("?"),Wf("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),Wf("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),Wf("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=n;else{let w=e.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),w-=1;o.pathname=v.join("/")}d=w>=0?e[w]:"/"}let h=xb(o,d),m=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var pr=t=>t.join("/").replace(/\/\/+/g,"/"),bb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Tb=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ib=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var q_=["POST","PUT","PATCH","DELETE"];new Set(q_);var Pb=["GET",...q_];new Set(Pb);var ro=b.createContext(null);ro.displayName="DataRouter";var Sc=b.createContext(null);Sc.displayName="DataRouterState";var G_=b.createContext({isTransitioning:!1});G_.displayName="ViewTransition";var Nb=b.createContext(new Map);Nb.displayName="Fetchers";var Rb=b.createContext(null);Rb.displayName="Await";var Yn=b.createContext(null);Yn.displayName="Navigation";var Ma=b.createContext(null);Ma.displayName="Location";var Er=b.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var sp=b.createContext(null);sp.displayName="RouteError";function Ab(t,{relative:e}={}){Ze(Fa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=b.useContext(Yn),{hash:o,pathname:a,search:u}=$a(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:pr([n,a])),i.createHref({pathname:d,search:u,hash:o})}function Fa(){return b.useContext(Ma)!=null}function pi(){return Ze(Fa(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Ma).location}var K_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Y_(t){b.useContext(Yn).static||b.useLayoutEffect(t)}function ja(){let{isDataRoute:t}=b.useContext(Er);return t?Wb():Ob()}function Ob(){Ze(Fa(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(ro),{basename:e,navigator:n}=b.useContext(Yn),{matches:i}=b.useContext(Er),{pathname:o}=pi(),a=JSON.stringify(H_(i)),u=b.useRef(!1);return Y_(()=>{u.current=!0}),b.useCallback((h,m={})=>{if(qn(u.current,K_),!u.current)return;if(typeof h=="number"){n.go(h);return}let y=W_(h,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:pr([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,a,o,t])}b.createContext(null);function $a(t,{relative:e}={}){let{matches:n}=b.useContext(Er),{pathname:i}=pi(),o=JSON.stringify(H_(n));return b.useMemo(()=>W_(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function Lb(t,e){return Q_(t,e)}function Q_(t,e,n,i){var I;Ze(Fa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=b.useContext(Yn),{matches:a}=b.useContext(Er),u=a[a.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let M=y&&y.path||"";X_(h,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let w=pi(),v;if(e){let M=typeof e=="string"?no(e):e;Ze(m==="/"||((I=M.pathname)==null?void 0:I.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=w;let x=v.pathname||"/",C=x;if(m!=="/"){let M=m.replace(/^\//,"").split("/");C="/"+x.replace(/^\//,"").split("/").slice(M.length).join("/")}let N=B_(t,{pathname:C});qn(y||N!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),qn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=$b(N&&N.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:pr([m,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:pr([m,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),a,n,i);return e&&R?b.createElement(Ma.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},R):R}function Db(){let t=Hb(),e=kb(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:o},n):null,u)}var Mb=b.createElement(Db,null),Fb=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?b.createElement(Er.Provider,{value:this.props.routeContext},b.createElement(sp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function jb({routeContext:t,match:e,children:n}){let i=b.useContext(ro);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Er.Provider,{value:t},n)}function $b(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let h=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Ze(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,d=-1;if(n)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:y,errors:w}=n,v=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||v){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,m,y)=>{let w,v=!1,x=null,C=null;n&&(w=a&&m.route.id?a[m.route.id]:void 0,x=m.route.errorElement||Mb,u&&(d<0&&y===0?(X_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,C=null):d===y&&(v=!0,C=m.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,y+1)),R=()=>{let I;return w?I=x:v?I=C:m.route.Component?I=b.createElement(m.route.Component,null):m.route.element?I=m.route.element:I=h,b.createElement(jb,{match:m,routeContext:{outlet:h,matches:N,isDataRoute:n!=null},children:I})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?b.createElement(Fb,{location:n.location,revalidation:n.revalidation,component:x,error:w,children:R(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):R()},null)}function op(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ub(t){let e=b.useContext(ro);return Ze(e,op(t)),e}function Bb(t){let e=b.useContext(Sc);return Ze(e,op(t)),e}function zb(t){let e=b.useContext(Er);return Ze(e,op(t)),e}function ap(t){let e=zb(t),n=e.matches[e.matches.length-1];return Ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Vb(){return ap("useRouteId")}function Hb(){var i;let t=b.useContext(sp),e=Bb("useRouteError"),n=ap("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function Wb(){let{router:t}=Ub("useNavigate"),e=ap("useNavigate"),n=b.useRef(!1);return Y_(()=>{n.current=!0}),b.useCallback(async(o,a={})=>{qn(n.current,K_),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var _y={};function X_(t,e,n){!e&&!_y[t]&&(_y[t]=!0,qn(!1,n))}b.memo(qb);function qb({routes:t,future:e,state:n}){return Q_(t,void 0,n,e)}function Ds(t){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Gb({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1}){Ze(!Fa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=no(n));let{pathname:h="/",search:m="",hash:y="",state:w=null,key:v="default"}=n,x=b.useMemo(()=>{let C=ui(h,u);return C==null?null:{location:{pathname:C,search:m,hash:y,state:w,key:v},navigationType:i}},[u,h,m,y,w,v,i]);return qn(x!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:b.createElement(Yn.Provider,{value:d},b.createElement(Ma.Provider,{children:e,value:x}))}function Kb({children:t,location:e}){return Lb(Ih(t),e)}function Ih(t,e=[]){let n=[];return b.Children.forEach(t,(i,o)=>{if(!b.isValidElement(i))return;let a=[...e,o];if(i.type===b.Fragment){n.push.apply(n,Ih(i.props.children,a));return}Ze(i.type===Ds,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ih(i.props.children,a)),n.push(u)}),n}var ku="get",Pu="application/x-www-form-urlencoded";function Cc(t){return t!=null&&typeof t.tagName=="string"}function Yb(t){return Cc(t)&&t.tagName.toLowerCase()==="button"}function Qb(t){return Cc(t)&&t.tagName.toLowerCase()==="form"}function Xb(t){return Cc(t)&&t.tagName.toLowerCase()==="input"}function Jb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Zb(t,e){return t.button===0&&(!e||e==="_self")&&!Jb(t)}var wu=null;function e2(){if(wu===null)try{new FormData(document.createElement("form"),0),wu=!1}catch{wu=!0}return wu}var t2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qf(t){return t!=null&&!t2.has(t)?(qn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pu}"`),null):t}function n2(t,e){let n,i,o,a,u;if(Qb(t)){let d=t.getAttribute("action");i=d?ui(d,e):null,n=t.getAttribute("method")||ku,o=qf(t.getAttribute("enctype"))||Pu,a=new FormData(t)}else if(Yb(t)||Xb(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(i=h?ui(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||ku,o=qf(t.getAttribute("formenctype"))||qf(d.getAttribute("enctype"))||Pu,a=new FormData(d,t),!e2()){let{name:m,type:y,value:w}=t;if(y==="image"){let v=m?`${m}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else m&&a.append(m,w)}}else{if(Cc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ku,i=null,o=Pu,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:u}}function lp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function r2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function i2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function s2(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await r2(a,n);return u.links?u.links():[]}return[]}));return u2(i.flat(1).filter(i2).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Ey(t,e,n,i,o,a){let u=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,d=(h,m)=>{var y;return n[m].pathname!==h.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,m)=>u(h,m)||d(h,m)):a==="data"?e.filter((h,m)=>{var w;let y=i.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function o2(t,e){return a2(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function a2(t){return[...new Set(t)]}function l2(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function u2(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(l2(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function c2(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function d2(){let t=b.useContext(ro);return lp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function f2(){let t=b.useContext(Sc);return lp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var up=b.createContext(void 0);up.displayName="FrameworkContext";function J_(){let t=b.useContext(up);return lp(t,"You must render this element inside a <HydratedRouter> element"),t}function h2(t,e){let n=b.useContext(up),[i,o]=b.useState(!1),[a,u]=b.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:w}=e,v=b.useRef(null);b.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let N=I=>{I.forEach(M=>{u(M.isIntersecting)})},R=new IntersectionObserver(N,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[t]),b.useEffect(()=>{if(i){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[i]);let x=()=>{o(!0)},C=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:ia(d,x),onBlur:ia(h,C),onMouseEnter:ia(m,x),onMouseLeave:ia(y,C),onTouchStart:ia(w,x)}]:[!1,v,{}]}function ia(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function p2({page:t,...e}){let{router:n}=d2(),i=b.useMemo(()=>B_(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?b.createElement(g2,{page:t,matches:i,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function m2(t){let{manifest:e,routeModules:n}=J_(),[i,o]=b.useState([]);return b.useEffect(()=>{let a=!1;return s2(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),i}function g2({page:t,matches:e,...n}){let i=pi(),{manifest:o,routeModules:a}=J_(),{loaderData:u,matches:d}=f2(),h=b.useMemo(()=>Ey(t,e,d,o,i,"data"),[t,e,d,o,i]),m=b.useMemo(()=>Ey(t,e,d,o,i,"assets"),[t,e,d,o,i]),y=b.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let x=new Set,C=!1;if(e.forEach(R=>{var M;let I=o.routes[R.route.id];!I||!I.hasLoader||(!h.some(z=>z.route.id===R.route.id)&&R.route.id in u&&((M=a[R.route.id])!=null&&M.shouldRevalidate)||I.hasClientLoader?C=!0:x.add(R.route.id))}),x.size===0)return[];let N=c2(t);return C&&x.size>0&&N.searchParams.set("_routes",e.filter(R=>x.has(R.route.id)).map(R=>R.route.id).join(",")),[N.pathname+N.search]},[u,i,o,h,e,t,a]),w=b.useMemo(()=>o2(m,o),[m,o]),v=m2(m);return b.createElement(b.Fragment,null,y.map(x=>b.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),w.map(x=>b.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),v.map(({key:x,link:C})=>b.createElement("link",{key:x,...C})))}function v2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Z_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Z_&&(window.__reactRouterVersion="7.0.2")}catch{}function y2({basename:t,children:e,window:n}){let i=b.useRef();i.current==null&&(i.current=ob({window:n,v5Compat:!0}));let o=i.current,[a,u]=b.useState({action:o.action,location:o.location}),d=b.useCallback(h=>{b.startTransition(()=>u(h))},[u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.createElement(Gb,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var e0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ua=b.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:d,target:h,to:m,preventScrollReset:y,viewTransition:w,...v},x){let{basename:C}=b.useContext(Yn),N=typeof m=="string"&&e0.test(m),R,I=!1;if(typeof m=="string"&&N&&(R=m,Z_))try{let pe=new URL(window.location.href),je=m.startsWith("//")?new URL(pe.protocol+m):new URL(m),Se=ui(je.pathname,C);je.origin===pe.origin&&Se!=null?m=Se+je.search+je.hash:I=!0}catch{qn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=Ab(m,{relative:o}),[z,Z,F]=h2(i,v),W=E2(m,{replace:u,state:d,target:h,preventScrollReset:y,relative:o,viewTransition:w});function Q(pe){e&&e(pe),pe.defaultPrevented||W(pe)}let _e=b.createElement("a",{...v,...F,href:R||M,onClick:I||a?e:Q,ref:v2(x,Z),target:h,"data-discover":!N&&n==="render"?"true":void 0});return z&&!N?b.createElement(b.Fragment,null,_e,b.createElement(p2,{page:M})):_e});Ua.displayName="Link";var kn=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:d,children:h,...m},y){let w=$a(u,{relative:m.relative}),v=pi(),x=b.useContext(Sc),{navigator:C,basename:N}=b.useContext(Yn),R=x!=null&&T2(w)&&d===!0,I=C.encodeLocation?C.encodeLocation(w).pathname:w.pathname,M=v.pathname,z=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(M=M.toLowerCase(),z=z?z.toLowerCase():null,I=I.toLowerCase()),z&&N&&(z=ui(z,N)||z);const Z=I!=="/"&&I.endsWith("/")?I.length-1:I.length;let F=M===I||!o&&M.startsWith(I)&&M.charAt(Z)==="/",W=z!=null&&(z===I||!o&&z.startsWith(I)&&z.charAt(I.length)==="/"),Q={isActive:F,isPending:W,isTransitioning:R},_e=F?e:void 0,pe;typeof i=="function"?pe=i(Q):pe=[i,F?"active":null,W?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let je=typeof a=="function"?a(Q):a;return b.createElement(Ua,{...m,"aria-current":_e,className:pe,ref:y,style:je,to:u,viewTransition:d},typeof h=="function"?h(Q):h)});kn.displayName="NavLink";var w2=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:u=ku,action:d,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:w,...v},x)=>{let C=C2(),N=b2(d,{relative:m}),R=u.toLowerCase()==="get"?"get":"post",I=typeof d=="string"&&e0.test(d),M=z=>{if(h&&h(z),z.defaultPrevented)return;z.preventDefault();let Z=z.nativeEvent.submitter,F=(Z==null?void 0:Z.getAttribute("formmethod"))||u;C(Z||z.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:o,state:a,relative:m,preventScrollReset:y,viewTransition:w})};return b.createElement("form",{ref:x,method:R,action:N,onSubmit:i?h:M,...v,"data-discover":!I&&t==="render"?"true":void 0})});w2.displayName="Form";function _2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function t0(t){let e=b.useContext(ro);return Ze(e,_2(t)),e}function E2(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let d=ja(),h=pi(),m=$a(t,{relative:a});return b.useCallback(y=>{if(Zb(y,e)){y.preventDefault();let w=n!==void 0?n:Ea(h)===Ea(m);d(t,{replace:w,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[h,d,m,n,i,e,t,o,a,u])}var x2=0,S2=()=>`__${String(++x2)}__`;function C2(){let{router:t}=t0("useSubmit"),{basename:e}=b.useContext(Yn),n=Vb();return b.useCallback(async(i,o={})=>{let{action:a,method:u,encType:d,formData:h,body:m}=n2(i,e);if(o.navigate===!1){let y=o.fetcherKey||S2();await t.fetch(y,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function b2(t,{relative:e}={}){let{basename:n}=b.useContext(Yn),i=b.useContext(Er);Ze(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...$a(t||".",{relative:e})},u=pi();if(t==null){a.search=u.search;let d=new URLSearchParams(a.search),h=d.getAll("index");if(h.some(y=>y==="")){d.delete("index"),h.filter(w=>w).forEach(w=>d.append("index",w));let y=d.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:pr([n,a.pathname])),Ea(a)}function T2(t,e={}){let n=b.useContext(G_);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=t0("useViewTransitionState"),o=$a(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=ui(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=ui(n.nextLocation.pathname,i)||n.nextLocation.pathname;return $u(o.pathname,u)!=null||$u(o.pathname,a)!=null}new TextEncoder;var Gf={exports:{}},Bt={},Kf={exports:{}},Yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function I2(){return xy||(xy=1,function(t){function e(q,ie){var Y=q.length;q.push(ie);e:for(;0<Y;){var k=Y-1>>>1,j=q[k];if(0<o(j,ie))q[k]=ie,q[Y]=j,Y=k;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var ie=q[0],Y=q.pop();if(Y!==ie){q[0]=Y;e:for(var k=0,j=q.length,de=j>>>1;k<de;){var fe=2*(k+1)-1,me=q[fe],Ee=fe+1,Ne=q[Ee];if(0>o(me,Y))Ee<j&&0>o(Ne,me)?(q[k]=Ne,q[Ee]=Y,k=Ee):(q[k]=me,q[fe]=Y,k=fe);else if(Ee<j&&0>o(Ne,Y))q[k]=Ne,q[Ee]=Y,k=Ee;else break e}}return ie}function o(q,ie){var Y=q.sortIndex-ie.sortIndex;return Y!==0?Y:q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],m=[],y=1,w=null,v=3,x=!1,C=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(q){for(var ie=n(m);ie!==null;){if(ie.callback===null)i(m);else if(ie.startTime<=q)i(m),ie.sortIndex=ie.expirationTime,e(h,ie);else break;ie=n(m)}}function Z(q){if(N=!1,z(q),!C)if(n(h)!==null)C=!0,St(F);else{var ie=n(m);ie!==null&&Ge(Z,ie.startTime-q)}}function F(q,ie){C=!1,N&&(N=!1,I(_e),_e=-1),x=!0;var Y=v;try{for(z(ie),w=n(h);w!==null&&(!(w.expirationTime>ie)||q&&!Se());){var k=w.callback;if(typeof k=="function"){w.callback=null,v=w.priorityLevel;var j=k(w.expirationTime<=ie);ie=t.unstable_now(),typeof j=="function"?w.callback=j:w===n(h)&&i(h),z(ie)}else i(h);w=n(h)}if(w!==null)var de=!0;else{var fe=n(m);fe!==null&&Ge(Z,fe.startTime-ie),de=!1}return de}finally{w=null,v=Y,x=!1}}var W=!1,Q=null,_e=-1,pe=5,je=-1;function Se(){return!(t.unstable_now()-je<pe)}function ot(){if(Q!==null){var q=t.unstable_now();je=q;var ie=!0;try{ie=Q(!0,q)}finally{ie?Le():(W=!1,Q=null)}}else W=!1}var Le;if(typeof M=="function")Le=function(){M(ot)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,Jt=at.port2;at.port1.onmessage=ot,Le=function(){Jt.postMessage(null)}}else Le=function(){R(ot,0)};function St(q){Q=q,W||(W=!0,Le())}function Ge(q,ie){_e=R(function(){q(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){C||x||(C=!0,St(F))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(q){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var Y=v;v=ie;try{return q()}finally{v=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Y=v;v=q;try{return ie()}finally{v=Y}},t.unstable_scheduleCallback=function(q,ie,Y){var k=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?k+Y:k):Y=k,q){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Y+j,q={id:y++,callback:ie,priorityLevel:q,startTime:Y,expirationTime:j,sortIndex:-1},Y>k?(q.sortIndex=Y,e(m,q),n(h)===null&&q===n(m)&&(N?(I(_e),_e=-1):N=!0,Ge(Z,Y-k))):(q.sortIndex=j,e(h,q),C||x||(C=!0,St(F))),q},t.unstable_shouldYield=Se,t.unstable_wrapCallback=function(q){var ie=v;return function(){var Y=v;v=ie;try{return q.apply(this,arguments)}finally{v=Y}}}}(Yf)),Yf}var Sy;function k2(){return Sy||(Sy=1,Kf.exports=I2()),Kf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function P2(){if(Cy)return Bt;Cy=1;var t=ip(),e=k2();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function v(r){return h.call(w,r)?!0:h.call(y,r)?!1:m.test(r)?w[r]=!0:(y[r]=!0,!1)}function x(r,s,l,c){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function C(r,s,l,c){if(s===null||typeof s>"u"||x(r,s,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function N(r,s,l,c,f,p,g){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=p,this.removeEmptyString=g}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){R[r]=new N(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];R[s]=new N(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){R[r]=new N(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){R[r]=new N(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){R[r]=new N(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){R[r]=new N(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){R[r]=new N(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){R[r]=new N(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){R[r]=new N(r,5,!1,r.toLowerCase(),null,!1,!1)});var I=/[\-:]([a-z])/g;function M(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(I,M);R[s]=new N(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(I,M);R[s]=new N(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(I,M);R[s]=new N(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){R[r]=new N(r,1,!1,r.toLowerCase(),null,!1,!1)}),R.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){R[r]=new N(r,1,!1,r.toLowerCase(),null,!0,!0)});function z(r,s,l,c){var f=R.hasOwnProperty(s)?R[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(C(s,l,f,c)&&(l=null),c||f===null?v(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,c=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,c?r.setAttributeNS(c,s,l):r.setAttribute(s,l))))}var Z=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),W=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),je=Symbol.for("react.provider"),Se=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),Jt=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),Ge=Symbol.for("react.offscreen"),q=Symbol.iterator;function ie(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var Y=Object.assign,k;function j(r){if(k===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);k=s&&s[1]||""}return`
`+k+r}var de=!1;function fe(r,s){if(!r||de)return"";de=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(O){var c=O}Reflect.construct(r,[],s)}else{try{s.call()}catch(O){c=O}r.call(s.prototype)}else{try{throw Error()}catch(O){c=O}r()}}catch(O){if(O&&c&&typeof O.stack=="string"){for(var f=O.stack.split(`
`),p=c.stack.split(`
`),g=f.length-1,E=p.length-1;1<=g&&0<=E&&f[g]!==p[E];)E--;for(;1<=g&&0<=E;g--,E--)if(f[g]!==p[E]){if(g!==1||E!==1)do if(g--,E--,0>E||f[g]!==p[E]){var S=`
`+f[g].replace(" at new "," at ");return r.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",r.displayName)),S}while(1<=g&&0<=E);break}}}finally{de=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?j(r):""}function me(r){switch(r.tag){case 5:return j(r.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return r=fe(r.type,!1),r;case 11:return r=fe(r.type.render,!1),r;case 1:return r=fe(r.type,!0),r;default:return""}}function Ee(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Q:return"Fragment";case W:return"Portal";case pe:return"Profiler";case _e:return"StrictMode";case Le:return"Suspense";case at:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Se:return(r.displayName||"Context")+".Consumer";case je:return(r._context.displayName||"Context")+".Provider";case ot:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Jt:return s=r.displayName||null,s!==null?s:Ee(r.type)||"Memo";case St:s=r._payload,r=r._init;try{return Ee(r(s))}catch{}}return null}function Ne(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(s);case 8:return s===_e?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Te(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Me(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ct(r){var s=Me(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(g){c=""+g,p.call(this,g)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(g){c=""+g},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Tr(r){r._valueTracker||(r._valueTracker=Ct(r))}function ll(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return r&&(c=Me(r)?r.checked?"true":"false":r.value),r=c,r!==l?(s.setValue(r),!0):!1}function yi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function vo(r,s){var l=s.checked;return Y({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function ul(r,s){var l=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;l=Te(s.value!=null?s.value:l),r._wrapperState={initialChecked:c,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function cl(r,s){s=s.checked,s!=null&&z(r,"checked",s,!1)}function yo(r,s){cl(r,s);var l=Te(s.value),c=s.type;if(l!=null)c==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?wi(r,s.type,l):s.hasOwnProperty("defaultValue")&&wi(r,s.type,Te(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function dl(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function wi(r,s,l){(s!=="number"||yi(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var _i=Array.isArray;function Ir(r,s,l,c){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&c&&(r[l].defaultSelected=!0)}else{for(l=""+Te(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function L(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function K(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(_i(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Te(l)}}function te(r,s){var l=Te(s.value),c=Te(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),c!=null&&(r.defaultValue=""+c)}function re(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function he(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ce(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?he(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Qe,un=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,c,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,c,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Qe=Qe||document.createElement("div"),Qe.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Qe.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Xn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xc=["Webkit","ms","Moz","O"];Object.keys(Jn).forEach(function(r){Xc.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Jn[s]=Jn[r]})});function Jc(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Jn.hasOwnProperty(r)&&Jn[r]?(""+s).trim():s+"px"}function wo(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var c=l.indexOf("--")===0,f=Jc(l,s[l],c);l==="float"&&(l="cssFloat"),c?r.setProperty(l,f):r[l]=f}}var Zc=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ed(r,s){if(s){if(Zc[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function td(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nd=null;function rd(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var id=null,us=null,cs=null;function Pm(r){if(r=Bo(r)){if(typeof id!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Ll(s),id(r.stateNode,r.type,s))}}function Nm(r){us?cs?cs.push(r):cs=[r]:us=r}function Rm(){if(us){var r=us,s=cs;if(cs=us=null,Pm(r),s)for(r=0;r<s.length;r++)Pm(s[r])}}function Am(r,s){return r(s)}function Om(){}var sd=!1;function Lm(r,s,l){if(sd)return r(s,l);sd=!0;try{return Am(r,s,l)}finally{sd=!1,(us!==null||cs!==null)&&(Om(),Rm())}}function _o(r,s){var l=r.stateNode;if(l===null)return null;var c=Ll(l);if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var od=!1;if(d)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){od=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{od=!1}function aS(r,s,l,c,f,p,g,E,S){var O=Array.prototype.slice.call(arguments,3);try{s.apply(l,O)}catch(U){this.onError(U)}}var xo=!1,fl=null,hl=!1,ad=null,lS={onError:function(r){xo=!0,fl=r}};function uS(r,s,l,c,f,p,g,E,S){xo=!1,fl=null,aS.apply(lS,arguments)}function cS(r,s,l,c,f,p,g,E,S){if(uS.apply(this,arguments),xo){if(xo){var O=fl;xo=!1,fl=null}else throw Error(n(198));hl||(hl=!0,ad=O)}}function Ei(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Dm(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Mm(r){if(Ei(r)!==r)throw Error(n(188))}function dS(r){var s=r.alternate;if(!s){if(s=Ei(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,c=s;;){var f=l.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){l=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===l)return Mm(f),r;if(p===c)return Mm(f),s;p=p.sibling}throw Error(n(188))}if(l.return!==c.return)l=f,c=p;else{for(var g=!1,E=f.child;E;){if(E===l){g=!0,l=f,c=p;break}if(E===c){g=!0,c=f,l=p;break}E=E.sibling}if(!g){for(E=p.child;E;){if(E===l){g=!0,l=p,c=f;break}if(E===c){g=!0,c=p,l=f;break}E=E.sibling}if(!g)throw Error(n(189))}}if(l.alternate!==c)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function Fm(r){return r=dS(r),r!==null?jm(r):null}function jm(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=jm(r);if(s!==null)return s;r=r.sibling}return null}var $m=e.unstable_scheduleCallback,Um=e.unstable_cancelCallback,fS=e.unstable_shouldYield,hS=e.unstable_requestPaint,nt=e.unstable_now,pS=e.unstable_getCurrentPriorityLevel,ld=e.unstable_ImmediatePriority,Bm=e.unstable_UserBlockingPriority,pl=e.unstable_NormalPriority,mS=e.unstable_LowPriority,zm=e.unstable_IdlePriority,ml=null,Dn=null;function gS(r){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(ml,r,void 0,(r.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:wS,vS=Math.log,yS=Math.LN2;function wS(r){return r>>>=0,r===0?32:31-(vS(r)/yS|0)|0}var gl=64,vl=4194304;function So(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function yl(r,s){var l=r.pendingLanes;if(l===0)return 0;var c=0,f=r.suspendedLanes,p=r.pingedLanes,g=l&268435455;if(g!==0){var E=g&~f;E!==0?c=So(E):(p&=g,p!==0&&(c=So(p)))}else g=l&~f,g!==0?c=So(g):p!==0&&(c=So(p));if(c===0)return 0;if(s!==0&&s!==c&&!(s&f)&&(f=c&-c,p=s&-s,f>=p||f===16&&(p&4194240)!==0))return s;if(c&4&&(c|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)l=31-En(s),f=1<<l,c|=r[l],s&=~f;return c}function _S(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ES(r,s){for(var l=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes;0<p;){var g=31-En(p),E=1<<g,S=f[g];S===-1?(!(E&l)||E&c)&&(f[g]=_S(E,s)):S<=s&&(r.expiredLanes|=E),p&=~E}}function ud(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Vm(){var r=gl;return gl<<=1,!(gl&4194240)&&(gl=64),r}function cd(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Co(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-En(s),r[s]=l}function xS(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-En(l),p=1<<f;s[f]=0,c[f]=-1,r[f]=-1,l&=~p}}function dd(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var c=31-En(l),f=1<<c;f&s|r[c]&s&&(r[c]|=s),l&=~f}}var Ae=0;function Hm(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Wm,fd,qm,Gm,Km,hd=!1,wl=[],kr=null,Pr=null,Nr=null,bo=new Map,To=new Map,Rr=[],SS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ym(r,s){switch(r){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":bo.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":To.delete(s.pointerId)}}function Io(r,s,l,c,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},s!==null&&(s=Bo(s),s!==null&&fd(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function CS(r,s,l,c,f){switch(s){case"focusin":return kr=Io(kr,r,s,l,c,f),!0;case"dragenter":return Pr=Io(Pr,r,s,l,c,f),!0;case"mouseover":return Nr=Io(Nr,r,s,l,c,f),!0;case"pointerover":var p=f.pointerId;return bo.set(p,Io(bo.get(p)||null,r,s,l,c,f)),!0;case"gotpointercapture":return p=f.pointerId,To.set(p,Io(To.get(p)||null,r,s,l,c,f)),!0}return!1}function Qm(r){var s=xi(r.target);if(s!==null){var l=Ei(s);if(l!==null){if(s=l.tag,s===13){if(s=Dm(l),s!==null){r.blockedOn=s,Km(r.priority,function(){qm(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function _l(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=md(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);nd=c,l.target.dispatchEvent(c),nd=null}else return s=Bo(l),s!==null&&fd(s),r.blockedOn=l,!1;s.shift()}return!0}function Xm(r,s,l){_l(r)&&l.delete(s)}function bS(){hd=!1,kr!==null&&_l(kr)&&(kr=null),Pr!==null&&_l(Pr)&&(Pr=null),Nr!==null&&_l(Nr)&&(Nr=null),bo.forEach(Xm),To.forEach(Xm)}function ko(r,s){r.blockedOn===s&&(r.blockedOn=null,hd||(hd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,bS)))}function Po(r){function s(f){return ko(f,r)}if(0<wl.length){ko(wl[0],r);for(var l=1;l<wl.length;l++){var c=wl[l];c.blockedOn===r&&(c.blockedOn=null)}}for(kr!==null&&ko(kr,r),Pr!==null&&ko(Pr,r),Nr!==null&&ko(Nr,r),bo.forEach(s),To.forEach(s),l=0;l<Rr.length;l++)c=Rr[l],c.blockedOn===r&&(c.blockedOn=null);for(;0<Rr.length&&(l=Rr[0],l.blockedOn===null);)Qm(l),l.blockedOn===null&&Rr.shift()}var ds=Z.ReactCurrentBatchConfig,El=!0;function TS(r,s,l,c){var f=Ae,p=ds.transition;ds.transition=null;try{Ae=1,pd(r,s,l,c)}finally{Ae=f,ds.transition=p}}function IS(r,s,l,c){var f=Ae,p=ds.transition;ds.transition=null;try{Ae=4,pd(r,s,l,c)}finally{Ae=f,ds.transition=p}}function pd(r,s,l,c){if(El){var f=md(r,s,l,c);if(f===null)Ad(r,s,c,xl,l),Ym(r,c);else if(CS(f,r,s,l,c))c.stopPropagation();else if(Ym(r,c),s&4&&-1<SS.indexOf(r)){for(;f!==null;){var p=Bo(f);if(p!==null&&Wm(p),p=md(r,s,l,c),p===null&&Ad(r,s,c,xl,l),p===f)break;f=p}f!==null&&c.stopPropagation()}else Ad(r,s,c,null,l)}}var xl=null;function md(r,s,l,c){if(xl=null,r=rd(c),r=xi(r),r!==null)if(s=Ei(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Dm(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return xl=r,null}function Jm(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pS()){case ld:return 1;case Bm:return 4;case pl:case mS:return 16;case zm:return 536870912;default:return 16}default:return 16}}var Ar=null,gd=null,Sl=null;function Zm(){if(Sl)return Sl;var r,s=gd,l=s.length,c,f="value"in Ar?Ar.value:Ar.textContent,p=f.length;for(r=0;r<l&&s[r]===f[r];r++);var g=l-r;for(c=1;c<=g&&s[l-c]===f[p-c];c++);return Sl=f.slice(r,1<c?1-c:void 0)}function Cl(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function bl(){return!0}function eg(){return!1}function Zt(r){function s(l,c,f,p,g){this._reactName=l,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=g,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(l=r[E],this[E]=l?l(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?bl:eg,this.isPropagationStopped=eg,this}return Y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bl)},persist:function(){},isPersistent:bl}),s}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vd=Zt(fs),No=Y({},fs,{view:0,detail:0}),kS=Zt(No),yd,wd,Ro,Tl=Y({},No,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ed,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ro&&(Ro&&r.type==="mousemove"?(yd=r.screenX-Ro.screenX,wd=r.screenY-Ro.screenY):wd=yd=0,Ro=r),yd)},movementY:function(r){return"movementY"in r?r.movementY:wd}}),tg=Zt(Tl),PS=Y({},Tl,{dataTransfer:0}),NS=Zt(PS),RS=Y({},No,{relatedTarget:0}),_d=Zt(RS),AS=Y({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),OS=Zt(AS),LS=Y({},fs,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),DS=Zt(LS),MS=Y({},fs,{data:0}),ng=Zt(MS),FS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$S={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function US(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=$S[r])?!!s[r]:!1}function Ed(){return US}var BS=Y({},No,{key:function(r){if(r.key){var s=FS[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Cl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?jS[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ed,charCode:function(r){return r.type==="keypress"?Cl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Cl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),zS=Zt(BS),VS=Y({},Tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rg=Zt(VS),HS=Y({},No,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ed}),WS=Zt(HS),qS=Y({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),GS=Zt(qS),KS=Y({},Tl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),YS=Zt(KS),QS=[9,13,27,32],xd=d&&"CompositionEvent"in window,Ao=null;d&&"documentMode"in document&&(Ao=document.documentMode);var XS=d&&"TextEvent"in window&&!Ao,ig=d&&(!xd||Ao&&8<Ao&&11>=Ao),sg=" ",og=!1;function ag(r,s){switch(r){case"keyup":return QS.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var hs=!1;function JS(r,s){switch(r){case"compositionend":return lg(s);case"keypress":return s.which!==32?null:(og=!0,sg);case"textInput":return r=s.data,r===sg&&og?null:r;default:return null}}function ZS(r,s){if(hs)return r==="compositionend"||!xd&&ag(r,s)?(r=Zm(),Sl=gd=Ar=null,hs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ig&&s.locale!=="ko"?null:s.data;default:return null}}var eC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!eC[r.type]:s==="textarea"}function cg(r,s,l,c){Nm(c),s=Rl(s,"onChange"),0<s.length&&(l=new vd("onChange","change",null,l,c),r.push({event:l,listeners:s}))}var Oo=null,Lo=null;function tC(r){kg(r,0)}function Il(r){var s=ys(r);if(ll(s))return r}function nC(r,s){if(r==="change")return s}var dg=!1;if(d){var Sd;if(d){var Cd="oninput"in document;if(!Cd){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),Cd=typeof fg.oninput=="function"}Sd=Cd}else Sd=!1;dg=Sd&&(!document.documentMode||9<document.documentMode)}function hg(){Oo&&(Oo.detachEvent("onpropertychange",pg),Lo=Oo=null)}function pg(r){if(r.propertyName==="value"&&Il(Lo)){var s=[];cg(s,Lo,r,rd(r)),Lm(tC,s)}}function rC(r,s,l){r==="focusin"?(hg(),Oo=s,Lo=l,Oo.attachEvent("onpropertychange",pg)):r==="focusout"&&hg()}function iC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Il(Lo)}function sC(r,s){if(r==="click")return Il(s)}function oC(r,s){if(r==="input"||r==="change")return Il(s)}function aC(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var xn=typeof Object.is=="function"?Object.is:aC;function Do(r,s){if(xn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var f=l[c];if(!h.call(s,f)||!xn(r[f],s[f]))return!1}return!0}function mg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function gg(r,s){var l=mg(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=s&&c>=s)return{node:l,offset:s-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=mg(l)}}function vg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?vg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function yg(){for(var r=window,s=yi();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=yi(r.document)}return s}function bd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function lC(r){var s=yg(),l=r.focusedElem,c=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&vg(l.ownerDocument.documentElement,l)){if(c!==null&&bd(l)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,p=Math.min(c.start,f);c=c.end===void 0?p:Math.min(c.end,f),!r.extend&&p>c&&(f=c,c=p,p=f),f=gg(l,p);var g=gg(l,c);f&&g&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==g.node||r.focusOffset!==g.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),p>c?(r.addRange(s),r.extend(g.node,g.offset)):(s.setEnd(g.node,g.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var uC=d&&"documentMode"in document&&11>=document.documentMode,ps=null,Td=null,Mo=null,Id=!1;function wg(r,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Id||ps==null||ps!==yi(c)||(c=ps,"selectionStart"in c&&bd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Mo&&Do(Mo,c)||(Mo=c,c=Rl(Td,"onSelect"),0<c.length&&(s=new vd("onSelect","select",null,s,l),r.push({event:s,listeners:c}),s.target=ps)))}function kl(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var ms={animationend:kl("Animation","AnimationEnd"),animationiteration:kl("Animation","AnimationIteration"),animationstart:kl("Animation","AnimationStart"),transitionend:kl("Transition","TransitionEnd")},kd={},_g={};d&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete ms.animationend.animation,delete ms.animationiteration.animation,delete ms.animationstart.animation),"TransitionEvent"in window||delete ms.transitionend.transition);function Pl(r){if(kd[r])return kd[r];if(!ms[r])return r;var s=ms[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in _g)return kd[r]=s[l];return r}var Eg=Pl("animationend"),xg=Pl("animationiteration"),Sg=Pl("animationstart"),Cg=Pl("transitionend"),bg=new Map,Tg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(r,s){bg.set(r,s),a(s,[r])}for(var Pd=0;Pd<Tg.length;Pd++){var Nd=Tg[Pd],cC=Nd.toLowerCase(),dC=Nd[0].toUpperCase()+Nd.slice(1);Or(cC,"on"+dC)}Or(Eg,"onAnimationEnd"),Or(xg,"onAnimationIteration"),Or(Sg,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Cg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fo));function Ig(r,s,l){var c=r.type||"unknown-event";r.currentTarget=l,cS(c,s,void 0,r),r.currentTarget=null}function kg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],f=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var g=c.length-1;0<=g;g--){var E=c[g],S=E.instance,O=E.currentTarget;if(E=E.listener,S!==p&&f.isPropagationStopped())break e;Ig(f,E,O),p=S}else for(g=0;g<c.length;g++){if(E=c[g],S=E.instance,O=E.currentTarget,E=E.listener,S!==p&&f.isPropagationStopped())break e;Ig(f,E,O),p=S}}}if(hl)throw r=ad,hl=!1,ad=null,r}function Ve(r,s){var l=s[jd];l===void 0&&(l=s[jd]=new Set);var c=r+"__bubble";l.has(c)||(Pg(s,r,2,!1),l.add(c))}function Rd(r,s,l){var c=0;s&&(c|=4),Pg(l,r,c,s)}var Nl="_reactListening"+Math.random().toString(36).slice(2);function jo(r){if(!r[Nl]){r[Nl]=!0,i.forEach(function(l){l!=="selectionchange"&&(fC.has(l)||Rd(l,!1,r),Rd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Nl]||(s[Nl]=!0,Rd("selectionchange",!1,s))}}function Pg(r,s,l,c){switch(Jm(s)){case 1:var f=TS;break;case 4:f=IS;break;default:f=pd}l=f.bind(null,s,l,r),f=void 0,!od||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function Ad(r,s,l,c,f){var p=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var g=c.tag;if(g===3||g===4){var E=c.stateNode.containerInfo;if(E===f||E.nodeType===8&&E.parentNode===f)break;if(g===4)for(g=c.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===f||S.nodeType===8&&S.parentNode===f))return;g=g.return}for(;E!==null;){if(g=xi(E),g===null)return;if(S=g.tag,S===5||S===6){c=p=g;continue e}E=E.parentNode}}c=c.return}Lm(function(){var O=p,U=rd(l),B=[];e:{var $=bg.get(r);if($!==void 0){var G=vd,J=r;switch(r){case"keypress":if(Cl(l)===0)break e;case"keydown":case"keyup":G=zS;break;case"focusin":J="focus",G=_d;break;case"focusout":J="blur",G=_d;break;case"beforeblur":case"afterblur":G=_d;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=tg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=NS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=WS;break;case Eg:case xg:case Sg:G=OS;break;case Cg:G=GS;break;case"scroll":G=kS;break;case"wheel":G=YS;break;case"copy":case"cut":case"paste":G=DS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=rg}var ee=(s&4)!==0,rt=!ee&&r==="scroll",P=ee?$!==null?$+"Capture":null:$;ee=[];for(var T=O,A;T!==null;){A=T;var V=A.stateNode;if(A.tag===5&&V!==null&&(A=V,P!==null&&(V=_o(T,P),V!=null&&ee.push($o(T,V,A)))),rt)break;T=T.return}0<ee.length&&($=new G($,J,null,l,U),B.push({event:$,listeners:ee}))}}if(!(s&7)){e:{if($=r==="mouseover"||r==="pointerover",G=r==="mouseout"||r==="pointerout",$&&l!==nd&&(J=l.relatedTarget||l.fromElement)&&(xi(J)||J[Zn]))break e;if((G||$)&&($=U.window===U?U:($=U.ownerDocument)?$.defaultView||$.parentWindow:window,G?(J=l.relatedTarget||l.toElement,G=O,J=J?xi(J):null,J!==null&&(rt=Ei(J),J!==rt||J.tag!==5&&J.tag!==6)&&(J=null)):(G=null,J=O),G!==J)){if(ee=tg,V="onMouseLeave",P="onMouseEnter",T="mouse",(r==="pointerout"||r==="pointerover")&&(ee=rg,V="onPointerLeave",P="onPointerEnter",T="pointer"),rt=G==null?$:ys(G),A=J==null?$:ys(J),$=new ee(V,T+"leave",G,l,U),$.target=rt,$.relatedTarget=A,V=null,xi(U)===O&&(ee=new ee(P,T+"enter",J,l,U),ee.target=A,ee.relatedTarget=rt,V=ee),rt=V,G&&J)t:{for(ee=G,P=J,T=0,A=ee;A;A=gs(A))T++;for(A=0,V=P;V;V=gs(V))A++;for(;0<T-A;)ee=gs(ee),T--;for(;0<A-T;)P=gs(P),A--;for(;T--;){if(ee===P||P!==null&&ee===P.alternate)break t;ee=gs(ee),P=gs(P)}ee=null}else ee=null;G!==null&&Ng(B,$,G,ee,!1),J!==null&&rt!==null&&Ng(B,rt,J,ee,!0)}}e:{if($=O?ys(O):window,G=$.nodeName&&$.nodeName.toLowerCase(),G==="select"||G==="input"&&$.type==="file")var ne=nC;else if(ug($))if(dg)ne=oC;else{ne=iC;var se=rC}else(G=$.nodeName)&&G.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ne=sC);if(ne&&(ne=ne(r,O))){cg(B,ne,l,U);break e}se&&se(r,$,O),r==="focusout"&&(se=$._wrapperState)&&se.controlled&&$.type==="number"&&wi($,"number",$.value)}switch(se=O?ys(O):window,r){case"focusin":(ug(se)||se.contentEditable==="true")&&(ps=se,Td=O,Mo=null);break;case"focusout":Mo=Td=ps=null;break;case"mousedown":Id=!0;break;case"contextmenu":case"mouseup":case"dragend":Id=!1,wg(B,l,U);break;case"selectionchange":if(uC)break;case"keydown":case"keyup":wg(B,l,U)}var oe;if(xd)e:{switch(r){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else hs?ag(r,l)&&(ce="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(ce="onCompositionStart");ce&&(ig&&l.locale!=="ko"&&(hs||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&hs&&(oe=Zm()):(Ar=U,gd="value"in Ar?Ar.value:Ar.textContent,hs=!0)),se=Rl(O,ce),0<se.length&&(ce=new ng(ce,r,null,l,U),B.push({event:ce,listeners:se}),oe?ce.data=oe:(oe=lg(l),oe!==null&&(ce.data=oe)))),(oe=XS?JS(r,l):ZS(r,l))&&(O=Rl(O,"onBeforeInput"),0<O.length&&(U=new ng("onBeforeInput","beforeinput",null,l,U),B.push({event:U,listeners:O}),U.data=oe))}kg(B,s)})}function $o(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Rl(r,s){for(var l=s+"Capture",c=[];r!==null;){var f=r,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=_o(r,l),p!=null&&c.unshift($o(r,p,f)),p=_o(r,s),p!=null&&c.push($o(r,p,f))),r=r.return}return c}function gs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Ng(r,s,l,c,f){for(var p=s._reactName,g=[];l!==null&&l!==c;){var E=l,S=E.alternate,O=E.stateNode;if(S!==null&&S===c)break;E.tag===5&&O!==null&&(E=O,f?(S=_o(l,p),S!=null&&g.unshift($o(l,S,E))):f||(S=_o(l,p),S!=null&&g.push($o(l,S,E)))),l=l.return}g.length!==0&&r.push({event:s,listeners:g})}var hC=/\r\n?/g,pC=/\u0000|\uFFFD/g;function Rg(r){return(typeof r=="string"?r:""+r).replace(hC,`
`).replace(pC,"")}function Al(r,s,l){if(s=Rg(s),Rg(r)!==s&&l)throw Error(n(425))}function Ol(){}var Od=null,Ld=null;function Dd(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Md=typeof setTimeout=="function"?setTimeout:void 0,mC=typeof clearTimeout=="function"?clearTimeout:void 0,Ag=typeof Promise=="function"?Promise:void 0,gC=typeof queueMicrotask=="function"?queueMicrotask:typeof Ag<"u"?function(r){return Ag.resolve(null).then(r).catch(vC)}:Md;function vC(r){setTimeout(function(){throw r})}function Fd(r,s){var l=s,c=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(c===0){r.removeChild(f),Po(s);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=f}while(l);Po(s)}function Lr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Og(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var vs=Math.random().toString(36).slice(2),Mn="__reactFiber$"+vs,Uo="__reactProps$"+vs,Zn="__reactContainer$"+vs,jd="__reactEvents$"+vs,yC="__reactListeners$"+vs,wC="__reactHandles$"+vs;function xi(r){var s=r[Mn];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Zn]||l[Mn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Og(r);r!==null;){if(l=r[Mn])return l;r=Og(r)}return s}r=l,l=r.parentNode}return null}function Bo(r){return r=r[Mn]||r[Zn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ys(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Ll(r){return r[Uo]||null}var $d=[],ws=-1;function Dr(r){return{current:r}}function He(r){0>ws||(r.current=$d[ws],$d[ws]=null,ws--)}function $e(r,s){ws++,$d[ws]=r.current,r.current=s}var Mr={},bt=Dr(Mr),Mt=Dr(!1),Si=Mr;function _s(r,s){var l=r.type.contextTypes;if(!l)return Mr;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in l)f[p]=s[p];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Ft(r){return r=r.childContextTypes,r!=null}function Dl(){He(Mt),He(bt)}function Lg(r,s,l){if(bt.current!==Mr)throw Error(n(168));$e(bt,s),$e(Mt,l)}function Dg(r,s,l){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(n(108,Ne(r)||"Unknown",f));return Y({},l,c)}function Ml(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Mr,Si=bt.current,$e(bt,r),$e(Mt,Mt.current),!0}function Mg(r,s,l){var c=r.stateNode;if(!c)throw Error(n(169));l?(r=Dg(r,s,Si),c.__reactInternalMemoizedMergedChildContext=r,He(Mt),He(bt),$e(bt,r)):He(Mt),$e(Mt,l)}var er=null,Fl=!1,Ud=!1;function Fg(r){er===null?er=[r]:er.push(r)}function _C(r){Fl=!0,Fg(r)}function Fr(){if(!Ud&&er!==null){Ud=!0;var r=0,s=Ae;try{var l=er;for(Ae=1;r<l.length;r++){var c=l[r];do c=c(!0);while(c!==null)}er=null,Fl=!1}catch(f){throw er!==null&&(er=er.slice(r+1)),$m(ld,Fr),f}finally{Ae=s,Ud=!1}}return null}var Es=[],xs=0,jl=null,$l=0,cn=[],dn=0,Ci=null,tr=1,nr="";function bi(r,s){Es[xs++]=$l,Es[xs++]=jl,jl=r,$l=s}function jg(r,s,l){cn[dn++]=tr,cn[dn++]=nr,cn[dn++]=Ci,Ci=r;var c=tr;r=nr;var f=32-En(c)-1;c&=~(1<<f),l+=1;var p=32-En(s)+f;if(30<p){var g=f-f%5;p=(c&(1<<g)-1).toString(32),c>>=g,f-=g,tr=1<<32-En(s)+f|l<<f|c,nr=p+r}else tr=1<<p|l<<f|c,nr=r}function Bd(r){r.return!==null&&(bi(r,1),jg(r,1,0))}function zd(r){for(;r===jl;)jl=Es[--xs],Es[xs]=null,$l=Es[--xs],Es[xs]=null;for(;r===Ci;)Ci=cn[--dn],cn[dn]=null,nr=cn[--dn],cn[dn]=null,tr=cn[--dn],cn[dn]=null}var en=null,tn=null,Ke=!1,Sn=null;function $g(r,s){var l=mn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Ug(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,en=r,tn=Lr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,en=r,tn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Ci!==null?{id:tr,overflow:nr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=mn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,en=r,tn=null,!0):!1;default:return!1}}function Vd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Hd(r){if(Ke){var s=tn;if(s){var l=s;if(!Ug(r,s)){if(Vd(r))throw Error(n(418));s=Lr(l.nextSibling);var c=en;s&&Ug(r,s)?$g(c,l):(r.flags=r.flags&-4097|2,Ke=!1,en=r)}}else{if(Vd(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ke=!1,en=r}}}function Bg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;en=r}function Ul(r){if(r!==en)return!1;if(!Ke)return Bg(r),Ke=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Dd(r.type,r.memoizedProps)),s&&(s=tn)){if(Vd(r))throw zg(),Error(n(418));for(;s;)$g(r,s),s=Lr(s.nextSibling)}if(Bg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){tn=Lr(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}tn=null}}else tn=en?Lr(r.stateNode.nextSibling):null;return!0}function zg(){for(var r=tn;r;)r=Lr(r.nextSibling)}function Ss(){tn=en=null,Ke=!1}function Wd(r){Sn===null?Sn=[r]:Sn.push(r)}var EC=Z.ReactCurrentBatchConfig;function zo(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var c=l.stateNode}if(!c)throw Error(n(147,r));var f=c,p=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(g){var E=f.refs;g===null?delete E[p]:E[p]=g},s._stringRef=p,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Bl(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Vg(r){var s=r._init;return s(r._payload)}function Hg(r){function s(P,T){if(r){var A=P.deletions;A===null?(P.deletions=[T],P.flags|=16):A.push(T)}}function l(P,T){if(!r)return null;for(;T!==null;)s(P,T),T=T.sibling;return null}function c(P,T){for(P=new Map;T!==null;)T.key!==null?P.set(T.key,T):P.set(T.index,T),T=T.sibling;return P}function f(P,T){return P=Wr(P,T),P.index=0,P.sibling=null,P}function p(P,T,A){return P.index=A,r?(A=P.alternate,A!==null?(A=A.index,A<T?(P.flags|=2,T):A):(P.flags|=2,T)):(P.flags|=1048576,T)}function g(P){return r&&P.alternate===null&&(P.flags|=2),P}function E(P,T,A,V){return T===null||T.tag!==6?(T=Ff(A,P.mode,V),T.return=P,T):(T=f(T,A),T.return=P,T)}function S(P,T,A,V){var ne=A.type;return ne===Q?U(P,T,A.props.children,V,A.key):T!==null&&(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===St&&Vg(ne)===T.type)?(V=f(T,A.props),V.ref=zo(P,T,A),V.return=P,V):(V=du(A.type,A.key,A.props,null,P.mode,V),V.ref=zo(P,T,A),V.return=P,V)}function O(P,T,A,V){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=jf(A,P.mode,V),T.return=P,T):(T=f(T,A.children||[]),T.return=P,T)}function U(P,T,A,V,ne){return T===null||T.tag!==7?(T=Oi(A,P.mode,V,ne),T.return=P,T):(T=f(T,A),T.return=P,T)}function B(P,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Ff(""+T,P.mode,A),T.return=P,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case F:return A=du(T.type,T.key,T.props,null,P.mode,A),A.ref=zo(P,null,T),A.return=P,A;case W:return T=jf(T,P.mode,A),T.return=P,T;case St:var V=T._init;return B(P,V(T._payload),A)}if(_i(T)||ie(T))return T=Oi(T,P.mode,A,null),T.return=P,T;Bl(P,T)}return null}function $(P,T,A,V){var ne=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return ne!==null?null:E(P,T,""+A,V);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case F:return A.key===ne?S(P,T,A,V):null;case W:return A.key===ne?O(P,T,A,V):null;case St:return ne=A._init,$(P,T,ne(A._payload),V)}if(_i(A)||ie(A))return ne!==null?null:U(P,T,A,V,null);Bl(P,A)}return null}function G(P,T,A,V,ne){if(typeof V=="string"&&V!==""||typeof V=="number")return P=P.get(A)||null,E(T,P,""+V,ne);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case F:return P=P.get(V.key===null?A:V.key)||null,S(T,P,V,ne);case W:return P=P.get(V.key===null?A:V.key)||null,O(T,P,V,ne);case St:var se=V._init;return G(P,T,A,se(V._payload),ne)}if(_i(V)||ie(V))return P=P.get(A)||null,U(T,P,V,ne,null);Bl(T,V)}return null}function J(P,T,A,V){for(var ne=null,se=null,oe=T,ce=T=0,mt=null;oe!==null&&ce<A.length;ce++){oe.index>ce?(mt=oe,oe=null):mt=oe.sibling;var Ie=$(P,oe,A[ce],V);if(Ie===null){oe===null&&(oe=mt);break}r&&oe&&Ie.alternate===null&&s(P,oe),T=p(Ie,T,ce),se===null?ne=Ie:se.sibling=Ie,se=Ie,oe=mt}if(ce===A.length)return l(P,oe),Ke&&bi(P,ce),ne;if(oe===null){for(;ce<A.length;ce++)oe=B(P,A[ce],V),oe!==null&&(T=p(oe,T,ce),se===null?ne=oe:se.sibling=oe,se=oe);return Ke&&bi(P,ce),ne}for(oe=c(P,oe);ce<A.length;ce++)mt=G(oe,P,ce,A[ce],V),mt!==null&&(r&&mt.alternate!==null&&oe.delete(mt.key===null?ce:mt.key),T=p(mt,T,ce),se===null?ne=mt:se.sibling=mt,se=mt);return r&&oe.forEach(function(qr){return s(P,qr)}),Ke&&bi(P,ce),ne}function ee(P,T,A,V){var ne=ie(A);if(typeof ne!="function")throw Error(n(150));if(A=ne.call(A),A==null)throw Error(n(151));for(var se=ne=null,oe=T,ce=T=0,mt=null,Ie=A.next();oe!==null&&!Ie.done;ce++,Ie=A.next()){oe.index>ce?(mt=oe,oe=null):mt=oe.sibling;var qr=$(P,oe,Ie.value,V);if(qr===null){oe===null&&(oe=mt);break}r&&oe&&qr.alternate===null&&s(P,oe),T=p(qr,T,ce),se===null?ne=qr:se.sibling=qr,se=qr,oe=mt}if(Ie.done)return l(P,oe),Ke&&bi(P,ce),ne;if(oe===null){for(;!Ie.done;ce++,Ie=A.next())Ie=B(P,Ie.value,V),Ie!==null&&(T=p(Ie,T,ce),se===null?ne=Ie:se.sibling=Ie,se=Ie);return Ke&&bi(P,ce),ne}for(oe=c(P,oe);!Ie.done;ce++,Ie=A.next())Ie=G(oe,P,ce,Ie.value,V),Ie!==null&&(r&&Ie.alternate!==null&&oe.delete(Ie.key===null?ce:Ie.key),T=p(Ie,T,ce),se===null?ne=Ie:se.sibling=Ie,se=Ie);return r&&oe.forEach(function(eb){return s(P,eb)}),Ke&&bi(P,ce),ne}function rt(P,T,A,V){if(typeof A=="object"&&A!==null&&A.type===Q&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case F:e:{for(var ne=A.key,se=T;se!==null;){if(se.key===ne){if(ne=A.type,ne===Q){if(se.tag===7){l(P,se.sibling),T=f(se,A.props.children),T.return=P,P=T;break e}}else if(se.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===St&&Vg(ne)===se.type){l(P,se.sibling),T=f(se,A.props),T.ref=zo(P,se,A),T.return=P,P=T;break e}l(P,se);break}else s(P,se);se=se.sibling}A.type===Q?(T=Oi(A.props.children,P.mode,V,A.key),T.return=P,P=T):(V=du(A.type,A.key,A.props,null,P.mode,V),V.ref=zo(P,T,A),V.return=P,P=V)}return g(P);case W:e:{for(se=A.key;T!==null;){if(T.key===se)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){l(P,T.sibling),T=f(T,A.children||[]),T.return=P,P=T;break e}else{l(P,T);break}else s(P,T);T=T.sibling}T=jf(A,P.mode,V),T.return=P,P=T}return g(P);case St:return se=A._init,rt(P,T,se(A._payload),V)}if(_i(A))return J(P,T,A,V);if(ie(A))return ee(P,T,A,V);Bl(P,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,T!==null&&T.tag===6?(l(P,T.sibling),T=f(T,A),T.return=P,P=T):(l(P,T),T=Ff(A,P.mode,V),T.return=P,P=T),g(P)):l(P,T)}return rt}var Cs=Hg(!0),Wg=Hg(!1),zl=Dr(null),Vl=null,bs=null,qd=null;function Gd(){qd=bs=Vl=null}function Kd(r){var s=zl.current;He(zl),r._currentValue=s}function Yd(r,s,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===l)break;r=r.return}}function Ts(r,s){Vl=r,qd=bs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(jt=!0),r.firstContext=null)}function fn(r){var s=r._currentValue;if(qd!==r)if(r={context:r,memoizedValue:s,next:null},bs===null){if(Vl===null)throw Error(n(308));bs=r,Vl.dependencies={lanes:0,firstContext:r}}else bs=bs.next=r;return s}var Ti=null;function Qd(r){Ti===null?Ti=[r]:Ti.push(r)}function qg(r,s,l,c){var f=s.interleaved;return f===null?(l.next=l,Qd(s)):(l.next=f.next,f.next=l),s.interleaved=l,rr(r,c)}function rr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var jr=!1;function Xd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ir(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function $r(r,s,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,be&2){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,rr(r,l)}return f=c.interleaved,f===null?(s.next=s,Qd(c)):(s.next=f.next,f.next=s),c.interleaved=s,rr(r,l)}function Hl(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,dd(r,l)}}function Kg(r,s){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var f=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var g={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};p===null?f=p=g:p=p.next=g,l=l.next}while(l!==null);p===null?f=p=s:p=p.next=s}else f=p=s;l={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,effects:c.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Wl(r,s,l,c){var f=r.updateQueue;jr=!1;var p=f.firstBaseUpdate,g=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var S=E,O=S.next;S.next=null,g===null?p=O:g.next=O,g=S;var U=r.alternate;U!==null&&(U=U.updateQueue,E=U.lastBaseUpdate,E!==g&&(E===null?U.firstBaseUpdate=O:E.next=O,U.lastBaseUpdate=S))}if(p!==null){var B=f.baseState;g=0,U=O=S=null,E=p;do{var $=E.lane,G=E.eventTime;if((c&$)===$){U!==null&&(U=U.next={eventTime:G,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var J=r,ee=E;switch($=s,G=l,ee.tag){case 1:if(J=ee.payload,typeof J=="function"){B=J.call(G,B,$);break e}B=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=ee.payload,$=typeof J=="function"?J.call(G,B,$):J,$==null)break e;B=Y({},B,$);break e;case 2:jr=!0}}E.callback!==null&&E.lane!==0&&(r.flags|=64,$=f.effects,$===null?f.effects=[E]:$.push(E))}else G={eventTime:G,lane:$,tag:E.tag,payload:E.payload,callback:E.callback,next:null},U===null?(O=U=G,S=B):U=U.next=G,g|=$;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;$=E,E=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);if(U===null&&(S=B),f.baseState=S,f.firstBaseUpdate=O,f.lastBaseUpdate=U,s=f.shared.interleaved,s!==null){f=s;do g|=f.lane,f=f.next;while(f!==s)}else p===null&&(f.shared.lanes=0);Pi|=g,r.lanes=g,r.memoizedState=B}}function Yg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],f=c.callback;if(f!==null){if(c.callback=null,c=l,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var Vo={},Fn=Dr(Vo),Ho=Dr(Vo),Wo=Dr(Vo);function Ii(r){if(r===Vo)throw Error(n(174));return r}function Jd(r,s){switch($e(Wo,s),$e(Ho,r),$e(Fn,Vo),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ce(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Ce(s,r)}He(Fn),$e(Fn,s)}function Is(){He(Fn),He(Ho),He(Wo)}function Qg(r){Ii(Wo.current);var s=Ii(Fn.current),l=Ce(s,r.type);s!==l&&($e(Ho,r),$e(Fn,l))}function Zd(r){Ho.current===r&&(He(Fn),He(Ho))}var Xe=Dr(0);function ql(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ef=[];function tf(){for(var r=0;r<ef.length;r++)ef[r]._workInProgressVersionPrimary=null;ef.length=0}var Gl=Z.ReactCurrentDispatcher,nf=Z.ReactCurrentBatchConfig,ki=0,Je=null,ut=null,ht=null,Kl=!1,qo=!1,Go=0,xC=0;function Tt(){throw Error(n(321))}function rf(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!xn(r[l],s[l]))return!1;return!0}function sf(r,s,l,c,f,p){if(ki=p,Je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Gl.current=r===null||r.memoizedState===null?TC:IC,r=l(c,f),qo){p=0;do{if(qo=!1,Go=0,25<=p)throw Error(n(301));p+=1,ht=ut=null,s.updateQueue=null,Gl.current=kC,r=l(c,f)}while(qo)}if(Gl.current=Xl,s=ut!==null&&ut.next!==null,ki=0,ht=ut=Je=null,Kl=!1,s)throw Error(n(300));return r}function of(){var r=Go!==0;return Go=0,r}function jn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Je.memoizedState=ht=r:ht=ht.next=r,ht}function hn(){if(ut===null){var r=Je.alternate;r=r!==null?r.memoizedState:null}else r=ut.next;var s=ht===null?Je.memoizedState:ht.next;if(s!==null)ht=s,ut=r;else{if(r===null)throw Error(n(310));ut=r,r={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},ht===null?Je.memoizedState=ht=r:ht=ht.next=r}return ht}function Ko(r,s){return typeof s=="function"?s(r):s}function af(r){var s=hn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var c=ut,f=c.baseQueue,p=l.pending;if(p!==null){if(f!==null){var g=f.next;f.next=p.next,p.next=g}c.baseQueue=f=p,l.pending=null}if(f!==null){p=f.next,c=c.baseState;var E=g=null,S=null,O=p;do{var U=O.lane;if((ki&U)===U)S!==null&&(S=S.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),c=O.hasEagerState?O.eagerState:r(c,O.action);else{var B={lane:U,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};S===null?(E=S=B,g=c):S=S.next=B,Je.lanes|=U,Pi|=U}O=O.next}while(O!==null&&O!==p);S===null?g=c:S.next=E,xn(c,s.memoizedState)||(jt=!0),s.memoizedState=c,s.baseState=g,s.baseQueue=S,l.lastRenderedState=c}if(r=l.interleaved,r!==null){f=r;do p=f.lane,Je.lanes|=p,Pi|=p,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function lf(r){var s=hn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var c=l.dispatch,f=l.pending,p=s.memoizedState;if(f!==null){l.pending=null;var g=f=f.next;do p=r(p,g.action),g=g.next;while(g!==f);xn(p,s.memoizedState)||(jt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),l.lastRenderedState=p}return[p,c]}function Xg(){}function Jg(r,s){var l=Je,c=hn(),f=s(),p=!xn(c.memoizedState,f);if(p&&(c.memoizedState=f,jt=!0),c=c.queue,uf(tv.bind(null,l,c,r),[r]),c.getSnapshot!==s||p||ht!==null&&ht.memoizedState.tag&1){if(l.flags|=2048,Yo(9,ev.bind(null,l,c,f,s),void 0,null),pt===null)throw Error(n(349));ki&30||Zg(l,s,f)}return f}function Zg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Je.updateQueue,s===null?(s={lastEffect:null,stores:null},Je.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function ev(r,s,l,c){s.value=l,s.getSnapshot=c,nv(s)&&rv(r)}function tv(r,s,l){return l(function(){nv(s)&&rv(r)})}function nv(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!xn(r,l)}catch{return!0}}function rv(r){var s=rr(r,1);s!==null&&In(s,r,1,-1)}function iv(r){var s=jn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:r},s.queue=r,r=r.dispatch=bC.bind(null,Je,r),[s.memoizedState,r]}function Yo(r,s,l,c){return r={tag:r,create:s,destroy:l,deps:c,next:null},s=Je.updateQueue,s===null?(s={lastEffect:null,stores:null},Je.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,s.lastEffect=r)),r}function sv(){return hn().memoizedState}function Yl(r,s,l,c){var f=jn();Je.flags|=r,f.memoizedState=Yo(1|s,l,void 0,c===void 0?null:c)}function Ql(r,s,l,c){var f=hn();c=c===void 0?null:c;var p=void 0;if(ut!==null){var g=ut.memoizedState;if(p=g.destroy,c!==null&&rf(c,g.deps)){f.memoizedState=Yo(s,l,p,c);return}}Je.flags|=r,f.memoizedState=Yo(1|s,l,p,c)}function ov(r,s){return Yl(8390656,8,r,s)}function uf(r,s){return Ql(2048,8,r,s)}function av(r,s){return Ql(4,2,r,s)}function lv(r,s){return Ql(4,4,r,s)}function uv(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function cv(r,s,l){return l=l!=null?l.concat([r]):null,Ql(4,4,uv.bind(null,s,r),l)}function cf(){}function dv(r,s){var l=hn();s=s===void 0?null:s;var c=l.memoizedState;return c!==null&&s!==null&&rf(s,c[1])?c[0]:(l.memoizedState=[r,s],r)}function fv(r,s){var l=hn();s=s===void 0?null:s;var c=l.memoizedState;return c!==null&&s!==null&&rf(s,c[1])?c[0]:(r=r(),l.memoizedState=[r,s],r)}function hv(r,s,l){return ki&21?(xn(l,s)||(l=Vm(),Je.lanes|=l,Pi|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,jt=!0),r.memoizedState=l)}function SC(r,s){var l=Ae;Ae=l!==0&&4>l?l:4,r(!0);var c=nf.transition;nf.transition={};try{r(!1),s()}finally{Ae=l,nf.transition=c}}function pv(){return hn().memoizedState}function CC(r,s,l){var c=Vr(r);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},mv(r))gv(s,l);else if(l=qg(r,s,l,c),l!==null){var f=Ot();In(l,r,c,f),vv(l,s,c)}}function bC(r,s,l){var c=Vr(r),f={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(mv(r))gv(s,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var g=s.lastRenderedState,E=p(g,l);if(f.hasEagerState=!0,f.eagerState=E,xn(E,g)){var S=s.interleaved;S===null?(f.next=f,Qd(s)):(f.next=S.next,S.next=f),s.interleaved=f;return}}catch{}finally{}l=qg(r,s,f,c),l!==null&&(f=Ot(),In(l,r,c,f),vv(l,s,c))}}function mv(r){var s=r.alternate;return r===Je||s!==null&&s===Je}function gv(r,s){qo=Kl=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function vv(r,s,l){if(l&4194240){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,dd(r,l)}}var Xl={readContext:fn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},TC={readContext:fn,useCallback:function(r,s){return jn().memoizedState=[r,s===void 0?null:s],r},useContext:fn,useEffect:ov,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Yl(4194308,4,uv.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Yl(4194308,4,r,s)},useInsertionEffect:function(r,s){return Yl(4,2,r,s)},useMemo:function(r,s){var l=jn();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var c=jn();return s=l!==void 0?l(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=CC.bind(null,Je,r),[c.memoizedState,r]},useRef:function(r){var s=jn();return r={current:r},s.memoizedState=r},useState:iv,useDebugValue:cf,useDeferredValue:function(r){return jn().memoizedState=r},useTransition:function(){var r=iv(!1),s=r[0];return r=SC.bind(null,r[1]),jn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var c=Je,f=jn();if(Ke){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),pt===null)throw Error(n(349));ki&30||Zg(c,s,l)}f.memoizedState=l;var p={value:l,getSnapshot:s};return f.queue=p,ov(tv.bind(null,c,p,r),[r]),c.flags|=2048,Yo(9,ev.bind(null,c,p,l,s),void 0,null),l},useId:function(){var r=jn(),s=pt.identifierPrefix;if(Ke){var l=nr,c=tr;l=(c&~(1<<32-En(c)-1)).toString(32)+l,s=":"+s+"R"+l,l=Go++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=xC++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},IC={readContext:fn,useCallback:dv,useContext:fn,useEffect:uf,useImperativeHandle:cv,useInsertionEffect:av,useLayoutEffect:lv,useMemo:fv,useReducer:af,useRef:sv,useState:function(){return af(Ko)},useDebugValue:cf,useDeferredValue:function(r){var s=hn();return hv(s,ut.memoizedState,r)},useTransition:function(){var r=af(Ko)[0],s=hn().memoizedState;return[r,s]},useMutableSource:Xg,useSyncExternalStore:Jg,useId:pv,unstable_isNewReconciler:!1},kC={readContext:fn,useCallback:dv,useContext:fn,useEffect:uf,useImperativeHandle:cv,useInsertionEffect:av,useLayoutEffect:lv,useMemo:fv,useReducer:lf,useRef:sv,useState:function(){return lf(Ko)},useDebugValue:cf,useDeferredValue:function(r){var s=hn();return ut===null?s.memoizedState=r:hv(s,ut.memoizedState,r)},useTransition:function(){var r=lf(Ko)[0],s=hn().memoizedState;return[r,s]},useMutableSource:Xg,useSyncExternalStore:Jg,useId:pv,unstable_isNewReconciler:!1};function Cn(r,s){if(r&&r.defaultProps){s=Y({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function df(r,s,l,c){s=r.memoizedState,l=l(c,s),l=l==null?s:Y({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Jl={isMounted:function(r){return(r=r._reactInternals)?Ei(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var c=Ot(),f=Vr(r),p=ir(c,f);p.payload=s,l!=null&&(p.callback=l),s=$r(r,p,f),s!==null&&(In(s,r,f,c),Hl(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var c=Ot(),f=Vr(r),p=ir(c,f);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=$r(r,p,f),s!==null&&(In(s,r,f,c),Hl(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Ot(),c=Vr(r),f=ir(l,c);f.tag=2,s!=null&&(f.callback=s),s=$r(r,f,c),s!==null&&(In(s,r,c,l),Hl(s,r,c))}};function yv(r,s,l,c,f,p,g){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,p,g):s.prototype&&s.prototype.isPureReactComponent?!Do(l,c)||!Do(f,p):!0}function wv(r,s,l){var c=!1,f=Mr,p=s.contextType;return typeof p=="object"&&p!==null?p=fn(p):(f=Ft(s)?Si:bt.current,c=s.contextTypes,p=(c=c!=null)?_s(r,f):Mr),s=new s(l,p),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Jl,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=p),s}function _v(r,s,l,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==r&&Jl.enqueueReplaceState(s,s.state,null)}function ff(r,s,l,c){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Xd(r);var p=s.contextType;typeof p=="object"&&p!==null?f.context=fn(p):(p=Ft(s)?Si:bt.current,f.context=_s(r,p)),f.state=r.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(df(r,s,p,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Jl.enqueueReplaceState(f,f.state,null),Wl(r,l,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function ks(r,s){try{var l="",c=s;do l+=me(c),c=c.return;while(c);var f=l}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:r,source:s,stack:f,digest:null}}function hf(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function pf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var PC=typeof WeakMap=="function"?WeakMap:Map;function Ev(r,s,l){l=ir(-1,l),l.tag=3,l.payload={element:null};var c=s.value;return l.callback=function(){su||(su=!0,Pf=c),pf(r,s)},l}function xv(r,s,l){l=ir(-1,l),l.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;l.payload=function(){return c(f)},l.callback=function(){pf(r,s)}}var p=r.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(l.callback=function(){pf(r,s),typeof c!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var g=s.stack;this.componentDidCatch(s.value,{componentStack:g!==null?g:""})}),l}function Sv(r,s,l){var c=r.pingCache;if(c===null){c=r.pingCache=new PC;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(l)||(f.add(l),r=VC.bind(null,r,s,l),s.then(r,r))}function Cv(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function bv(r,s,l,c,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=ir(-1,1),s.tag=2,$r(l,s,1))),l.lanes|=1),r)}var NC=Z.ReactCurrentOwner,jt=!1;function At(r,s,l,c){s.child=r===null?Wg(s,null,l,c):Cs(s,r.child,l,c)}function Tv(r,s,l,c,f){l=l.render;var p=s.ref;return Ts(s,f),c=sf(r,s,l,c,p,f),l=of(),r!==null&&!jt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,sr(r,s,f)):(Ke&&l&&Bd(s),s.flags|=1,At(r,s,c,f),s.child)}function Iv(r,s,l,c,f){if(r===null){var p=l.type;return typeof p=="function"&&!Mf(p)&&p.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=p,kv(r,s,p,c,f)):(r=du(l.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!(r.lanes&f)){var g=p.memoizedProps;if(l=l.compare,l=l!==null?l:Do,l(g,c)&&r.ref===s.ref)return sr(r,s,f)}return s.flags|=1,r=Wr(p,c),r.ref=s.ref,r.return=s,s.child=r}function kv(r,s,l,c,f){if(r!==null){var p=r.memoizedProps;if(Do(p,c)&&r.ref===s.ref)if(jt=!1,s.pendingProps=c=p,(r.lanes&f)!==0)r.flags&131072&&(jt=!0);else return s.lanes=r.lanes,sr(r,s,f)}return mf(r,s,l,c,f)}function Pv(r,s,l){var c=s.pendingProps,f=c.children,p=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ns,nn),nn|=l;else{if(!(l&1073741824))return r=p!==null?p.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,$e(Ns,nn),nn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:l,$e(Ns,nn),nn|=c}else p!==null?(c=p.baseLanes|l,s.memoizedState=null):c=l,$e(Ns,nn),nn|=c;return At(r,s,f,l),s.child}function Nv(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function mf(r,s,l,c,f){var p=Ft(l)?Si:bt.current;return p=_s(s,p),Ts(s,f),l=sf(r,s,l,c,p,f),c=of(),r!==null&&!jt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,sr(r,s,f)):(Ke&&c&&Bd(s),s.flags|=1,At(r,s,l,f),s.child)}function Rv(r,s,l,c,f){if(Ft(l)){var p=!0;Ml(s)}else p=!1;if(Ts(s,f),s.stateNode===null)eu(r,s),wv(s,l,c),ff(s,l,c,f),c=!0;else if(r===null){var g=s.stateNode,E=s.memoizedProps;g.props=E;var S=g.context,O=l.contextType;typeof O=="object"&&O!==null?O=fn(O):(O=Ft(l)?Si:bt.current,O=_s(s,O));var U=l.getDerivedStateFromProps,B=typeof U=="function"||typeof g.getSnapshotBeforeUpdate=="function";B||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==c||S!==O)&&_v(s,g,c,O),jr=!1;var $=s.memoizedState;g.state=$,Wl(s,c,g,f),S=s.memoizedState,E!==c||$!==S||Mt.current||jr?(typeof U=="function"&&(df(s,l,U,c),S=s.memoizedState),(E=jr||yv(s,l,E,c,$,S,O))?(B||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=S),g.props=c,g.state=S,g.context=O,c=E):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Gg(r,s),E=s.memoizedProps,O=s.type===s.elementType?E:Cn(s.type,E),g.props=O,B=s.pendingProps,$=g.context,S=l.contextType,typeof S=="object"&&S!==null?S=fn(S):(S=Ft(l)?Si:bt.current,S=_s(s,S));var G=l.getDerivedStateFromProps;(U=typeof G=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==B||$!==S)&&_v(s,g,c,S),jr=!1,$=s.memoizedState,g.state=$,Wl(s,c,g,f);var J=s.memoizedState;E!==B||$!==J||Mt.current||jr?(typeof G=="function"&&(df(s,l,G,c),J=s.memoizedState),(O=jr||yv(s,l,O,c,$,J,S)||!1)?(U||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,J,S),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,J,S)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=J),g.props=c,g.state=J,g.context=S,c=O):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(s.flags|=1024),c=!1)}return gf(r,s,l,c,p,f)}function gf(r,s,l,c,f,p){Nv(r,s);var g=(s.flags&128)!==0;if(!c&&!g)return f&&Mg(s,l,!1),sr(r,s,p);c=s.stateNode,NC.current=s;var E=g&&typeof l.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&g?(s.child=Cs(s,r.child,null,p),s.child=Cs(s,null,E,p)):At(r,s,E,p),s.memoizedState=c.state,f&&Mg(s,l,!0),s.child}function Av(r){var s=r.stateNode;s.pendingContext?Lg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Lg(r,s.context,!1),Jd(r,s.containerInfo)}function Ov(r,s,l,c,f){return Ss(),Wd(f),s.flags|=256,At(r,s,l,c),s.child}var vf={dehydrated:null,treeContext:null,retryLane:0};function yf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Lv(r,s,l){var c=s.pendingProps,f=Xe.current,p=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=r!==null&&r.memoizedState===null?!1:(f&2)!==0),E?(p=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),$e(Xe,f&1),r===null)return Hd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(g=c.children,r=c.fallback,p?(c=s.mode,p=s.child,g={mode:"hidden",children:g},!(c&1)&&p!==null?(p.childLanes=0,p.pendingProps=g):p=fu(g,c,0,null),r=Oi(r,c,l,null),p.return=s,r.return=s,p.sibling=r,s.child=p,s.child.memoizedState=yf(l),s.memoizedState=vf,r):wf(s,g));if(f=r.memoizedState,f!==null&&(E=f.dehydrated,E!==null))return RC(r,s,g,c,E,f,l);if(p){p=c.fallback,g=s.mode,f=r.child,E=f.sibling;var S={mode:"hidden",children:c.children};return!(g&1)&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=S,s.deletions=null):(c=Wr(f,S),c.subtreeFlags=f.subtreeFlags&14680064),E!==null?p=Wr(E,p):(p=Oi(p,g,l,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,g=r.child.memoizedState,g=g===null?yf(l):{baseLanes:g.baseLanes|l,cachePool:null,transitions:g.transitions},p.memoizedState=g,p.childLanes=r.childLanes&~l,s.memoizedState=vf,c}return p=r.child,r=p.sibling,c=Wr(p,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=l),c.return=s,c.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=c,s.memoizedState=null,c}function wf(r,s){return s=fu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Zl(r,s,l,c){return c!==null&&Wd(c),Cs(s,r.child,null,l),r=wf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function RC(r,s,l,c,f,p,g){if(l)return s.flags&256?(s.flags&=-257,c=hf(Error(n(422))),Zl(r,s,g,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(p=c.fallback,f=s.mode,c=fu({mode:"visible",children:c.children},f,0,null),p=Oi(p,f,g,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,s.mode&1&&Cs(s,r.child,null,g),s.child.memoizedState=yf(g),s.memoizedState=vf,p);if(!(s.mode&1))return Zl(r,s,g,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var E=c.dgst;return c=E,p=Error(n(419)),c=hf(p,c,void 0),Zl(r,s,g,c)}if(E=(g&r.childLanes)!==0,jt||E){if(c=pt,c!==null){switch(g&-g){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|g)?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,rr(r,f),In(c,r,f,-1))}return Df(),c=hf(Error(n(421))),Zl(r,s,g,c)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=HC.bind(null,r),f._reactRetry=s,null):(r=p.treeContext,tn=Lr(f.nextSibling),en=s,Ke=!0,Sn=null,r!==null&&(cn[dn++]=tr,cn[dn++]=nr,cn[dn++]=Ci,tr=r.id,nr=r.overflow,Ci=s),s=wf(s,c.children),s.flags|=4096,s)}function Dv(r,s,l){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Yd(r.return,s,l)}function _f(r,s,l,c,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:f}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=f)}function Mv(r,s,l){var c=s.pendingProps,f=c.revealOrder,p=c.tail;if(At(r,s,c.children,l),c=Xe.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Dv(r,l,s);else if(r.tag===19)Dv(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if($e(Xe,c),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&ql(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),_f(s,!1,f,l,p);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&ql(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}_f(s,!0,l,null,p);break;case"together":_f(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function eu(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function sr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Pi|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=Wr(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Wr(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function AC(r,s,l){switch(s.tag){case 3:Av(s),Ss();break;case 5:Qg(s);break;case 1:Ft(s.type)&&Ml(s);break;case 4:Jd(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;$e(zl,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?($e(Xe,Xe.current&1),s.flags|=128,null):l&s.child.childLanes?Lv(r,s,l):($e(Xe,Xe.current&1),r=sr(r,s,l),r!==null?r.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(c=(l&s.childLanes)!==0,r.flags&128){if(c)return Mv(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$e(Xe,Xe.current),c)break;return null;case 22:case 23:return s.lanes=0,Pv(r,s,l)}return sr(r,s,l)}var Fv,Ef,jv,$v;Fv=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Ef=function(){},jv=function(r,s,l,c){var f=r.memoizedProps;if(f!==c){r=s.stateNode,Ii(Fn.current);var p=null;switch(l){case"input":f=vo(r,f),c=vo(r,c),p=[];break;case"select":f=Y({},f,{value:void 0}),c=Y({},c,{value:void 0}),p=[];break;case"textarea":f=L(r,f),c=L(r,c),p=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Ol)}ed(l,c);var g;l=null;for(O in f)if(!c.hasOwnProperty(O)&&f.hasOwnProperty(O)&&f[O]!=null)if(O==="style"){var E=f[O];for(g in E)E.hasOwnProperty(g)&&(l||(l={}),l[g]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(o.hasOwnProperty(O)?p||(p=[]):(p=p||[]).push(O,null));for(O in c){var S=c[O];if(E=f!=null?f[O]:void 0,c.hasOwnProperty(O)&&S!==E&&(S!=null||E!=null))if(O==="style")if(E){for(g in E)!E.hasOwnProperty(g)||S&&S.hasOwnProperty(g)||(l||(l={}),l[g]="");for(g in S)S.hasOwnProperty(g)&&E[g]!==S[g]&&(l||(l={}),l[g]=S[g])}else l||(p||(p=[]),p.push(O,l)),l=S;else O==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,E=E?E.__html:void 0,S!=null&&E!==S&&(p=p||[]).push(O,S)):O==="children"?typeof S!="string"&&typeof S!="number"||(p=p||[]).push(O,""+S):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(o.hasOwnProperty(O)?(S!=null&&O==="onScroll"&&Ve("scroll",r),p||E===S||(p=[])):(p=p||[]).push(O,S))}l&&(p=p||[]).push("style",l);var O=p;(s.updateQueue=O)&&(s.flags|=4)}},$v=function(r,s,l,c){l!==c&&(s.flags|=4)};function Qo(r,s){if(!Ke)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function It(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=l,s}function OC(r,s,l){var c=s.pendingProps;switch(zd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(s),null;case 1:return Ft(s.type)&&Dl(),It(s),null;case 3:return c=s.stateNode,Is(),He(Mt),He(bt),tf(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Ul(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Sn!==null&&(Af(Sn),Sn=null))),Ef(r,s),It(s),null;case 5:Zd(s);var f=Ii(Wo.current);if(l=s.type,r!==null&&s.stateNode!=null)jv(r,s,l,c,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return It(s),null}if(r=Ii(Fn.current),Ul(s)){c=s.stateNode,l=s.type;var p=s.memoizedProps;switch(c[Mn]=s,c[Uo]=p,r=(s.mode&1)!==0,l){case"dialog":Ve("cancel",c),Ve("close",c);break;case"iframe":case"object":case"embed":Ve("load",c);break;case"video":case"audio":for(f=0;f<Fo.length;f++)Ve(Fo[f],c);break;case"source":Ve("error",c);break;case"img":case"image":case"link":Ve("error",c),Ve("load",c);break;case"details":Ve("toggle",c);break;case"input":ul(c,p),Ve("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Ve("invalid",c);break;case"textarea":K(c,p),Ve("invalid",c)}ed(l,p),f=null;for(var g in p)if(p.hasOwnProperty(g)){var E=p[g];g==="children"?typeof E=="string"?c.textContent!==E&&(p.suppressHydrationWarning!==!0&&Al(c.textContent,E,r),f=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(p.suppressHydrationWarning!==!0&&Al(c.textContent,E,r),f=["children",""+E]):o.hasOwnProperty(g)&&E!=null&&g==="onScroll"&&Ve("scroll",c)}switch(l){case"input":Tr(c),dl(c,p,!0);break;case"textarea":Tr(c),re(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Ol)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{g=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=he(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=g.createElement(l,{is:c.is}):(r=g.createElement(l),l==="select"&&(g=r,c.multiple?g.multiple=!0:c.size&&(g.size=c.size))):r=g.createElementNS(r,l),r[Mn]=s,r[Uo]=c,Fv(r,s,!1,!1),s.stateNode=r;e:{switch(g=td(l,c),l){case"dialog":Ve("cancel",r),Ve("close",r),f=c;break;case"iframe":case"object":case"embed":Ve("load",r),f=c;break;case"video":case"audio":for(f=0;f<Fo.length;f++)Ve(Fo[f],r);f=c;break;case"source":Ve("error",r),f=c;break;case"img":case"image":case"link":Ve("error",r),Ve("load",r),f=c;break;case"details":Ve("toggle",r),f=c;break;case"input":ul(r,c),f=vo(r,c),Ve("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=Y({},c,{value:void 0}),Ve("invalid",r);break;case"textarea":K(r,c),f=L(r,c),Ve("invalid",r);break;default:f=c}ed(l,f),E=f;for(p in E)if(E.hasOwnProperty(p)){var S=E[p];p==="style"?wo(r,S):p==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&un(r,S)):p==="children"?typeof S=="string"?(l!=="textarea"||S!=="")&&Xn(r,S):typeof S=="number"&&Xn(r,""+S):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?S!=null&&p==="onScroll"&&Ve("scroll",r):S!=null&&z(r,p,S,g))}switch(l){case"input":Tr(r),dl(r,c,!1);break;case"textarea":Tr(r),re(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Te(c.value));break;case"select":r.multiple=!!c.multiple,p=c.value,p!=null?Ir(r,!!c.multiple,p,!1):c.defaultValue!=null&&Ir(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Ol)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return It(s),null;case 6:if(r&&s.stateNode!=null)$v(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(l=Ii(Wo.current),Ii(Fn.current),Ul(s)){if(c=s.stateNode,l=s.memoizedProps,c[Mn]=s,(p=c.nodeValue!==l)&&(r=en,r!==null))switch(r.tag){case 3:Al(c.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Al(c.nodeValue,l,(r.mode&1)!==0)}p&&(s.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Mn]=s,s.stateNode=c}return It(s),null;case 13:if(He(Xe),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ke&&tn!==null&&s.mode&1&&!(s.flags&128))zg(),Ss(),s.flags|=98560,p=!1;else if(p=Ul(s),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Mn]=s}else Ss(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;It(s),p=!1}else Sn!==null&&(Af(Sn),Sn=null),p=!0;if(!p)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(r===null||Xe.current&1?ct===0&&(ct=3):Df())),s.updateQueue!==null&&(s.flags|=4),It(s),null);case 4:return Is(),Ef(r,s),r===null&&jo(s.stateNode.containerInfo),It(s),null;case 10:return Kd(s.type._context),It(s),null;case 17:return Ft(s.type)&&Dl(),It(s),null;case 19:if(He(Xe),p=s.memoizedState,p===null)return It(s),null;if(c=(s.flags&128)!==0,g=p.rendering,g===null)if(c)Qo(p,!1);else{if(ct!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(g=ql(r),g!==null){for(s.flags|=128,Qo(p,!1),c=g.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=l,l=s.child;l!==null;)p=l,r=c,p.flags&=14680066,g=p.alternate,g===null?(p.childLanes=0,p.lanes=r,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=g.childLanes,p.lanes=g.lanes,p.child=g.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=g.memoizedProps,p.memoizedState=g.memoizedState,p.updateQueue=g.updateQueue,p.type=g.type,r=g.dependencies,p.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return $e(Xe,Xe.current&1|2),s.child}r=r.sibling}p.tail!==null&&nt()>Rs&&(s.flags|=128,c=!0,Qo(p,!1),s.lanes=4194304)}else{if(!c)if(r=ql(g),r!==null){if(s.flags|=128,c=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Qo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Ke)return It(s),null}else 2*nt()-p.renderingStartTime>Rs&&l!==1073741824&&(s.flags|=128,c=!0,Qo(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(l=p.last,l!==null?l.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=nt(),s.sibling=null,l=Xe.current,$e(Xe,c?l&1|2:l&1),s):(It(s),null);case 22:case 23:return Lf(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?nn&1073741824&&(It(s),s.subtreeFlags&6&&(s.flags|=8192)):It(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function LC(r,s){switch(zd(s),s.tag){case 1:return Ft(s.type)&&Dl(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Is(),He(Mt),He(bt),tf(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Zd(s),null;case 13:if(He(Xe),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Ss()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return He(Xe),null;case 4:return Is(),null;case 10:return Kd(s.type._context),null;case 22:case 23:return Lf(),null;case 24:return null;default:return null}}var tu=!1,kt=!1,DC=typeof WeakSet=="function"?WeakSet:Set,X=null;function Ps(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){et(r,s,c)}else l.current=null}function xf(r,s,l){try{l()}catch(c){et(r,s,c)}}var Uv=!1;function MC(r,s){if(Od=El,r=yg(),bd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var g=0,E=-1,S=-1,O=0,U=0,B=r,$=null;t:for(;;){for(var G;B!==l||f!==0&&B.nodeType!==3||(E=g+f),B!==p||c!==0&&B.nodeType!==3||(S=g+c),B.nodeType===3&&(g+=B.nodeValue.length),(G=B.firstChild)!==null;)$=B,B=G;for(;;){if(B===r)break t;if($===l&&++O===f&&(E=g),$===p&&++U===c&&(S=g),(G=B.nextSibling)!==null)break;B=$,$=B.parentNode}B=G}l=E===-1||S===-1?null:{start:E,end:S}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ld={focusedElem:r,selectionRange:l},El=!1,X=s;X!==null;)if(s=X,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,X=r;else for(;X!==null;){s=X;try{var J=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var ee=J.memoizedProps,rt=J.memoizedState,P=s.stateNode,T=P.getSnapshotBeforeUpdate(s.elementType===s.type?ee:Cn(s.type,ee),rt);P.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var A=s.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(V){et(s,s.return,V)}if(r=s.sibling,r!==null){r.return=s.return,X=r;break}X=s.return}return J=Uv,Uv=!1,J}function Xo(r,s,l){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var p=f.destroy;f.destroy=void 0,p!==void 0&&xf(s,l,p)}f=f.next}while(f!==c)}}function nu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var c=l.create;l.destroy=c()}l=l.next}while(l!==s)}}function Sf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Bv(r){var s=r.alternate;s!==null&&(r.alternate=null,Bv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Mn],delete s[Uo],delete s[jd],delete s[yC],delete s[wC])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function zv(r){return r.tag===5||r.tag===3||r.tag===4}function Vv(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||zv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Cf(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ol));else if(c!==4&&(r=r.child,r!==null))for(Cf(r,s,l),r=r.sibling;r!==null;)Cf(r,s,l),r=r.sibling}function bf(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(bf(r,s,l),r=r.sibling;r!==null;)bf(r,s,l),r=r.sibling}var _t=null,bn=!1;function Ur(r,s,l){for(l=l.child;l!==null;)Hv(r,s,l),l=l.sibling}function Hv(r,s,l){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(ml,l)}catch{}switch(l.tag){case 5:kt||Ps(l,s);case 6:var c=_t,f=bn;_t=null,Ur(r,s,l),_t=c,bn=f,_t!==null&&(bn?(r=_t,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):_t.removeChild(l.stateNode));break;case 18:_t!==null&&(bn?(r=_t,l=l.stateNode,r.nodeType===8?Fd(r.parentNode,l):r.nodeType===1&&Fd(r,l),Po(r)):Fd(_t,l.stateNode));break;case 4:c=_t,f=bn,_t=l.stateNode.containerInfo,bn=!0,Ur(r,s,l),_t=c,bn=f;break;case 0:case 11:case 14:case 15:if(!kt&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var p=f,g=p.destroy;p=p.tag,g!==void 0&&(p&2||p&4)&&xf(l,s,g),f=f.next}while(f!==c)}Ur(r,s,l);break;case 1:if(!kt&&(Ps(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(E){et(l,s,E)}Ur(r,s,l);break;case 21:Ur(r,s,l);break;case 22:l.mode&1?(kt=(c=kt)||l.memoizedState!==null,Ur(r,s,l),kt=c):Ur(r,s,l);break;default:Ur(r,s,l)}}function Wv(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new DC),s.forEach(function(c){var f=WC.bind(null,r,c);l.has(c)||(l.add(c),c.then(f,f))})}}function Tn(r,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var f=l[c];try{var p=r,g=s,E=g;e:for(;E!==null;){switch(E.tag){case 5:_t=E.stateNode,bn=!1;break e;case 3:_t=E.stateNode.containerInfo,bn=!0;break e;case 4:_t=E.stateNode.containerInfo,bn=!0;break e}E=E.return}if(_t===null)throw Error(n(160));Hv(p,g,f),_t=null,bn=!1;var S=f.alternate;S!==null&&(S.return=null),f.return=null}catch(O){et(f,s,O)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)qv(s,r),s=s.sibling}function qv(r,s){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Tn(s,r),$n(r),c&4){try{Xo(3,r,r.return),nu(3,r)}catch(ee){et(r,r.return,ee)}try{Xo(5,r,r.return)}catch(ee){et(r,r.return,ee)}}break;case 1:Tn(s,r),$n(r),c&512&&l!==null&&Ps(l,l.return);break;case 5:if(Tn(s,r),$n(r),c&512&&l!==null&&Ps(l,l.return),r.flags&32){var f=r.stateNode;try{Xn(f,"")}catch(ee){et(r,r.return,ee)}}if(c&4&&(f=r.stateNode,f!=null)){var p=r.memoizedProps,g=l!==null?l.memoizedProps:p,E=r.type,S=r.updateQueue;if(r.updateQueue=null,S!==null)try{E==="input"&&p.type==="radio"&&p.name!=null&&cl(f,p),td(E,g);var O=td(E,p);for(g=0;g<S.length;g+=2){var U=S[g],B=S[g+1];U==="style"?wo(f,B):U==="dangerouslySetInnerHTML"?un(f,B):U==="children"?Xn(f,B):z(f,U,B,O)}switch(E){case"input":yo(f,p);break;case"textarea":te(f,p);break;case"select":var $=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var G=p.value;G!=null?Ir(f,!!p.multiple,G,!1):$!==!!p.multiple&&(p.defaultValue!=null?Ir(f,!!p.multiple,p.defaultValue,!0):Ir(f,!!p.multiple,p.multiple?[]:"",!1))}f[Uo]=p}catch(ee){et(r,r.return,ee)}}break;case 6:if(Tn(s,r),$n(r),c&4){if(r.stateNode===null)throw Error(n(162));f=r.stateNode,p=r.memoizedProps;try{f.nodeValue=p}catch(ee){et(r,r.return,ee)}}break;case 3:if(Tn(s,r),$n(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Po(s.containerInfo)}catch(ee){et(r,r.return,ee)}break;case 4:Tn(s,r),$n(r);break;case 13:Tn(s,r),$n(r),f=r.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(kf=nt())),c&4&&Wv(r);break;case 22:if(U=l!==null&&l.memoizedState!==null,r.mode&1?(kt=(O=kt)||U,Tn(s,r),kt=O):Tn(s,r),$n(r),c&8192){if(O=r.memoizedState!==null,(r.stateNode.isHidden=O)&&!U&&r.mode&1)for(X=r,U=r.child;U!==null;){for(B=X=U;X!==null;){switch($=X,G=$.child,$.tag){case 0:case 11:case 14:case 15:Xo(4,$,$.return);break;case 1:Ps($,$.return);var J=$.stateNode;if(typeof J.componentWillUnmount=="function"){c=$,l=$.return;try{s=c,J.props=s.memoizedProps,J.state=s.memoizedState,J.componentWillUnmount()}catch(ee){et(c,l,ee)}}break;case 5:Ps($,$.return);break;case 22:if($.memoizedState!==null){Yv(B);continue}}G!==null?(G.return=$,X=G):Yv(B)}U=U.sibling}e:for(U=null,B=r;;){if(B.tag===5){if(U===null){U=B;try{f=B.stateNode,O?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(E=B.stateNode,S=B.memoizedProps.style,g=S!=null&&S.hasOwnProperty("display")?S.display:null,E.style.display=Jc("display",g))}catch(ee){et(r,r.return,ee)}}}else if(B.tag===6){if(U===null)try{B.stateNode.nodeValue=O?"":B.memoizedProps}catch(ee){et(r,r.return,ee)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===r)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===r)break e;for(;B.sibling===null;){if(B.return===null||B.return===r)break e;U===B&&(U=null),B=B.return}U===B&&(U=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:Tn(s,r),$n(r),c&4&&Wv(r);break;case 21:break;default:Tn(s,r),$n(r)}}function $n(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(zv(l)){var c=l;break e}l=l.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Xn(f,""),c.flags&=-33);var p=Vv(r);bf(r,p,f);break;case 3:case 4:var g=c.stateNode.containerInfo,E=Vv(r);Cf(r,E,g);break;default:throw Error(n(161))}}catch(S){et(r,r.return,S)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function FC(r,s,l){X=r,Gv(r)}function Gv(r,s,l){for(var c=(r.mode&1)!==0;X!==null;){var f=X,p=f.child;if(f.tag===22&&c){var g=f.memoizedState!==null||tu;if(!g){var E=f.alternate,S=E!==null&&E.memoizedState!==null||kt;E=tu;var O=kt;if(tu=g,(kt=S)&&!O)for(X=f;X!==null;)g=X,S=g.child,g.tag===22&&g.memoizedState!==null?Qv(f):S!==null?(S.return=g,X=S):Qv(f);for(;p!==null;)X=p,Gv(p),p=p.sibling;X=f,tu=E,kt=O}Kv(r)}else f.subtreeFlags&8772&&p!==null?(p.return=f,X=p):Kv(r)}}function Kv(r){for(;X!==null;){var s=X;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:kt||nu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!kt)if(l===null)c.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:Cn(s.type,l.memoizedProps);c.componentDidUpdate(f,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&Yg(s,p,c);break;case 3:var g=s.updateQueue;if(g!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Yg(s,g,l)}break;case 5:var E=s.stateNode;if(l===null&&s.flags&4){l=E;var S=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&l.focus();break;case"img":S.src&&(l.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var O=s.alternate;if(O!==null){var U=O.memoizedState;if(U!==null){var B=U.dehydrated;B!==null&&Po(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}kt||s.flags&512&&Sf(s)}catch($){et(s,s.return,$)}}if(s===r){X=null;break}if(l=s.sibling,l!==null){l.return=s.return,X=l;break}X=s.return}}function Yv(r){for(;X!==null;){var s=X;if(s===r){X=null;break}var l=s.sibling;if(l!==null){l.return=s.return,X=l;break}X=s.return}}function Qv(r){for(;X!==null;){var s=X;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{nu(4,s)}catch(S){et(s,l,S)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(S){et(s,f,S)}}var p=s.return;try{Sf(s)}catch(S){et(s,p,S)}break;case 5:var g=s.return;try{Sf(s)}catch(S){et(s,g,S)}}}catch(S){et(s,s.return,S)}if(s===r){X=null;break}var E=s.sibling;if(E!==null){E.return=s.return,X=E;break}X=s.return}}var jC=Math.ceil,ru=Z.ReactCurrentDispatcher,Tf=Z.ReactCurrentOwner,pn=Z.ReactCurrentBatchConfig,be=0,pt=null,lt=null,Et=0,nn=0,Ns=Dr(0),ct=0,Jo=null,Pi=0,iu=0,If=0,Zo=null,$t=null,kf=0,Rs=1/0,or=null,su=!1,Pf=null,Br=null,ou=!1,zr=null,au=0,ea=0,Nf=null,lu=-1,uu=0;function Ot(){return be&6?nt():lu!==-1?lu:lu=nt()}function Vr(r){return r.mode&1?be&2&&Et!==0?Et&-Et:EC.transition!==null?(uu===0&&(uu=Vm()),uu):(r=Ae,r!==0||(r=window.event,r=r===void 0?16:Jm(r.type)),r):1}function In(r,s,l,c){if(50<ea)throw ea=0,Nf=null,Error(n(185));Co(r,l,c),(!(be&2)||r!==pt)&&(r===pt&&(!(be&2)&&(iu|=l),ct===4&&Hr(r,Et)),Ut(r,c),l===1&&be===0&&!(s.mode&1)&&(Rs=nt()+500,Fl&&Fr()))}function Ut(r,s){var l=r.callbackNode;ES(r,s);var c=yl(r,r===pt?Et:0);if(c===0)l!==null&&Um(l),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(l!=null&&Um(l),s===1)r.tag===0?_C(Jv.bind(null,r)):Fg(Jv.bind(null,r)),gC(function(){!(be&6)&&Fr()}),l=null;else{switch(Hm(c)){case 1:l=ld;break;case 4:l=Bm;break;case 16:l=pl;break;case 536870912:l=zm;break;default:l=pl}l=oy(l,Xv.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Xv(r,s){if(lu=-1,uu=0,be&6)throw Error(n(327));var l=r.callbackNode;if(As()&&r.callbackNode!==l)return null;var c=yl(r,r===pt?Et:0);if(c===0)return null;if(c&30||c&r.expiredLanes||s)s=cu(r,c);else{s=c;var f=be;be|=2;var p=ey();(pt!==r||Et!==s)&&(or=null,Rs=nt()+500,Ri(r,s));do try{BC();break}catch(E){Zv(r,E)}while(!0);Gd(),ru.current=p,be=f,lt!==null?s=0:(pt=null,Et=0,s=ct)}if(s!==0){if(s===2&&(f=ud(r),f!==0&&(c=f,s=Rf(r,f))),s===1)throw l=Jo,Ri(r,0),Hr(r,c),Ut(r,nt()),l;if(s===6)Hr(r,c);else{if(f=r.current.alternate,!(c&30)&&!$C(f)&&(s=cu(r,c),s===2&&(p=ud(r),p!==0&&(c=p,s=Rf(r,p))),s===1))throw l=Jo,Ri(r,0),Hr(r,c),Ut(r,nt()),l;switch(r.finishedWork=f,r.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Ai(r,$t,or);break;case 3:if(Hr(r,c),(c&130023424)===c&&(s=kf+500-nt(),10<s)){if(yl(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){Ot(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Md(Ai.bind(null,r,$t,or),s);break}Ai(r,$t,or);break;case 4:if(Hr(r,c),(c&4194240)===c)break;for(s=r.eventTimes,f=-1;0<c;){var g=31-En(c);p=1<<g,g=s[g],g>f&&(f=g),c&=~p}if(c=f,c=nt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*jC(c/1960))-c,10<c){r.timeoutHandle=Md(Ai.bind(null,r,$t,or),c);break}Ai(r,$t,or);break;case 5:Ai(r,$t,or);break;default:throw Error(n(329))}}}return Ut(r,nt()),r.callbackNode===l?Xv.bind(null,r):null}function Rf(r,s){var l=Zo;return r.current.memoizedState.isDehydrated&&(Ri(r,s).flags|=256),r=cu(r,s),r!==2&&(s=$t,$t=l,s!==null&&Af(s)),r}function Af(r){$t===null?$t=r:$t.push.apply($t,r)}function $C(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var f=l[c],p=f.getSnapshot;f=f.value;try{if(!xn(p(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hr(r,s){for(s&=~If,s&=~iu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-En(s),c=1<<l;r[l]=-1,s&=~c}}function Jv(r){if(be&6)throw Error(n(327));As();var s=yl(r,0);if(!(s&1))return Ut(r,nt()),null;var l=cu(r,s);if(r.tag!==0&&l===2){var c=ud(r);c!==0&&(s=c,l=Rf(r,c))}if(l===1)throw l=Jo,Ri(r,0),Hr(r,s),Ut(r,nt()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ai(r,$t,or),Ut(r,nt()),null}function Of(r,s){var l=be;be|=1;try{return r(s)}finally{be=l,be===0&&(Rs=nt()+500,Fl&&Fr())}}function Ni(r){zr!==null&&zr.tag===0&&!(be&6)&&As();var s=be;be|=1;var l=pn.transition,c=Ae;try{if(pn.transition=null,Ae=1,r)return r()}finally{Ae=c,pn.transition=l,be=s,!(be&6)&&Fr()}}function Lf(){nn=Ns.current,He(Ns)}function Ri(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,mC(l)),lt!==null)for(l=lt.return;l!==null;){var c=l;switch(zd(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Dl();break;case 3:Is(),He(Mt),He(bt),tf();break;case 5:Zd(c);break;case 4:Is();break;case 13:He(Xe);break;case 19:He(Xe);break;case 10:Kd(c.type._context);break;case 22:case 23:Lf()}l=l.return}if(pt=r,lt=r=Wr(r.current,null),Et=nn=s,ct=0,Jo=null,If=iu=Pi=0,$t=Zo=null,Ti!==null){for(s=0;s<Ti.length;s++)if(l=Ti[s],c=l.interleaved,c!==null){l.interleaved=null;var f=c.next,p=l.pending;if(p!==null){var g=p.next;p.next=f,c.next=g}l.pending=c}Ti=null}return r}function Zv(r,s){do{var l=lt;try{if(Gd(),Gl.current=Xl,Kl){for(var c=Je.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Kl=!1}if(ki=0,ht=ut=Je=null,qo=!1,Go=0,Tf.current=null,l===null||l.return===null){ct=1,Jo=s,lt=null;break}e:{var p=r,g=l.return,E=l,S=s;if(s=Et,E.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var O=S,U=E,B=U.tag;if(!(U.mode&1)&&(B===0||B===11||B===15)){var $=U.alternate;$?(U.updateQueue=$.updateQueue,U.memoizedState=$.memoizedState,U.lanes=$.lanes):(U.updateQueue=null,U.memoizedState=null)}var G=Cv(g);if(G!==null){G.flags&=-257,bv(G,g,E,p,s),G.mode&1&&Sv(p,O,s),s=G,S=O;var J=s.updateQueue;if(J===null){var ee=new Set;ee.add(S),s.updateQueue=ee}else J.add(S);break e}else{if(!(s&1)){Sv(p,O,s),Df();break e}S=Error(n(426))}}else if(Ke&&E.mode&1){var rt=Cv(g);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),bv(rt,g,E,p,s),Wd(ks(S,E));break e}}p=S=ks(S,E),ct!==4&&(ct=2),Zo===null?Zo=[p]:Zo.push(p),p=g;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var P=Ev(p,S,s);Kg(p,P);break e;case 1:E=S;var T=p.type,A=p.stateNode;if(!(p.flags&128)&&(typeof T.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Br===null||!Br.has(A)))){p.flags|=65536,s&=-s,p.lanes|=s;var V=xv(p,E,s);Kg(p,V);break e}}p=p.return}while(p!==null)}ny(l)}catch(ne){s=ne,lt===l&&l!==null&&(lt=l=l.return);continue}break}while(!0)}function ey(){var r=ru.current;return ru.current=Xl,r===null?Xl:r}function Df(){(ct===0||ct===3||ct===2)&&(ct=4),pt===null||!(Pi&268435455)&&!(iu&268435455)||Hr(pt,Et)}function cu(r,s){var l=be;be|=2;var c=ey();(pt!==r||Et!==s)&&(or=null,Ri(r,s));do try{UC();break}catch(f){Zv(r,f)}while(!0);if(Gd(),be=l,ru.current=c,lt!==null)throw Error(n(261));return pt=null,Et=0,ct}function UC(){for(;lt!==null;)ty(lt)}function BC(){for(;lt!==null&&!fS();)ty(lt)}function ty(r){var s=sy(r.alternate,r,nn);r.memoizedProps=r.pendingProps,s===null?ny(r):lt=s,Tf.current=null}function ny(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=LC(l,s),l!==null){l.flags&=32767,lt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{ct=6,lt=null;return}}else if(l=OC(l,s,nn),l!==null){lt=l;return}if(s=s.sibling,s!==null){lt=s;return}lt=s=r}while(s!==null);ct===0&&(ct=5)}function Ai(r,s,l){var c=Ae,f=pn.transition;try{pn.transition=null,Ae=1,zC(r,s,l,c)}finally{pn.transition=f,Ae=c}return null}function zC(r,s,l,c){do As();while(zr!==null);if(be&6)throw Error(n(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var p=l.lanes|l.childLanes;if(xS(r,p),r===pt&&(lt=pt=null,Et=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||ou||(ou=!0,oy(pl,function(){return As(),null})),p=(l.flags&15990)!==0,l.subtreeFlags&15990||p){p=pn.transition,pn.transition=null;var g=Ae;Ae=1;var E=be;be|=4,Tf.current=null,MC(r,l),qv(l,r),lC(Ld),El=!!Od,Ld=Od=null,r.current=l,FC(l),hS(),be=E,Ae=g,pn.transition=p}else r.current=l;if(ou&&(ou=!1,zr=r,au=f),p=r.pendingLanes,p===0&&(Br=null),gS(l.stateNode),Ut(r,nt()),s!==null)for(c=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],c(f.value,{componentStack:f.stack,digest:f.digest});if(su)throw su=!1,r=Pf,Pf=null,r;return au&1&&r.tag!==0&&As(),p=r.pendingLanes,p&1?r===Nf?ea++:(ea=0,Nf=r):ea=0,Fr(),null}function As(){if(zr!==null){var r=Hm(au),s=pn.transition,l=Ae;try{if(pn.transition=null,Ae=16>r?16:r,zr===null)var c=!1;else{if(r=zr,zr=null,au=0,be&6)throw Error(n(331));var f=be;for(be|=4,X=r.current;X!==null;){var p=X,g=p.child;if(X.flags&16){var E=p.deletions;if(E!==null){for(var S=0;S<E.length;S++){var O=E[S];for(X=O;X!==null;){var U=X;switch(U.tag){case 0:case 11:case 15:Xo(8,U,p)}var B=U.child;if(B!==null)B.return=U,X=B;else for(;X!==null;){U=X;var $=U.sibling,G=U.return;if(Bv(U),U===O){X=null;break}if($!==null){$.return=G,X=$;break}X=G}}}var J=p.alternate;if(J!==null){var ee=J.child;if(ee!==null){J.child=null;do{var rt=ee.sibling;ee.sibling=null,ee=rt}while(ee!==null)}}X=p}}if(p.subtreeFlags&2064&&g!==null)g.return=p,X=g;else e:for(;X!==null;){if(p=X,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Xo(9,p,p.return)}var P=p.sibling;if(P!==null){P.return=p.return,X=P;break e}X=p.return}}var T=r.current;for(X=T;X!==null;){g=X;var A=g.child;if(g.subtreeFlags&2064&&A!==null)A.return=g,X=A;else e:for(g=T;X!==null;){if(E=X,E.flags&2048)try{switch(E.tag){case 0:case 11:case 15:nu(9,E)}}catch(ne){et(E,E.return,ne)}if(E===g){X=null;break e}var V=E.sibling;if(V!==null){V.return=E.return,X=V;break e}X=E.return}}if(be=f,Fr(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(ml,r)}catch{}c=!0}return c}finally{Ae=l,pn.transition=s}}return!1}function ry(r,s,l){s=ks(l,s),s=Ev(r,s,1),r=$r(r,s,1),s=Ot(),r!==null&&(Co(r,1,s),Ut(r,s))}function et(r,s,l){if(r.tag===3)ry(r,r,l);else for(;s!==null;){if(s.tag===3){ry(s,r,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Br===null||!Br.has(c))){r=ks(l,r),r=xv(s,r,1),s=$r(s,r,1),r=Ot(),s!==null&&(Co(s,1,r),Ut(s,r));break}}s=s.return}}function VC(r,s,l){var c=r.pingCache;c!==null&&c.delete(s),s=Ot(),r.pingedLanes|=r.suspendedLanes&l,pt===r&&(Et&l)===l&&(ct===4||ct===3&&(Et&130023424)===Et&&500>nt()-kf?Ri(r,0):If|=l),Ut(r,s)}function iy(r,s){s===0&&(r.mode&1?(s=vl,vl<<=1,!(vl&130023424)&&(vl=4194304)):s=1);var l=Ot();r=rr(r,s),r!==null&&(Co(r,s,l),Ut(r,l))}function HC(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),iy(r,l)}function WC(r,s){var l=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),iy(r,l)}var sy;sy=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Mt.current)jt=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return jt=!1,AC(r,s,l);jt=!!(r.flags&131072)}else jt=!1,Ke&&s.flags&1048576&&jg(s,$l,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;eu(r,s),r=s.pendingProps;var f=_s(s,bt.current);Ts(s,l),f=sf(null,s,c,r,f,l);var p=of();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ft(c)?(p=!0,Ml(s)):p=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Xd(s),f.updater=Jl,s.stateNode=f,f._reactInternals=s,ff(s,c,r,l),s=gf(null,s,c,!0,p,l)):(s.tag=0,Ke&&p&&Bd(s),At(null,s,f,l),s=s.child),s;case 16:c=s.elementType;e:{switch(eu(r,s),r=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=GC(c),r=Cn(c,r),f){case 0:s=mf(null,s,c,r,l);break e;case 1:s=Rv(null,s,c,r,l);break e;case 11:s=Tv(null,s,c,r,l);break e;case 14:s=Iv(null,s,c,Cn(c.type,r),l);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Cn(c,f),mf(r,s,c,f,l);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Cn(c,f),Rv(r,s,c,f,l);case 3:e:{if(Av(s),r===null)throw Error(n(387));c=s.pendingProps,p=s.memoizedState,f=p.element,Gg(r,s),Wl(s,c,null,l);var g=s.memoizedState;if(c=g.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){f=ks(Error(n(423)),s),s=Ov(r,s,c,l,f);break e}else if(c!==f){f=ks(Error(n(424)),s),s=Ov(r,s,c,l,f);break e}else for(tn=Lr(s.stateNode.containerInfo.firstChild),en=s,Ke=!0,Sn=null,l=Wg(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ss(),c===f){s=sr(r,s,l);break e}At(r,s,c,l)}s=s.child}return s;case 5:return Qg(s),r===null&&Hd(s),c=s.type,f=s.pendingProps,p=r!==null?r.memoizedProps:null,g=f.children,Dd(c,f)?g=null:p!==null&&Dd(c,p)&&(s.flags|=32),Nv(r,s),At(r,s,g,l),s.child;case 6:return r===null&&Hd(s),null;case 13:return Lv(r,s,l);case 4:return Jd(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Cs(s,null,c,l):At(r,s,c,l),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Cn(c,f),Tv(r,s,c,f,l);case 7:return At(r,s,s.pendingProps,l),s.child;case 8:return At(r,s,s.pendingProps.children,l),s.child;case 12:return At(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,p=s.memoizedProps,g=f.value,$e(zl,c._currentValue),c._currentValue=g,p!==null)if(xn(p.value,g)){if(p.children===f.children&&!Mt.current){s=sr(r,s,l);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var E=p.dependencies;if(E!==null){g=p.child;for(var S=E.firstContext;S!==null;){if(S.context===c){if(p.tag===1){S=ir(-1,l&-l),S.tag=2;var O=p.updateQueue;if(O!==null){O=O.shared;var U=O.pending;U===null?S.next=S:(S.next=U.next,U.next=S),O.pending=S}}p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),Yd(p.return,l,s),E.lanes|=l;break}S=S.next}}else if(p.tag===10)g=p.type===s.type?null:p.child;else if(p.tag===18){if(g=p.return,g===null)throw Error(n(341));g.lanes|=l,E=g.alternate,E!==null&&(E.lanes|=l),Yd(g,l,s),g=p.sibling}else g=p.child;if(g!==null)g.return=p;else for(g=p;g!==null;){if(g===s){g=null;break}if(p=g.sibling,p!==null){p.return=g.return,g=p;break}g=g.return}p=g}At(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,Ts(s,l),f=fn(f),c=c(f),s.flags|=1,At(r,s,c,l),s.child;case 14:return c=s.type,f=Cn(c,s.pendingProps),f=Cn(c.type,f),Iv(r,s,c,f,l);case 15:return kv(r,s,s.type,s.pendingProps,l);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Cn(c,f),eu(r,s),s.tag=1,Ft(c)?(r=!0,Ml(s)):r=!1,Ts(s,l),wv(s,c,f),ff(s,c,f,l),gf(null,s,c,!0,r,l);case 19:return Mv(r,s,l);case 22:return Pv(r,s,l)}throw Error(n(156,s.tag))};function oy(r,s){return $m(r,s)}function qC(r,s,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(r,s,l,c){return new qC(r,s,l,c)}function Mf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function GC(r){if(typeof r=="function")return Mf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ot)return 11;if(r===Jt)return 14}return 2}function Wr(r,s){var l=r.alternate;return l===null?(l=mn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function du(r,s,l,c,f,p){var g=2;if(c=r,typeof r=="function")Mf(r)&&(g=1);else if(typeof r=="string")g=5;else e:switch(r){case Q:return Oi(l.children,f,p,s);case _e:g=8,f|=8;break;case pe:return r=mn(12,l,s,f|2),r.elementType=pe,r.lanes=p,r;case Le:return r=mn(13,l,s,f),r.elementType=Le,r.lanes=p,r;case at:return r=mn(19,l,s,f),r.elementType=at,r.lanes=p,r;case Ge:return fu(l,f,p,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case je:g=10;break e;case Se:g=9;break e;case ot:g=11;break e;case Jt:g=14;break e;case St:g=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=mn(g,l,s,f),s.elementType=r,s.type=c,s.lanes=p,s}function Oi(r,s,l,c){return r=mn(7,r,c,s),r.lanes=l,r}function fu(r,s,l,c){return r=mn(22,r,c,s),r.elementType=Ge,r.lanes=l,r.stateNode={isHidden:!1},r}function Ff(r,s,l){return r=mn(6,r,null,s),r.lanes=l,r}function jf(r,s,l){return s=mn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function KC(r,s,l,c,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cd(0),this.expirationTimes=cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cd(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function $f(r,s,l,c,f,p,g,E,S){return r=new KC(r,s,l,E,S),s===1?(s=1,p===!0&&(s|=8)):s=0,p=mn(3,null,null,s),r.current=p,p.stateNode=r,p.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xd(p),r}function YC(r,s,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:c==null?null:""+c,children:r,containerInfo:s,implementation:l}}function ay(r){if(!r)return Mr;r=r._reactInternals;e:{if(Ei(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ft(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(Ft(l))return Dg(r,l,s)}return s}function ly(r,s,l,c,f,p,g,E,S){return r=$f(l,c,!0,r,f,p,g,E,S),r.context=ay(null),l=r.current,c=Ot(),f=Vr(l),p=ir(c,f),p.callback=s??null,$r(l,p,f),r.current.lanes=f,Co(r,f,c),Ut(r,c),r}function hu(r,s,l,c){var f=s.current,p=Ot(),g=Vr(f);return l=ay(l),s.context===null?s.context=l:s.pendingContext=l,s=ir(p,g),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=$r(f,s,g),r!==null&&(In(r,f,g,p),Hl(r,f,g)),g}function pu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function uy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Uf(r,s){uy(r,s),(r=r.alternate)&&uy(r,s)}function QC(){return null}var cy=typeof reportError=="function"?reportError:function(r){console.error(r)};function Bf(r){this._internalRoot=r}mu.prototype.render=Bf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));hu(r,s,null,null)},mu.prototype.unmount=Bf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ni(function(){hu(null,r,null,null)}),s[Zn]=null}};function mu(r){this._internalRoot=r}mu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Gm();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Rr.length&&s!==0&&s<Rr[l].priority;l++);Rr.splice(l,0,r),l===0&&Qm(r)}};function zf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function gu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function dy(){}function XC(r,s,l,c,f){if(f){if(typeof c=="function"){var p=c;c=function(){var O=pu(g);p.call(O)}}var g=ly(s,c,r,0,null,!1,!1,"",dy);return r._reactRootContainer=g,r[Zn]=g.current,jo(r.nodeType===8?r.parentNode:r),Ni(),g}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var E=c;c=function(){var O=pu(S);E.call(O)}}var S=$f(r,0,!1,null,null,!1,!1,"",dy);return r._reactRootContainer=S,r[Zn]=S.current,jo(r.nodeType===8?r.parentNode:r),Ni(function(){hu(s,S,l,c)}),S}function vu(r,s,l,c,f){var p=l._reactRootContainer;if(p){var g=p;if(typeof f=="function"){var E=f;f=function(){var S=pu(g);E.call(S)}}hu(s,g,r,f)}else g=XC(l,s,r,f,c);return pu(g)}Wm=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=So(s.pendingLanes);l!==0&&(dd(s,l|1),Ut(s,nt()),!(be&6)&&(Rs=nt()+500,Fr()))}break;case 13:Ni(function(){var c=rr(r,1);if(c!==null){var f=Ot();In(c,r,1,f)}}),Uf(r,1)}},fd=function(r){if(r.tag===13){var s=rr(r,134217728);if(s!==null){var l=Ot();In(s,r,134217728,l)}Uf(r,134217728)}},qm=function(r){if(r.tag===13){var s=Vr(r),l=rr(r,s);if(l!==null){var c=Ot();In(l,r,s,c)}Uf(r,s)}},Gm=function(){return Ae},Km=function(r,s){var l=Ae;try{return Ae=r,s()}finally{Ae=l}},id=function(r,s,l){switch(s){case"input":if(yo(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==r&&c.form===r.form){var f=Ll(c);if(!f)throw Error(n(90));ll(c),yo(c,f)}}}break;case"textarea":te(r,l);break;case"select":s=l.value,s!=null&&Ir(r,!!l.multiple,s,!1)}},Am=Of,Om=Ni;var JC={usingClientEntryPoint:!1,Events:[Bo,ys,Ll,Nm,Rm,Of]},ta={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZC={bundleType:ta.bundleType,version:ta.version,rendererPackageName:ta.rendererPackageName,rendererConfig:ta.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Z.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Fm(r),r===null?null:r.stateNode},findFiberByHostInstance:ta.findFiberByHostInstance||QC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{ml=yu.inject(ZC),Dn=yu}catch{}}return Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JC,Bt.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zf(s))throw Error(n(200));return YC(r,s,null,l)},Bt.createRoot=function(r,s){if(!zf(r))throw Error(n(299));var l=!1,c="",f=cy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=$f(r,1,!1,null,null,l,!1,c,f),r[Zn]=s.current,jo(r.nodeType===8?r.parentNode:r),new Bf(s)},Bt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Fm(s),r=r===null?null:r.stateNode,r},Bt.flushSync=function(r){return Ni(r)},Bt.hydrate=function(r,s,l){if(!gu(s))throw Error(n(200));return vu(null,r,s,!0,l)},Bt.hydrateRoot=function(r,s,l){if(!zf(r))throw Error(n(405));var c=l!=null&&l.hydratedSources||null,f=!1,p="",g=cy;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(g=l.onRecoverableError)),s=ly(s,null,r,1,l??null,f,!1,p,g),r[Zn]=s.current,jo(r),c)for(r=0;r<c.length;r++)l=c[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new mu(s)},Bt.render=function(r,s,l){if(!gu(s))throw Error(n(200));return vu(null,r,s,!1,l)},Bt.unmountComponentAtNode=function(r){if(!gu(r))throw Error(n(40));return r._reactRootContainer?(Ni(function(){vu(null,null,r,!1,function(){r._reactRootContainer=null,r[Zn]=null})}),!0):!1},Bt.unstable_batchedUpdates=Of,Bt.unstable_renderSubtreeIntoContainer=function(r,s,l,c){if(!gu(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return vu(r,s,l,!1,c)},Bt.version="18.3.1-next-f1338f8080-20240426",Bt}var by;function N2(){if(by)return Gf.exports;by=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gf.exports=P2(),Gf.exports}var _u={},Ty;function R2(){if(Ty)return _u;Ty=1;var t=N2();return _u.createRoot=t.createRoot,_u.hydrateRoot=t.hydrateRoot,_u}var A2=R2();const O2=to(A2);var Iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(t,e){if(!t)throw io(e)},io=function(t){return new Error("Firebase Database ("+n0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},L2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],d=t[n++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},cp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,d=u?t[o+1]:0,h=o+2<t.length,m=h?t[o+2]:0,y=a>>2,w=(a&3)<<4|d>>4;let v=(d&15)<<2|m>>6,x=m&63;h||(x=64,u||(v=64)),i.push(n[y],n[w],n[v],n[x])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):L2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const w=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||d==null||m==null||w==null)throw new D2;const v=a<<2|d>>4;if(i.push(v),m!==64){const x=d<<4&240|m>>2;if(i.push(x),w!==64){const C=m<<6&192|w;i.push(C)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class D2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i0=function(t){const e=r0(t);return cp.encodeByteArray(e,!0)},Uu=function(t){return i0(t).replace(/\./g,"")},Bu=function(t){try{return cp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){return s0(void 0,t)}function s0(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!F2(n)||(t[n]=s0(t[n],e[n]));return t}function F2(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=()=>j2().__FIREBASE_DEFAULTS__,U2=()=>{if(typeof process>"u"||typeof Iy>"u")return;const t=Iy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},B2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bu(t[1]);return e&&JSON.parse(e)},dp=()=>{try{return $2()||U2()||B2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},o0=t=>{var e,n;return(n=(e=dp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},z2=t=>{const e=o0(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},a0=()=>{var t;return(t=dp())===null||t===void 0?void 0:t.config},l0=t=>{var e;return(e=dp())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uu(JSON.stringify(n)),Uu(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function H2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function W2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function u0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function q2(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function c0(){return n0.NODE_ADMIN===!0}function G2(){try{return typeof indexedDB=="object"}catch{return!1}}function K2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="FirebaseError";class mi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Y2,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ba.prototype.create)}}class Ba{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?Q2(a,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new mi(o,d,i)}}function Q2(t,e){return t.replace(X2,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const X2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xa(t){return JSON.parse(t)}function dt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=function(t){let e={},n={},i={},o="";try{const a=t.split(".");e=xa(Bu(a[0])||""),n=xa(Bu(a[1])||""),o=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:o}},J2=function(t){const e=d0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Z2=function(t){const e=d0(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function qs(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function kh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function zu(t,e,n){const i={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}function Vu(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],u=e[o];if(ky(a)&&ky(u)){if(!Vu(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function ky(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function ca(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function da(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let w=0;w<16;w++)i[w]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let w=0;w<16;w++)i[w]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let w=16;w<80;w++){const v=i[w-3]^i[w-8]^i[w-14]^i[w-16];i[w]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],a=this.chain_[1],u=this.chain_[2],d=this.chain_[3],h=this.chain_[4],m,y;for(let w=0;w<80;w++){w<40?w<20?(m=d^a&(u^d),y=1518500249):(m=a^u^d,y=1859775393):w<60?(m=a&u|d&(a|u),y=2400959708):(m=a^u^d,y=3395469782);const v=(o<<5|o>>>27)+m+h+y+i[w]&4294967295;h=d,d=u,u=(a<<30|a>>>2)&4294967295,a=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let o=0;const a=this.buf_;let u=this.inbuf_;for(;o<n;){if(u===0)for(;o<=i;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(a[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(a),u=0;break}}else for(;o<n;)if(a[u]=e[o],++u,++o,u===this.blockSize){this.compress_(a),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[o]>>a&255,++i;return e}}function tT(t,e){const n=new nT(t,e);return n.subscribe.bind(n)}class nT{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");rT(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Qf),o.error===void 0&&(o.error=Qf),o.complete===void 0&&(o.complete=Qf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rT(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qf(){}function hp(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);if(o>=55296&&o<=56319){const a=o-55296;i++,H(i<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(i)-56320;o=65536+(a<<10)+u}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Tc=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class Hi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new bc;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aT(e))try{this.getOrInitializeService({instanceIdentifier:Fi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fi){return this.instances.has(e)}getOptions(e=Fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&u.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:oT(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Fi){return this.component?this.component.multipleInstances?e:Fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oT(t){return t===Fi?void 0:t}function aT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sT(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const uT={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},cT=De.INFO,dT={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},fT=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=dT[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pp{constructor(e){this.name=e,this._logLevel=cT,this._logHandler=fT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const hT=(t,e)=>e.some(n=>t instanceof n);let Py,Ny;function pT(){return Py||(Py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mT(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f0=new WeakMap,Ph=new WeakMap,h0=new WeakMap,Xf=new WeakMap,mp=new WeakMap;function gT(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(ri(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&f0.set(n,t)}).catch(()=>{}),mp.set(e,t),e}function vT(t){if(Ph.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Ph.set(t,e)}let Nh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ph.get(t);if(e==="objectStoreNames")return t.objectStoreNames||h0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function yT(t){Nh=t(Nh)}function wT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Jf(this),e,...n);return h0.set(i,e.sort?e.sort():[e]),ri(i)}:mT().includes(t)?function(...e){return t.apply(Jf(this),e),ri(f0.get(this))}:function(...e){return ri(t.apply(Jf(this),e))}}function _T(t){return typeof t=="function"?wT(t):(t instanceof IDBTransaction&&vT(t),hT(t,pT())?new Proxy(t,Nh):t)}function ri(t){if(t instanceof IDBRequest)return gT(t);if(Xf.has(t))return Xf.get(t);const e=_T(t);return e!==t&&(Xf.set(t,e),mp.set(e,t)),e}const Jf=t=>mp.get(t);function ET(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),d=ri(u);return i&&u.addEventListener("upgradeneeded",h=>{i(ri(u.result),h.oldVersion,h.newVersion,ri(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const xT=["get","getKey","getAll","getAllKeys","count"],ST=["put","add","delete","clear"],Zf=new Map;function Ry(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Zf.get(e))return Zf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=ST.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||xT.includes(n)))return;const a=async function(u,...d){const h=this.transaction(u,o?"readwrite":"readonly");let m=h.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),o&&h.done]))[0]};return Zf.set(e,a),a}yT(t=>({...t,get:(e,n,i)=>Ry(e,n)||t.get(e,n,i),has:(e,n)=>!!Ry(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bT(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function bT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Rh="@firebase/app",Ay="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new pp("@firebase/app"),TT="@firebase/app-compat",IT="@firebase/analytics-compat",kT="@firebase/analytics",PT="@firebase/app-check-compat",NT="@firebase/app-check",RT="@firebase/auth",AT="@firebase/auth-compat",OT="@firebase/database",LT="@firebase/data-connect",DT="@firebase/database-compat",MT="@firebase/functions",FT="@firebase/functions-compat",jT="@firebase/installations",$T="@firebase/installations-compat",UT="@firebase/messaging",BT="@firebase/messaging-compat",zT="@firebase/performance",VT="@firebase/performance-compat",HT="@firebase/remote-config",WT="@firebase/remote-config-compat",qT="@firebase/storage",GT="@firebase/storage-compat",KT="@firebase/firestore",YT="@firebase/vertexai",QT="@firebase/firestore-compat",XT="firebase",JT="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah="[DEFAULT]",ZT={[Rh]:"fire-core",[TT]:"fire-core-compat",[kT]:"fire-analytics",[IT]:"fire-analytics-compat",[NT]:"fire-app-check",[PT]:"fire-app-check-compat",[RT]:"fire-auth",[AT]:"fire-auth-compat",[OT]:"fire-rtdb",[LT]:"fire-data-connect",[DT]:"fire-rtdb-compat",[MT]:"fire-fn",[FT]:"fire-fn-compat",[jT]:"fire-iid",[$T]:"fire-iid-compat",[UT]:"fire-fcm",[BT]:"fire-fcm-compat",[zT]:"fire-perf",[VT]:"fire-perf-compat",[HT]:"fire-rc",[WT]:"fire-rc-compat",[qT]:"fire-gcs",[GT]:"fire-gcs-compat",[KT]:"fire-fst",[QT]:"fire-fst-compat",[YT]:"fire-vertex","fire-js":"fire-js",[XT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Map,eI=new Map,Oh=new Map;function Oy(t,e){try{t.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Gs(t){const e=t.name;if(Oh.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Oh.set(e,t);for(const n of Hu.values())Oy(n,t);for(const n of eI.values())Oy(n,t);return!0}function gp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new Ba("app","Firebase",tI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=JT;function p0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ah,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ii.create("bad-app-name",{appName:String(o)});if(n||(n=a0()),!n)throw ii.create("no-options");const a=Hu.get(o);if(a){if(Vu(n,a.options)&&Vu(i,a.config))return a;throw ii.create("duplicate-app",{appName:o})}const u=new lT(o);for(const h of Oh.values())u.addComponent(h);const d=new nI(n,i,u);return Hu.set(o,d),d}function m0(t=Ah){const e=Hu.get(t);if(!e&&t===Ah&&a0())return p0();if(!e)throw ii.create("no-app",{appName:t});return e}function si(t,e,n){var i;let o=(i=ZT[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(d.join(" "));return}Gs(new Hi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="firebase-heartbeat-database",iI=1,Sa="firebase-heartbeat-store";let eh=null;function g0(){return eh||(eh=ET(rI,iI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sa)}catch(n){console.warn(n)}}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),eh}async function sI(t){try{const n=(await g0()).transaction(Sa),i=await n.objectStore(Sa).get(v0(t));return await n.done,i}catch(e){if(e instanceof mi)yr.warn(e.message);else{const n=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(n.message)}}}async function Ly(t,e){try{const i=(await g0()).transaction(Sa,"readwrite");await i.objectStore(Sa).put(e,v0(t)),await i.done}catch(n){if(n instanceof mi)yr.warn(n.message);else{const i=ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(i.message)}}}function v0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=1024,aI=30*24*60*60*1e3;class lI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Dy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=aI}),this._storage.overwrite(this._heartbeatsCache))}catch(i){yr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Dy(),{heartbeatsToSend:i,unsentEntries:o}=uI(this._heartbeatsCache.heartbeats),a=Uu(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return yr.warn(n),""}}}function Dy(){return new Date().toISOString().substring(0,10)}function uI(t,e=oI){const n=[];let i=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),My(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),My(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class cI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return G2()?K2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ly(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ly(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function My(t){return Uu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t){Gs(new Hi("platform-logger",e=>new CT(e),"PRIVATE")),Gs(new Hi("heartbeat",e=>new lI(e),"PRIVATE")),si(Rh,Ay,t),si(Rh,Ay,"esm2017"),si("fire-js","")}dI("");var Fy={};const jy="@firebase/database",$y="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y0="";function fI(t){y0=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:xa(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return xr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new hI(e)}}catch{}return new pI},$i=w0("localStorage"),mI=w0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new pp("@firebase/database"),gI=function(){let t=1;return function(){return t++}}(),_0=function(t){const e=iT(t),n=new eT;n.update(e);const i=n.digest();return cp.encodeByteArray(i)},za=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=za.apply(null,i):typeof i=="object"?e+=dt(i):e+=i,e+=" "}return e};let ha=null,Uy=!0;const vI=function(t,e){H(!e,"Can't turn on custom loggers persistently."),$s.logLevel=De.VERBOSE,ha=$s.log.bind($s)},Pt=function(...t){if(Uy===!0&&(Uy=!1,ha===null&&mI.get("logging_enabled")===!0&&vI()),ha){const e=za.apply(null,t);ha(e)}},Va=function(t){return function(...e){Pt(t,...e)}},Lh=function(...t){const e="FIREBASE INTERNAL ERROR: "+za(...t);$s.error(e)},wr=function(...t){const e=`FIREBASE FATAL ERROR: ${za(...t)}`;throw $s.error(e),new Error(e)},Wt=function(...t){const e="FIREBASE WARNING: "+za(...t);$s.warn(e)},yI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},E0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},wI=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ks="[MIN_NAME]",Wi="[MAX_NAME]",ao=function(t,e){if(t===e)return 0;if(t===Ks||e===Wi)return-1;if(e===Ks||t===Wi)return 1;{const n=By(t),i=By(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},_I=function(t,e){return t===e?0:t<e?-1:1},sa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+dt(e))},vp=function(t){if(typeof t!="object"||t===null)return dt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=dt(e[i]),n+=":",n+=vp(t[e[i]]);return n+="}",n},x0=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let o=0;o<n;o+=e)o+e>n?i.push(t.substring(o,n)):i.push(t.substring(o,o+e));return i};function Kt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const S0=function(t){H(!E0(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let o,a,u,d,h;t===0?(a=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(t)/Math.LN2),i),a=d+i,u=Math.round(t*Math.pow(2,n-d)-Math.pow(2,n))):(a=0,u=Math.round(t/Math.pow(2,1-i-n))));const m=[];for(h=n;h;h-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(h=e;h;h-=1)m.push(a%2?1:0),a=Math.floor(a/2);m.push(o?1:0),m.reverse();const y=m.join("");let w="";for(h=0;h<64;h+=8){let v=parseInt(y.substr(h,8),2).toString(16);v.length===1&&(v="0"+v),w=w+v}return w.toLowerCase()},EI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},xI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function SI(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const CI=new RegExp("^-?(0*)\\d{1,10}$"),bI=-2147483648,TI=2147483647,By=function(t){if(CI.test(t)){const e=Number(t);if(e>=bI&&e<=TI)return e}return null},lo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},II=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},pa=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wt(e)}}class Nu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Nu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="5",C0="v",b0="s",T0="r",I0="f",k0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,P0="ls",N0="p",Dh="ac",R0="websocket",A0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n,i,o,a=!1,u="",d=!1,h=!1){this.secure=n,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=a,this.persistenceKey=u,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$i.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$i.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function NI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function L0(t,e,n){H(typeof e=="string","typeof type must == string"),H(typeof n=="object","typeof params must == object");let i;if(e===R0)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===A0)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);NI(t)&&(n.ns=t.namespace);const o=[];return Kt(n,(a,u)=>{o.push(a+"="+u)}),i+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(){this.counters_={}}incrementCounter(e,n=1){xr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return M2(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th={},nh={};function wp(t){const e=t.toString();return th[e]||(th[e]=new RI),th[e]}function AI(t,e){const n=t.toString();return nh[n]||(nh[n]=e()),nh[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&lo(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="start",LI="close",DI="pLPCommand",MI="pRTLPCB",D0="id",M0="pw",F0="ser",FI="cb",jI="seg",$I="ts",UI="d",BI="dframe",j0=1870,$0=30,zI=j0-$0,VI=25e3,HI=3e4;class Ms{constructor(e,n,i,o,a,u,d){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=o,this.authToken=a,this.transportSessionId=u,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Va(e),this.stats_=wp(n),this.urlFn=h=>(this.appCheckToken&&(h[Dh]=this.appCheckToken),L0(n,A0,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new OI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(HI)),wI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _p((...a)=>{const[u,d,h,m,y]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===zy)this.id=d,this.password=h;else if(u===LI)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...a)=>{const[u,d]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(u,d)},()=>{this.onClosed_()},this.urlFn);const i={};i[zy]="t",i[F0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[FI]=this.scriptTagHolder.uniqueCallbackIdentifier),i[C0]=yp,this.transportSessionId&&(i[b0]=this.transportSessionId),this.lastSessionId&&(i[P0]=this.lastSessionId),this.applicationId&&(i[N0]=this.applicationId),this.appCheckToken&&(i[Dh]=this.appCheckToken),typeof location<"u"&&location.hostname&&k0.test(location.hostname)&&(i[T0]=I0);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ms.forceAllow_=!0}static forceDisallow(){Ms.forceDisallow_=!0}static isAvailable(){return Ms.forceAllow_?!0:!Ms.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!EI()&&!xI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=i0(n),o=x0(i,zI);for(let a=0;a<o.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[BI]="t",i[D0]=e,i[M0]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class _p{constructor(e,n,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=gI(),window[DI+this.uniqueCallbackIdentifier]=e,window[MI+this.uniqueCallbackIdentifier]=n,this.myIFrame=_p.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(d){Pt("frame writing exception"),d.stack&&Pt(d.stack),Pt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Pt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[D0]=this.myID,e[M0]=this.myPW,e[F0]=this.currentSerial;let n=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+$0+i.length<=j0;){const u=this.pendingSegs.shift();i=i+"&"+jI+o+"="+u.seg+"&"+$I+o+"="+u.ts+"&"+UI+o+"="+u.d,o++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(i,Math.floor(VI)),a=()=>{clearTimeout(o),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=16384,qI=45e3;let Wu=null;typeof MozWebSocket<"u"?Wu=MozWebSocket:typeof WebSocket<"u"&&(Wu=WebSocket);class Pn{constructor(e,n,i,o,a,u,d){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Va(this.connId),this.stats_=wp(n),this.connURL=Pn.connectionURL_(n,u,d,o,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,o,a){const u={};return u[C0]=yp,typeof location<"u"&&location.hostname&&k0.test(location.hostname)&&(u[T0]=I0),n&&(u[b0]=n),i&&(u[P0]=i),o&&(u[Dh]=o),a&&(u[N0]=a),L0(e,R0,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$i.set("previous_websocket_failure",!0);try{let i;c0(),this.mySock=new Wu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Pn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Wu!==null&&!Pn.forceDisallow_}static previouslyFailed(){return $i.isInMemoryStorage||$i.get("previous_websocket_failure")===!0}markConnectionHealthy(){$i.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=xa(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(H(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=x0(n,WI);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(qI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pn.responsesRequiredToBeHealthy=2;Pn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{static get ALL_TRANSPORTS(){return[Ms,Pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Pn&&Pn.isAvailable();let i=n&&!Pn.previouslyFailed();if(e.webSocketOnly&&(n||Wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Pn];else{const o=this.transports_=[];for(const a of Ca.ALL_TRANSPORTS)a&&a.isAvailable()&&o.push(a);Ca.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ca.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=6e4,KI=5e3,YI=10*1024,QI=100*1024,rh="t",Vy="d",XI="s",Hy="r",JI="e",Wy="o",qy="a",Gy="n",Ky="p",ZI="h";class ek{constructor(e,n,i,o,a,u,d,h,m,y){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=a,this.onMessage_=u,this.onReady_=d,this.onDisconnect_=h,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Va("c:"+this.id+":"),this.transportManager_=new Ca(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=pa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>QI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>YI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(rh in e){const n=e[rh];n===qy?this.upgradeIfSecondaryHealthy_():n===Hy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Wy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=sa("t",e),i=sa("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ky,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:qy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Gy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=sa("t",e),i=sa("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=sa(rh,e);if(Vy in e){const i=e[Vy];if(n===ZI){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===Gy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===XI?this.onConnectionShutdown_(i):n===Hy?this.onReset_(i):n===JI?Lh("Server Error: "+i):n===Wy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Lh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),yp!==i&&Wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),pa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(GI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(KI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ky,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($i.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{put(e,n,i,o){}merge(e,n,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B0=class{constructor(e){this.allowedEvents_=e,this.listeners_={},H(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const o=this.getInitialEvent(e);o&&n.apply(i,o)}off(e,n,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let a=0;a<o.length;a++)if(o[a].callback===n&&(!i||i===o[a].context)){o.splice(a,1);return}}validateEventType_(e){H(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends B0{static getInstance(){return new qu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!fp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return H(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yy=32,Qy=768;class Fe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ke(){return new Fe("")}function we(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ci(t){return t.pieces_.length-t.pieceNum_}function Be(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Fe(t.pieces_,e)}function z0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function tk(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function V0(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function H0(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Fe(e,0)}function ft(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Fe)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&n.push(i[o])}return new Fe(n,0)}function ye(t){return t.pieceNum_>=t.pieces_.length}function Lt(t,e){const n=we(t),i=we(e);if(n===null)return e;if(n===i)return Lt(Be(t),Be(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function W0(t,e){if(ci(t)!==ci(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Nn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(ci(t)>ci(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class nk{constructor(e,n){this.errorPrefix_=n,this.parts_=V0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Tc(this.parts_[i]);q0(this)}}function rk(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Tc(e),q0(t)}function ik(t){const e=t.parts_.pop();t.byteLength_-=Tc(e),t.parts_.length>0&&(t.byteLength_-=1)}function q0(t){if(t.byteLength_>Qy)throw new Error(t.errorPrefix_+"has a key path longer than "+Qy+" bytes ("+t.byteLength_+").");if(t.parts_.length>Yy)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Yy+") or object contains a cycle "+ji(t))}function ji(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep extends B0{static getInstance(){return new Ep}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return H(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=1e3,sk=60*5*1e3,Xy=30*1e3,ok=1.3,ak=3e4,lk="server_kill",Jy=3;class mr extends U0{constructor(e,n,i,o,a,u,d,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=d,this.authOverride_=h,this.id=mr.nextPersistentConnectionId_++,this.log_=Va("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=oa,this.maxReconnectDelay_=sk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!c0())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Ep.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&qu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const o=++this.requestNumber_,a={r:o,a:e,b:n};this.log_(dt(a)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const n=new bc,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const d=u.d;u.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,o){this.initConnection_();const a=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:n,query:e,tag:i};this.listens.get(u).set(a,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+i+" for "+o);const a={p:i},u="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(u,a,d=>{const h=d.d,m=d.s;mr.warnOnListenWarnings_(h,n),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(i,o),e.onComplete&&e.onComplete(m,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&xr(e,"w")){const i=qs(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();Wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Z2(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Xy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=J2(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,o=>{const a=o.s,u=o.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,n)}sendUnlisten_(e,n,i,o){this.log_("Unlisten on "+e+" for "+n);const a={p:e},u="n";o&&(a.q=i,a.t=o),this.sendRequest(u,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,o){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,n,i,o){this.putInternal("p",e,n,i,o)}merge(e,n,i,o){this.putInternal("m",e,n,i,o)}putInternal(e,n,i,o,a){this.initConnection_();const u={p:n,d:i};a!==void 0&&(u.h=a),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+dt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Lh("Unrecognized action received from server: "+dt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=oa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=oa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ak&&(this.reconnectDelay_=oa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ok)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+mr.nextConnectionId_++,a=this.lastSessionId;let u=!1,d=null;const h=function(){d?d.close():(u=!0,i())},m=function(w){H(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(w)};this.realtime_={close:h,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,v]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);u?Pt("getToken() completed but was canceled"):(Pt("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=v&&v.token,d=new ek(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,x=>{Wt(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(lk)},a))}catch(w){this.log_("Failed to get token: "+w),u||(this.repoInfo_.nodeAdmin&&Wt(w),h())}}}interrupt(e){Pt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],kh(this.interruptReasons_)&&(this.reconnectDelay_=oa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>vp(a)).join("$"):i="default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const i=new Fe(e).toString();let o;if(this.listens.has(i)){const a=this.listens.get(i);o=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,n){Pt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Jy&&(this.reconnectDelay_=Xy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Pt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Jy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+y0.replace(/\./g,"-")]=1,fp()?e["framework.cordova"]=1:u0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=qu.getInstance().currentlyOnline();return kh(this.interruptReasons_)&&e}}mr.nextPersistentConnectionId_=0;mr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ve(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ve(Ks,e),o=new ve(Ks,n);return this.compare(i,o)!==0}minPost(){return ve.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eu;class G0 extends Ic{static get __EMPTY_NODE(){return Eu}static set __EMPTY_NODE(e){Eu=e}compare(e,n){return ao(e.name,n.name)}isDefinedOn(e){throw io("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ve.MIN}maxPost(){return new ve(Wi,Eu)}makePost(e,n){return H(typeof e=="string","KeyIndex indexValue must always be a string."),new ve(e,Eu)}toString(){return".key"}}const Us=new G0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n,i,o,a=null){this.isReverse_=o,this.resultGenerator_=a,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?i(e.key,n):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class vt{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??vt.RED,this.left=o??Ht.EMPTY_NODE,this.right=a??Ht.EMPTY_NODE}copy(e,n,i,o,a){return new vt(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return a<0?o=o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ht.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,o;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}vt.RED=!0;vt.BLACK=!1;class uk{copy(e,n,i,o,a){return this}insert(e,n,i){return new vt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ht{constructor(e,n=Ht.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ht(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,vt.BLACK,null,null))}remove(e){return new Ht(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,o=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new xu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new xu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new xu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new xu(this.root_,null,this.comparator_,!0,e)}}Ht.EMPTY_NODE=new uk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(t,e){return ao(t.name,e.name)}function xp(t,e){return ao(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mh;function dk(t){Mh=t}const K0=function(t){return typeof t=="number"?"number:"+S0(t):"string:"+t},Y0=function(t){if(t.isLeafNode()){const e=t.val();H(typeof e=="string"||typeof e=="number"||typeof e=="object"&&xr(e,".sv"),"Priority must be a string or number.")}else H(t===Mh||t.isEmpty(),"priority of unexpected type.");H(t===Mh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zy;class gt{static set __childrenNodeConstructor(e){Zy=e}static get __childrenNodeConstructor(){return Zy}constructor(e,n=gt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Y0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new gt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:gt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:we(e)===".priority"?this.priorityNode_:gt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:gt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=we(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(H(i!==".priority"||ci(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,gt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Be(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+K0(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=S0(this.value_):e+=this.value_,this.lazyHash_=_0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===gt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof gt.__childrenNodeConstructor?-1:(H(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,o=gt.VALUE_TYPE_ORDER.indexOf(n),a=gt.VALUE_TYPE_ORDER.indexOf(i);return H(o>=0,"Unknown leaf type: "+n),H(a>=0,"Unknown leaf type: "+i),o===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}gt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Q0,X0;function fk(t){Q0=t}function hk(t){X0=t}class pk extends Ic{compare(e,n){const i=e.node.getPriority(),o=n.node.getPriority(),a=i.compareTo(o);return a===0?ao(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ve.MIN}maxPost(){return new ve(Wi,new gt("[PRIORITY-POST]",X0))}makePost(e,n){const i=Q0(e);return new ve(n,new gt("[PRIORITY-POST]",i))}toString(){return".priority"}}const tt=new pk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=Math.log(2);class gk{constructor(e){const n=a=>parseInt(Math.log(a)/mk,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=i(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Gu=function(t,e,n,i){t.sort(e);const o=function(h,m){const y=m-h;let w,v;if(y===0)return null;if(y===1)return w=t[h],v=n?n(w):w,new vt(v,w.node,vt.BLACK,null,null);{const x=parseInt(y/2,10)+h,C=o(h,x),N=o(x+1,m);return w=t[x],v=n?n(w):w,new vt(v,w.node,vt.BLACK,C,N)}},a=function(h){let m=null,y=null,w=t.length;const v=function(C,N){const R=w-C,I=w;w-=C;const M=o(R+1,I),z=t[R],Z=n?n(z):z;x(new vt(Z,z.node,N,null,M))},x=function(C){m?(m.left=C,m=C):(y=C,m=C)};for(let C=0;C<h.count;++C){const N=h.nextBitIsOne(),R=Math.pow(2,h.count-(C+1));N?v(R,vt.BLACK):(v(R,vt.BLACK),v(R,vt.RED))}return y},u=new gk(t.length),d=a(u);return new Ht(i||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih;const Os={};class ur{static get Default(){return H(Os&&tt,"ChildrenNode.ts has not been loaded"),ih=ih||new ur({".priority":Os},{".priority":tt}),ih}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=qs(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ht?n:null}hasIndex(e){return xr(this.indexSet_,e.toString())}addIndex(e,n){H(e!==Us,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const a=n.getIterator(ve.Wrap);let u=a.getNext();for(;u;)o=o||e.isDefinedOn(u.node),i.push(u),u=a.getNext();let d;o?d=Gu(i,e.getCompare()):d=Os;const h=e.toString(),m=Object.assign({},this.indexSet_);m[h]=e;const y=Object.assign({},this.indexes_);return y[h]=d,new ur(y,m)}addToIndexes(e,n){const i=zu(this.indexes_,(o,a)=>{const u=qs(this.indexSet_,a);if(H(u,"Missing index implementation for "+a),o===Os)if(u.isDefinedOn(e.node)){const d=[],h=n.getIterator(ve.Wrap);let m=h.getNext();for(;m;)m.name!==e.name&&d.push(m),m=h.getNext();return d.push(e),Gu(d,u.getCompare())}else return Os;else{const d=n.get(e.name);let h=o;return d&&(h=h.remove(new ve(e.name,d))),h.insert(e,e.node)}});return new ur(i,this.indexSet_)}removeFromIndexes(e,n){const i=zu(this.indexes_,o=>{if(o===Os)return o;{const a=n.get(e.name);return a?o.remove(new ve(e.name,a)):o}});return new ur(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa;class le{static get EMPTY_NODE(){return aa||(aa=new le(new Ht(xp),null,ur.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Y0(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||aa}updatePriority(e){return this.children_.isEmpty()?this:new le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?aa:n}}getChild(e){const n=we(e);return n===null?this:this.getImmediateChild(n).getChild(Be(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(H(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ve(e,n);let o,a;n.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const u=o.isEmpty()?aa:this.priorityNode_;return new le(o,u,a)}}updateChild(e,n){const i=we(e);if(i===null)return n;{H(we(e)!==".priority"||ci(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Be(e),n);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,o=0,a=!0;if(this.forEachChild(tt,(u,d)=>{n[u]=d.val(e),i++,a&&le.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):a=!1}),!e&&a&&o<2*i){const u=[];for(const d in n)u[d]=n[d];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+K0(this.getPriority().val())+":"),this.forEachChild(tt,(n,i)=>{const o=i.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":_0(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const o=this.resolveIndex_(i);if(o){const a=o.getPredecessorKey(new ve(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ve(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ve(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ve.Wrap);let a=o.peek();for(;a!=null&&n.compare(a,e)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ve.Wrap);let a=o.peek();for(;a!=null&&n.compare(a,e)>0;)o.getNext(),a=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ha?-1:0}withIndex(e){if(e===Us||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new le(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Us||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(tt),o=n.getIterator(tt);let a=i.getNext(),u=o.getNext();for(;a&&u;){if(a.name!==u.name||!a.node.equals(u.node))return!1;a=i.getNext(),u=o.getNext()}return a===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===Us?null:this.indexMap_.get(e.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class vk extends le{constructor(){super(new Ht(xp),le.EMPTY_NODE,ur.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}}const Ha=new vk;Object.defineProperties(ve,{MIN:{value:new ve(Ks,le.EMPTY_NODE)},MAX:{value:new ve(Wi,Ha)}});G0.__EMPTY_NODE=le.EMPTY_NODE;gt.__childrenNodeConstructor=le;dk(Ha);hk(Ha);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=!0;function yt(t,e=null){if(t===null)return le.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),H(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new gt(n,yt(e))}if(!(t instanceof Array)&&yk){const n=[];let i=!1;if(Kt(t,(u,d)=>{if(u.substring(0,1)!=="."){const h=yt(d);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new ve(u,h)))}}),n.length===0)return le.EMPTY_NODE;const a=Gu(n,ck,u=>u.name,xp);if(i){const u=Gu(n,tt.getCompare());return new le(a,yt(e),new ur({".priority":u},{".priority":tt}))}else return new le(a,yt(e),ur.Default)}else{let n=le.EMPTY_NODE;return Kt(t,(i,o)=>{if(xr(t,i)&&i.substring(0,1)!=="."){const a=yt(o);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(yt(e))}}fk(yt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk extends Ic{constructor(e){super(),this.indexPath_=e,H(!ye(e)&&we(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),o=this.extractChild(n.node),a=i.compareTo(o);return a===0?ao(e.name,n.name):a}makePost(e,n){const i=yt(e),o=le.EMPTY_NODE.updateChild(this.indexPath_,i);return new ve(n,o)}maxPost(){const e=le.EMPTY_NODE.updateChild(this.indexPath_,Ha);return new ve(Wi,e)}toString(){return V0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k extends Ic{compare(e,n){const i=e.node.compareTo(n.node);return i===0?ao(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ve.MIN}maxPost(){return ve.MAX}makePost(e,n){const i=yt(e);return new ve(n,i)}toString(){return".value"}}const Ek=new _k;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(t){return{type:"value",snapshotNode:t}}function Ys(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ba(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ta(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function xk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this.index_=e}updateChild(e,n,i,o,a,u){H(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(o).equals(i.getChild(o))&&d.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(n)?u.trackChildChange(ba(n,d)):H(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?u.trackChildChange(Ys(n,i)):u.trackChildChange(Ta(n,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(tt,(o,a)=>{n.hasChild(o)||i.trackChildChange(ba(o,a))}),n.isLeafNode()||n.forEachChild(tt,(o,a)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(a)||i.trackChildChange(Ta(o,a,u))}else i.trackChildChange(Ys(o,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?le.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e){this.indexedFilter_=new Sp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Ia.getStartPost_(e),this.endPost_=Ia.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,o,a,u){return this.matches(new ve(n,i))||(i=le.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,o,a,u)}updateFullNode(e,n,i){n.isLeafNode()&&(n=le.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(le.EMPTY_NODE);const a=this;return n.forEachChild(tt,(u,d)=>{a.matches(new ve(u,d))||(o=o.updateImmediateChild(u,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ia(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,o,a,u){return this.rangedFilter_.matches(new ve(n,i))||(i=le.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,o,a,u):this.fullLimitUpdateChild_(e,n,i,a,u)}updateFullNode(e,n,i){let o;if(n.isLeafNode()||n.isEmpty())o=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=le.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;a.hasNext()&&u<this.limit_;){const d=a.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),u++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(le.EMPTY_NODE);let a;this.reverse_?a=o.getReverseIterator(this.index_):a=o.getIterator(this.index_);let u=0;for(;a.hasNext();){const d=a.getNext();u<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?u++:o=o.updateImmediateChild(d.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,o,a){let u;if(this.reverse_){const w=this.index_.getCompare();u=(v,x)=>w(x,v)}else u=this.index_.getCompare();const d=e;H(d.numChildren()===this.limit_,"");const h=new ve(n,i),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),y=this.rangedFilter_.matches(h);if(d.hasChild(n)){const w=d.getImmediateChild(n);let v=o.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===n||d.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const x=v==null?1:u(v,h);if(y&&!i.isEmpty()&&x>=0)return a!=null&&a.trackChildChange(Ta(n,i,w)),d.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(ba(n,w));const N=d.updateImmediateChild(n,le.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(a!=null&&a.trackChildChange(Ys(v.name,v.node)),N.updateImmediateChild(v.name,v.node)):N}}else return i.isEmpty()?e:y&&u(m,h)>=0?(a!=null&&(a.trackChildChange(ba(m.name,m.node)),a.trackChildChange(Ys(n,i))),d.updateImmediateChild(n,i).updateImmediateChild(m.name,le.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ks}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Wi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tt}copy(){const e=new Cp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Ck(t){return t.loadsAllData()?new Sp(t.getIndex()):t.hasLimit()?new Sk(t):new Ia(t)}function ew(t){const e={};if(t.isDefault())return e;let n;if(t.index_===tt?n="$priority":t.index_===Ek?n="$value":t.index_===Us?n="$key":(H(t.index_ instanceof wk,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=dt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=dt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+dt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=dt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function tw(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==tt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends U0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(H(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=Va("p:rest:"),this.listens_={}}listen(e,n,i,o){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const u=Ku.getListenId_(e,i),d={};this.listens_[u]=d;const h=ew(e._queryParams);this.restRequest_(a+".json",h,(m,y)=>{let w=y;if(m===404&&(w=null,m=null),m===null&&this.onDataUpdate_(a,w,!1,i),qs(this.listens_,u)===d){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",o(v,null)}})}unlisten(e,n){const i=Ku.getListenId_(e,n);delete this.listens_[i]}get(e){const n=ew(e._queryParams),i=e._path.toString(),o=new bc;return this.restRequest_(i+".json",n,(a,u)=>{let d=u;a===404&&(d=null,a=null),a===null?(this.onDataUpdate_(i,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,a])=>{o&&o.accessToken&&(n.auth=o.accessToken),a&&a.token&&(n.ac=a.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+so(n);this.log_("Sending REST request for "+u);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&d.readyState===4){this.log_("REST Response for "+u+" received. status:",d.status,"response:",d.responseText);let h=null;if(d.status>=200&&d.status<300){try{h=xa(d.responseText)}catch{Wt("Failed to parse JSON response for "+u+": "+d.responseText)}i(null,h)}else d.status!==401&&d.status!==404&&Wt("Got unsuccessful REST response for "+u+" Status: "+d.status),i(d.status);i=null}},d.open("GET",u,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(){return{value:null,children:new Map}}function Z0(t,e,n){if(ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=we(e);t.children.has(i)||t.children.set(i,Yu());const o=t.children.get(i);e=Be(e),Z0(o,e,n)}}function Fh(t,e,n){t.value!==null?n(e,t.value):Tk(t,(i,o)=>{const a=new Fe(e.toString()+"/"+i);Fh(o,a,n)})}function Tk(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Kt(this.last_,(i,o)=>{n[i]=n[i]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=10*1e3,kk=30*1e3,Pk=5*60*1e3;class Nk{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Ik(e);const i=nw+(kk-nw)*Math.random();pa(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Kt(e,(o,a)=>{a>0&&xr(this.statsToReport_,o)&&(n[o]=a,i=!0)}),i&&this.server_.reportStats(n),pa(this.reportStats_.bind(this),Math.floor(Math.random()*2*Pk))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Rn||(Rn={}));function eE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function bp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Tp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Rn.ACK_USER_WRITE,this.source=eE()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Fe(e));return new Qu(ke(),n,this.revert)}}else return H(we(this.path)===e,"operationForChild called for unrelated child."),new Qu(Be(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.source=e,this.path=n,this.type=Rn.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new ka(this.source,ke()):new ka(this.source,Be(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Rn.OVERWRITE}operationForChild(e){return ye(this.path)?new qi(this.source,ke(),this.snap.getImmediateChild(e)):new qi(this.source,Be(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Rn.MERGE}operationForChild(e){if(ye(this.path)){const n=this.children.subtree(new Fe(e));return n.isEmpty()?null:n.value?new qi(this.source,ke(),n.value):new Pa(this.source,ke(),n)}else return H(we(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Pa(this.source,Be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=we(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Ak(t,e,n,i){const o=[],a=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&a.push(xk(u.childName,u.snapshotNode))}),la(t,o,"child_removed",e,i,n),la(t,o,"child_added",e,i,n),la(t,o,"child_moved",a,i,n),la(t,o,"child_changed",e,i,n),la(t,o,"value",e,i,n),o}function la(t,e,n,i,o,a){const u=i.filter(d=>d.type===n);u.sort((d,h)=>Lk(t,d,h)),u.forEach(d=>{const h=Ok(t,d,a);o.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(h,t.query_))})})}function Ok(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Lk(t,e,n){if(e.childName==null||n.childName==null)throw io("Should only compare child_ events.");const i=new ve(e.childName,e.snapshotNode),o=new ve(n.childName,n.snapshotNode);return t.index_.compare(i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t,e){return{eventCache:t,serverCache:e}}function ma(t,e,n,i){return kc(new di(e,n,i),t.serverCache)}function tE(t,e,n,i){return kc(t.eventCache,new di(e,n,i))}function Xu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Gi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh;const Dk=()=>(sh||(sh=new Ht(_I)),sh);class qe{static fromObject(e){let n=new qe(null);return Kt(e,(i,o)=>{n=n.set(new Fe(i),o)}),n}constructor(e,n=Dk()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ke(),value:this.value};if(ye(e))return null;{const i=we(e),o=this.children.get(i);if(o!==null){const a=o.findRootMostMatchingPathAndValue(Be(e),n);return a!=null?{path:ft(new Fe(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const n=we(e),i=this.children.get(n);return i!==null?i.subtree(Be(e)):new qe(null)}}set(e,n){if(ye(e))return new qe(n,this.children);{const i=we(e),a=(this.children.get(i)||new qe(null)).set(Be(e),n),u=this.children.insert(i,a);return new qe(this.value,u)}}remove(e){if(ye(e))return this.children.isEmpty()?new qe(null):new qe(null,this.children);{const n=we(e),i=this.children.get(n);if(i){const o=i.remove(Be(e));let a;return o.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,o),this.value===null&&a.isEmpty()?new qe(null):new qe(this.value,a)}else return this}}get(e){if(ye(e))return this.value;{const n=we(e),i=this.children.get(n);return i?i.get(Be(e)):null}}setTree(e,n){if(ye(e))return n;{const i=we(e),a=(this.children.get(i)||new qe(null)).setTree(Be(e),n);let u;return a.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,a),new qe(this.value,u)}}fold(e){return this.fold_(ke(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((o,a)=>{i[o]=a.fold_(ft(e,o),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,ke(),n)}findOnPath_(e,n,i){const o=this.value?i(n,this.value):!1;if(o)return o;if(ye(e))return null;{const a=we(e),u=this.children.get(a);return u?u.findOnPath_(Be(e),ft(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ke(),n)}foreachOnPath_(e,n,i){if(ye(e))return this;{this.value&&i(n,this.value);const o=we(e),a=this.children.get(o);return a?a.foreachOnPath_(Be(e),ft(n,o),i):new qe(null)}}foreach(e){this.foreach_(ke(),e)}foreach_(e,n){this.children.inorderTraversal((i,o)=>{o.foreach_(ft(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.writeTree_=e}static empty(){return new An(new qe(null))}}function ga(t,e,n){if(ye(e))return new An(new qe(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const o=i.path;let a=i.value;const u=Lt(o,e);return a=a.updateChild(u,n),new An(t.writeTree_.set(o,a))}else{const o=new qe(n),a=t.writeTree_.setTree(e,o);return new An(a)}}}function rw(t,e,n){let i=t;return Kt(n,(o,a)=>{i=ga(i,ft(e,o),a)}),i}function iw(t,e){if(ye(e))return An.empty();{const n=t.writeTree_.setTree(e,new qe(null));return new An(n)}}function jh(t,e){return es(t,e)!=null}function es(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Lt(n.path,e)):null}function sw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(tt,(i,o)=>{e.push(new ve(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&e.push(new ve(i,o.value))}),e}function oi(t,e){if(ye(e))return t;{const n=es(t,e);return n!=null?new An(new qe(n)):new An(t.writeTree_.subtree(e))}}function $h(t){return t.writeTree_.isEmpty()}function Qs(t,e){return nE(ke(),t.writeTree_,e)}function nE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((o,a)=>{o===".priority"?(H(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=nE(ft(t,o),a,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(ft(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t,e){return oE(e,t)}function Mk(t,e,n,i,o){H(i>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:o}),o&&(t.visibleWrites=ga(t.visibleWrites,e,n)),t.lastWriteId=i}function Fk(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function jk(t,e){const n=t.allWrites.findIndex(d=>d.writeId===e);H(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let o=i.visible,a=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const d=t.allWrites[u];d.visible&&(u>=n&&$k(d,i.path)?o=!1:Nn(i.path,d.path)&&(a=!0)),u--}if(o){if(a)return Uk(t),!0;if(i.snap)t.visibleWrites=iw(t.visibleWrites,i.path);else{const d=i.children;Kt(d,h=>{t.visibleWrites=iw(t.visibleWrites,ft(i.path,h))})}return!0}else return!1}function $k(t,e){if(t.snap)return Nn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Nn(ft(t.path,n),e))return!0;return!1}function Uk(t){t.visibleWrites=rE(t.allWrites,Bk,ke()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Bk(t){return t.visible}function rE(t,e,n){let i=An.empty();for(let o=0;o<t.length;++o){const a=t[o];if(e(a)){const u=a.path;let d;if(a.snap)Nn(n,u)?(d=Lt(n,u),i=ga(i,d,a.snap)):Nn(u,n)&&(d=Lt(u,n),i=ga(i,ke(),a.snap.getChild(d)));else if(a.children){if(Nn(n,u))d=Lt(n,u),i=rw(i,d,a.children);else if(Nn(u,n))if(d=Lt(u,n),ye(d))i=rw(i,ke(),a.children);else{const h=qs(a.children,we(d));if(h){const m=h.getChild(Be(d));i=ga(i,ke(),m)}}}else throw io("WriteRecord should have .snap or .children")}}return i}function iE(t,e,n,i,o){if(!i&&!o){const a=es(t.visibleWrites,e);if(a!=null)return a;{const u=oi(t.visibleWrites,e);if($h(u))return n;if(n==null&&!jh(u,ke()))return null;{const d=n||le.EMPTY_NODE;return Qs(u,d)}}}else{const a=oi(t.visibleWrites,e);if(!o&&$h(a))return n;if(!o&&n==null&&!jh(a,ke()))return null;{const u=function(m){return(m.visible||o)&&(!i||!~i.indexOf(m.writeId))&&(Nn(m.path,e)||Nn(e,m.path))},d=rE(t.allWrites,u,e),h=n||le.EMPTY_NODE;return Qs(d,h)}}}function zk(t,e,n){let i=le.EMPTY_NODE;const o=es(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(tt,(a,u)=>{i=i.updateImmediateChild(a,u)}),i;if(n){const a=oi(t.visibleWrites,e);return n.forEachChild(tt,(u,d)=>{const h=Qs(oi(a,new Fe(u)),d);i=i.updateImmediateChild(u,h)}),sw(a).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const a=oi(t.visibleWrites,e);return sw(a).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function Vk(t,e,n,i,o){H(i||o,"Either existingEventSnap or existingServerSnap must exist");const a=ft(e,n);if(jh(t.visibleWrites,a))return null;{const u=oi(t.visibleWrites,a);return $h(u)?o.getChild(n):Qs(u,o.getChild(n))}}function Hk(t,e,n,i){const o=ft(e,n),a=es(t.visibleWrites,o);if(a!=null)return a;if(i.isCompleteForChild(n)){const u=oi(t.visibleWrites,o);return Qs(u,i.getNode().getImmediateChild(n))}else return null}function Wk(t,e){return es(t.visibleWrites,e)}function qk(t,e,n,i,o,a,u){let d;const h=oi(t.visibleWrites,e),m=es(h,ke());if(m!=null)d=m;else if(n!=null)d=Qs(h,n);else return[];if(d=d.withIndex(u),!d.isEmpty()&&!d.isLeafNode()){const y=[],w=u.getCompare(),v=a?d.getReverseIteratorFrom(i,u):d.getIteratorFrom(i,u);let x=v.getNext();for(;x&&y.length<o;)w(x,i)!==0&&y.push(x),x=v.getNext();return y}else return[]}function Gk(){return{visibleWrites:An.empty(),allWrites:[],lastWriteId:-1}}function Ju(t,e,n,i){return iE(t.writeTree,t.treePath,e,n,i)}function Ip(t,e){return zk(t.writeTree,t.treePath,e)}function ow(t,e,n,i){return Vk(t.writeTree,t.treePath,e,n,i)}function Zu(t,e){return Wk(t.writeTree,ft(t.treePath,e))}function Kk(t,e,n,i,o,a){return qk(t.writeTree,t.treePath,e,n,i,o,a)}function kp(t,e,n){return Hk(t.writeTree,t.treePath,e,n)}function sE(t,e){return oE(ft(t.treePath,e),t.writeTree)}function oE(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;H(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),H(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const a=o.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,Ta(i,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,ba(i,o.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,Ys(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,Ta(i,e.snapshotNode,o.oldSnap));else throw io("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const aE=new Qk;class Pp{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kp(this.writes_,e,i)}}getChildAfterChild(e,n,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Gi(this.viewCache_),a=Kk(this.writes_,o,n,1,i,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xk(t){return{filter:t}}function Jk(t,e){H(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),H(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Zk(t,e,n,i,o){const a=new Yk;let u,d;if(n.type===Rn.OVERWRITE){const m=n;m.source.fromUser?u=Uh(t,e,m.path,m.snap,i,o,a):(H(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!ye(m.path),u=ec(t,e,m.path,m.snap,i,o,d,a))}else if(n.type===Rn.MERGE){const m=n;m.source.fromUser?u=tP(t,e,m.path,m.children,i,o,a):(H(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),u=Bh(t,e,m.path,m.children,i,o,d,a))}else if(n.type===Rn.ACK_USER_WRITE){const m=n;m.revert?u=iP(t,e,m.path,i,o,a):u=nP(t,e,m.path,m.affectedTree,i,o,a)}else if(n.type===Rn.LISTEN_COMPLETE)u=rP(t,e,n.path,i,a);else throw io("Unknown operation type: "+n.type);const h=a.getChanges();return eP(e,u,h),{viewCache:u,changes:h}}function eP(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=Xu(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(J0(Xu(e)))}}function lE(t,e,n,i,o,a){const u=e.eventCache;if(Zu(i,n)!=null)return e;{let d,h;if(ye(n))if(H(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Gi(e),y=m instanceof le?m:le.EMPTY_NODE,w=Ip(i,y);d=t.filter.updateFullNode(e.eventCache.getNode(),w,a)}else{const m=Ju(i,Gi(e));d=t.filter.updateFullNode(e.eventCache.getNode(),m,a)}else{const m=we(n);if(m===".priority"){H(ci(n)===1,"Can't have a priority with additional path components");const y=u.getNode();h=e.serverCache.getNode();const w=ow(i,n,y,h);w!=null?d=t.filter.updatePriority(y,w):d=u.getNode()}else{const y=Be(n);let w;if(u.isCompleteForChild(m)){h=e.serverCache.getNode();const v=ow(i,n,u.getNode(),h);v!=null?w=u.getNode().getImmediateChild(m).updateChild(y,v):w=u.getNode().getImmediateChild(m)}else w=kp(i,m,e.serverCache);w!=null?d=t.filter.updateChild(u.getNode(),m,w,y,o,a):d=u.getNode()}}return ma(e,d,u.isFullyInitialized()||ye(n),t.filter.filtersNodes())}}function ec(t,e,n,i,o,a,u,d){const h=e.serverCache;let m;const y=u?t.filter:t.filter.getIndexedFilter();if(ye(n))m=y.updateFullNode(h.getNode(),i,null);else if(y.filtersNodes()&&!h.isFiltered()){const x=h.getNode().updateChild(n,i);m=y.updateFullNode(h.getNode(),x,null)}else{const x=we(n);if(!h.isCompleteForPath(n)&&ci(n)>1)return e;const C=Be(n),R=h.getNode().getImmediateChild(x).updateChild(C,i);x===".priority"?m=y.updatePriority(h.getNode(),R):m=y.updateChild(h.getNode(),x,R,C,aE,null)}const w=tE(e,m,h.isFullyInitialized()||ye(n),y.filtersNodes()),v=new Pp(o,w,a);return lE(t,w,n,o,v,d)}function Uh(t,e,n,i,o,a,u){const d=e.eventCache;let h,m;const y=new Pp(o,e,a);if(ye(n))m=t.filter.updateFullNode(e.eventCache.getNode(),i,u),h=ma(e,m,!0,t.filter.filtersNodes());else{const w=we(n);if(w===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),i),h=ma(e,m,d.isFullyInitialized(),d.isFiltered());else{const v=Be(n),x=d.getNode().getImmediateChild(w);let C;if(ye(v))C=i;else{const N=y.getCompleteChild(w);N!=null?z0(v)===".priority"&&N.getChild(H0(v)).isEmpty()?C=N:C=N.updateChild(v,i):C=le.EMPTY_NODE}if(x.equals(C))h=e;else{const N=t.filter.updateChild(d.getNode(),w,C,v,y,u);h=ma(e,N,d.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function aw(t,e){return t.eventCache.isCompleteForChild(e)}function tP(t,e,n,i,o,a,u){let d=e;return i.foreach((h,m)=>{const y=ft(n,h);aw(e,we(y))&&(d=Uh(t,d,y,m,o,a,u))}),i.foreach((h,m)=>{const y=ft(n,h);aw(e,we(y))||(d=Uh(t,d,y,m,o,a,u))}),d}function lw(t,e,n){return n.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function Bh(t,e,n,i,o,a,u,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,m;ye(n)?m=i:m=new qe(null).setTree(n,i);const y=e.serverCache.getNode();return m.children.inorderTraversal((w,v)=>{if(y.hasChild(w)){const x=e.serverCache.getNode().getImmediateChild(w),C=lw(t,x,v);h=ec(t,h,new Fe(w),C,o,a,u,d)}}),m.children.inorderTraversal((w,v)=>{const x=!e.serverCache.isCompleteForChild(w)&&v.value===null;if(!y.hasChild(w)&&!x){const C=e.serverCache.getNode().getImmediateChild(w),N=lw(t,C,v);h=ec(t,h,new Fe(w),N,o,a,u,d)}}),h}function nP(t,e,n,i,o,a,u){if(Zu(o,n)!=null)return e;const d=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(ye(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return ec(t,e,n,h.getNode().getChild(n),o,a,d,u);if(ye(n)){let m=new qe(null);return h.getNode().forEachChild(Us,(y,w)=>{m=m.set(new Fe(y),w)}),Bh(t,e,n,m,o,a,d,u)}else return e}else{let m=new qe(null);return i.foreach((y,w)=>{const v=ft(n,y);h.isCompleteForPath(v)&&(m=m.set(y,h.getNode().getChild(v)))}),Bh(t,e,n,m,o,a,d,u)}}function rP(t,e,n,i,o){const a=e.serverCache,u=tE(e,a.getNode(),a.isFullyInitialized()||ye(n),a.isFiltered());return lE(t,u,n,i,aE,o)}function iP(t,e,n,i,o,a){let u;if(Zu(i,n)!=null)return e;{const d=new Pp(i,e,o),h=e.eventCache.getNode();let m;if(ye(n)||we(n)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Ju(i,Gi(e));else{const w=e.serverCache.getNode();H(w instanceof le,"serverChildren would be complete if leaf node"),y=Ip(i,w)}y=y,m=t.filter.updateFullNode(h,y,a)}else{const y=we(n);let w=kp(i,y,e.serverCache);w==null&&e.serverCache.isCompleteForChild(y)&&(w=h.getImmediateChild(y)),w!=null?m=t.filter.updateChild(h,y,w,Be(n),d,a):e.eventCache.getNode().hasChild(y)?m=t.filter.updateChild(h,y,le.EMPTY_NODE,Be(n),d,a):m=h,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Ju(i,Gi(e)),u.isLeafNode()&&(m=t.filter.updateFullNode(m,u,a)))}return u=e.serverCache.isFullyInitialized()||Zu(i,ke())!=null,ma(e,m,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new Sp(i.getIndex()),a=Ck(i);this.processor_=Xk(a);const u=n.serverCache,d=n.eventCache,h=o.updateFullNode(le.EMPTY_NODE,u.getNode(),null),m=a.updateFullNode(le.EMPTY_NODE,d.getNode(),null),y=new di(h,u.isFullyInitialized(),o.filtersNodes()),w=new di(m,d.isFullyInitialized(),a.filtersNodes());this.viewCache_=kc(w,y),this.eventGenerator_=new Rk(this.query_)}get query(){return this.query_}}function oP(t){return t.viewCache_.serverCache.getNode()}function aP(t){return Xu(t.viewCache_)}function lP(t,e){const n=Gi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ye(e)&&!n.getImmediateChild(we(e)).isEmpty())?n.getChild(e):null}function uw(t){return t.eventRegistrations_.length===0}function uP(t,e){t.eventRegistrations_.push(e)}function cw(t,e,n){const i=[];if(n){H(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(a=>{const u=a.createCancelEvent(n,o);u&&i.push(u)})}if(e){let o=[];for(let a=0;a<t.eventRegistrations_.length;++a){const u=t.eventRegistrations_[a];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function dw(t,e,n,i){e.type===Rn.MERGE&&e.source.queryId!==null&&(H(Gi(t.viewCache_),"We should always have a full cache before handling merges"),H(Xu(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,a=Zk(t.processor_,o,e,n,i);return Jk(t.processor_,a.viewCache),H(a.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,uE(t,a.changes,a.viewCache.eventCache.getNode(),null)}function cP(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(tt,(a,u)=>{i.push(Ys(a,u))}),n.isFullyInitialized()&&i.push(J0(n.getNode())),uE(t,i,n.getNode(),e)}function uE(t,e,n,i){const o=i?[i]:t.eventRegistrations_;return Ak(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;class cE{constructor(){this.views=new Map}}function dP(t){H(!tc,"__referenceConstructor has already been defined"),tc=t}function fP(){return H(tc,"Reference.ts has not been loaded"),tc}function hP(t){return t.views.size===0}function Np(t,e,n,i){const o=e.source.queryId;if(o!==null){const a=t.views.get(o);return H(a!=null,"SyncTree gave us an op for an invalid query."),dw(a,e,n,i)}else{let a=[];for(const u of t.views.values())a=a.concat(dw(u,e,n,i));return a}}function dE(t,e,n,i,o){const a=e._queryIdentifier,u=t.views.get(a);if(!u){let d=Ju(n,o?i:null),h=!1;d?h=!0:i instanceof le?(d=Ip(n,i),h=!1):(d=le.EMPTY_NODE,h=!1);const m=kc(new di(d,h,!1),new di(i,o,!1));return new sP(e,m)}return u}function pP(t,e,n,i,o,a){const u=dE(t,e,i,o,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),uP(u,n),cP(u,n)}function mP(t,e,n,i){const o=e._queryIdentifier,a=[];let u=[];const d=fi(t);if(o==="default")for(const[h,m]of t.views.entries())u=u.concat(cw(m,n,i)),uw(m)&&(t.views.delete(h),m.query._queryParams.loadsAllData()||a.push(m.query));else{const h=t.views.get(o);h&&(u=u.concat(cw(h,n,i)),uw(h)&&(t.views.delete(o),h.query._queryParams.loadsAllData()||a.push(h.query)))}return d&&!fi(t)&&a.push(new(fP())(e._repo,e._path)),{removed:a,events:u}}function fE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ai(t,e){let n=null;for(const i of t.views.values())n=n||lP(i,e);return n}function hE(t,e){if(e._queryParams.loadsAllData())return Nc(t);{const i=e._queryIdentifier;return t.views.get(i)}}function pE(t,e){return hE(t,e)!=null}function fi(t){return Nc(t)!=null}function Nc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc;function gP(t){H(!nc,"__referenceConstructor has already been defined"),nc=t}function vP(){return H(nc,"Reference.ts has not been loaded"),nc}let yP=1;class fw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new qe(null),this.pendingWriteTree_=Gk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mE(t,e,n,i,o){return Mk(t.pendingWriteTree_,e,n,i,o),o?qa(t,new qi(eE(),e,n)):[]}function Ui(t,e,n=!1){const i=Fk(t.pendingWriteTree_,e);if(jk(t.pendingWriteTree_,e)){let a=new qe(null);return i.snap!=null?a=a.set(ke(),!0):Kt(i.children,u=>{a=a.set(new Fe(u),!0)}),qa(t,new Qu(i.path,a,n))}else return[]}function Wa(t,e,n){return qa(t,new qi(bp(),e,n))}function wP(t,e,n){const i=qe.fromObject(n);return qa(t,new Pa(bp(),e,i))}function _P(t,e){return qa(t,new ka(bp(),e))}function EP(t,e,n){const i=Ap(t,n);if(i){const o=Op(i),a=o.path,u=o.queryId,d=Lt(a,e),h=new ka(Tp(u),d);return Lp(t,a,h)}else return[]}function gE(t,e,n,i,o=!1){const a=e._path,u=t.syncPointTree_.get(a);let d=[];if(u&&(e._queryIdentifier==="default"||pE(u,e))){const h=mP(u,e,n,i);hP(u)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const m=h.removed;if(d=h.events,!o){const y=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,w=t.syncPointTree_.findOnPath(a,(v,x)=>fi(x));if(y&&!w){const v=t.syncPointTree_.subtree(a);if(!v.isEmpty()){const x=bP(v);for(let C=0;C<x.length;++C){const N=x[C],R=N.query,I=_E(t,N);t.listenProvider_.startListening(va(R),Na(t,R),I.hashFn,I.onComplete)}}}!w&&m.length>0&&!i&&(y?t.listenProvider_.stopListening(va(e),null):m.forEach(v=>{const x=t.queryToTagMap.get(Rc(v));t.listenProvider_.stopListening(va(v),x)}))}TP(t,m)}return d}function vE(t,e,n,i){const o=Ap(t,i);if(o!=null){const a=Op(o),u=a.path,d=a.queryId,h=Lt(u,e),m=new qi(Tp(d),h,n);return Lp(t,u,m)}else return[]}function xP(t,e,n,i){const o=Ap(t,i);if(o){const a=Op(o),u=a.path,d=a.queryId,h=Lt(u,e),m=qe.fromObject(n),y=new Pa(Tp(d),h,m);return Lp(t,u,y)}else return[]}function SP(t,e,n,i=!1){const o=e._path;let a=null,u=!1;t.syncPointTree_.foreachOnPath(o,(v,x)=>{const C=Lt(v,o);a=a||ai(x,C),u=u||fi(x)});let d=t.syncPointTree_.get(o);d?(u=u||fi(d),a=a||ai(d,ke())):(d=new cE,t.syncPointTree_=t.syncPointTree_.set(o,d));let h;a!=null?h=!0:(h=!1,a=le.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((x,C)=>{const N=ai(C,ke());N&&(a=a.updateImmediateChild(x,N))}));const m=pE(d,e);if(!m&&!e._queryParams.loadsAllData()){const v=Rc(e);H(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const x=IP();t.queryToTagMap.set(v,x),t.tagToQueryMap.set(x,v)}const y=Pc(t.pendingWriteTree_,o);let w=pP(d,e,n,y,a,h);if(!m&&!u&&!i){const v=hE(d,e);w=w.concat(kP(t,e,v))}return w}function Rp(t,e,n){const o=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(u,d)=>{const h=Lt(u,e),m=ai(d,h);if(m)return m});return iE(o,e,a,n,!0)}function CP(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(m,y)=>{const w=Lt(m,n);i=i||ai(y,w)});let o=t.syncPointTree_.get(n);o?i=i||ai(o,ke()):(o=new cE,t.syncPointTree_=t.syncPointTree_.set(n,o));const a=i!=null,u=a?new di(i,!0,!1):null,d=Pc(t.pendingWriteTree_,e._path),h=dE(o,e,d,a?u.getNode():le.EMPTY_NODE,a);return aP(h)}function qa(t,e){return yE(e,t.syncPointTree_,null,Pc(t.pendingWriteTree_,ke()))}function yE(t,e,n,i){if(ye(t.path))return wE(t,e,n,i);{const o=e.get(ke());n==null&&o!=null&&(n=ai(o,ke()));let a=[];const u=we(t.path),d=t.operationForChild(u),h=e.children.get(u);if(h&&d){const m=n?n.getImmediateChild(u):null,y=sE(i,u);a=a.concat(yE(d,h,m,y))}return o&&(a=a.concat(Np(o,t,i,n))),a}}function wE(t,e,n,i){const o=e.get(ke());n==null&&o!=null&&(n=ai(o,ke()));let a=[];return e.children.inorderTraversal((u,d)=>{const h=n?n.getImmediateChild(u):null,m=sE(i,u),y=t.operationForChild(u);y&&(a=a.concat(wE(y,d,h,m)))}),o&&(a=a.concat(Np(o,t,i,n))),a}function _E(t,e){const n=e.query,i=Na(t,n);return{hashFn:()=>(oP(e)||le.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?EP(t,n._path,i):_P(t,n._path);{const a=SI(o,n);return gE(t,n,null,a)}}}}function Na(t,e){const n=Rc(e);return t.queryToTagMap.get(n)}function Rc(t){return t._path.toString()+"$"+t._queryIdentifier}function Ap(t,e){return t.tagToQueryMap.get(e)}function Op(t){const e=t.indexOf("$");return H(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Fe(t.substr(0,e))}}function Lp(t,e,n){const i=t.syncPointTree_.get(e);H(i,"Missing sync point for query tag that we're tracking");const o=Pc(t.pendingWriteTree_,e);return Np(i,n,o,null)}function bP(t){return t.fold((e,n,i)=>{if(n&&fi(n))return[Nc(n)];{let o=[];return n&&(o=fE(n)),Kt(i,(a,u)=>{o=o.concat(u)}),o}})}function va(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(vP())(t._repo,t._path):t}function TP(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const o=Rc(i),a=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(a)}}}function IP(){return yP++}function kP(t,e,n){const i=e._path,o=Na(t,e),a=_E(t,n),u=t.listenProvider_.startListening(va(e),o,a.hashFn,a.onComplete),d=t.syncPointTree_.subtree(i);if(o)H(!fi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const h=d.fold((m,y,w)=>{if(!ye(m)&&y&&fi(y))return[Nc(y).query];{let v=[];return y&&(v=v.concat(fE(y).map(x=>x.query))),Kt(w,(x,C)=>{v=v.concat(C)}),v}});for(let m=0;m<h.length;++m){const y=h[m];t.listenProvider_.stopListening(va(y),Na(t,y))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Dp(n)}node(){return this.node_}}class Mp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ft(this.path_,e);return new Mp(this.syncTree_,n)}node(){return Rp(this.syncTree_,this.path_)}}const PP=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},hw=function(t,e,n){if(!t||typeof t!="object")return t;if(H(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return NP(t[".sv"],e,n);if(typeof t[".sv"]=="object")return RP(t[".sv"],e);H(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},NP=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:H(!1,"Unexpected server value: "+t)}},RP=function(t,e,n){t.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&H(!1,"Unexpected increment value: "+i);const o=e.node();if(H(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const u=o.getValue();return typeof u!="number"?i:u+i},AP=function(t,e,n,i){return Fp(e,new Mp(n,t),i)},EE=function(t,e,n){return Fp(t,new Dp(e),n)};function Fp(t,e,n){const i=t.getPriority().val(),o=hw(i,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const u=t,d=hw(u.getValue(),e,n);return d!==u.getValue()||o!==u.getPriority().val()?new gt(d,yt(o)):t}else{const u=t;return a=u,o!==u.getPriority().val()&&(a=a.updatePriority(new gt(o))),u.forEachChild(tt,(d,h)=>{const m=Fp(h,e.getImmediateChild(d),n);m!==h&&(a=a.updateImmediateChild(d,m))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function $p(t,e){let n=e instanceof Fe?e:new Fe(e),i=t,o=we(n);for(;o!==null;){const a=qs(i.node.children,o)||{children:{},childCount:0};i=new jp(o,i,a),n=Be(n),o=we(n)}return i}function uo(t){return t.node.value}function xE(t,e){t.node.value=e,zh(t)}function SE(t){return t.node.childCount>0}function OP(t){return uo(t)===void 0&&!SE(t)}function Ac(t,e){Kt(t.node.children,(n,i)=>{e(new jp(n,t,i))})}function CE(t,e,n,i){n&&!i&&e(t),Ac(t,o=>{CE(o,e,!0,i)}),n&&i&&e(t)}function LP(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Ga(t){return new Fe(t.parent===null?t.name:Ga(t.parent)+"/"+t.name)}function zh(t){t.parent!==null&&DP(t.parent,t.name,t)}function DP(t,e,n){const i=OP(n),o=xr(t.node.children,e);i&&o?(delete t.node.children[e],t.node.childCount--,zh(t)):!i&&!o&&(t.node.children[e]=n.node,t.node.childCount++,zh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=/[\[\].#$\/\u0000-\u001F\u007F]/,FP=/[\[\].#$\u0000-\u001F\u007F]/,oh=10*1024*1024,bE=function(t){return typeof t=="string"&&t.length!==0&&!MP.test(t)},TE=function(t){return typeof t=="string"&&t.length!==0&&!FP.test(t)},jP=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),TE(t)},$P=function(t,e,n,i){Up(hp(t,"value"),e,n)},Up=function(t,e,n){const i=n instanceof Fe?new nk(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ji(i));if(typeof e=="function")throw new Error(t+"contains a function "+ji(i)+" with contents = "+e.toString());if(E0(e))throw new Error(t+"contains "+e.toString()+" "+ji(i));if(typeof e=="string"&&e.length>oh/3&&Tc(e)>oh)throw new Error(t+"contains a string greater than "+oh+" utf8 bytes "+ji(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,a=!1;if(Kt(e,(u,d)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(a=!0,!bE(u)))throw new Error(t+" contains an invalid key ("+u+") "+ji(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);rk(i,u),Up(t,d,i),ik(i)}),o&&a)throw new Error(t+' contains ".value" child '+ji(i)+" in addition to actual children.")}},IE=function(t,e,n,i){if(!TE(n))throw new Error(hp(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},UP=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),IE(t,e,n)},BP=function(t,e){if(we(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},zP=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!bE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!jP(n))throw new Error(hp(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kE(t,e){let n=null;for(let i=0;i<e.length;i++){const o=e[i],a=o.getPath();n!==null&&!W0(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(o)}n&&t.eventLists_.push(n)}function Gn(t,e,n){kE(t,n),HP(t,i=>Nn(i,e)||Nn(e,i))}function HP(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];if(o){const a=o.path;e(a)?(WP(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function WP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();ha&&Pt("event: "+n.toString()),lo(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP="repo_interrupt",GP=25;class KP{constructor(e,n,i,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new VP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Yu(),this.transactionQueueTree_=new jp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function YP(t,e,n){if(t.stats_=wp(t.repoInfo_),t.forceRestClient_||II())t.server_=new Ku(t.repoInfo_,(i,o,a,u)=>{pw(t,i,o,a,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>mw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new mr(t.repoInfo_,e,(i,o,a,u)=>{pw(t,i,o,a,u)},i=>{mw(t,i)},i=>{XP(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=AI(t.repoInfo_,()=>new Nk(t.stats_,t.server_)),t.infoData_=new bk,t.infoSyncTree_=new fw({startListening:(i,o,a,u)=>{let d=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(d=Wa(t.infoSyncTree_,i._path,h),setTimeout(()=>{u("ok")},0)),d},stopListening:()=>{}}),zp(t,"connected",!1),t.serverSyncTree_=new fw({startListening:(i,o,a,u)=>(t.server_.listen(i,a,o,(d,h)=>{const m=u(d,h);Gn(t.eventQueue_,i._path,m)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}function QP(t){const n=t.infoData_.getNode(new Fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Bp(t){return PP({timestamp:QP(t)})}function pw(t,e,n,i,o){t.dataUpdateCount++;const a=new Fe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(o)if(i){const h=zu(n,m=>yt(m));u=xP(t.serverSyncTree_,a,h,o)}else{const h=yt(n);u=vE(t.serverSyncTree_,a,h,o)}else if(i){const h=zu(n,m=>yt(m));u=wP(t.serverSyncTree_,a,h)}else{const h=yt(n);u=Wa(t.serverSyncTree_,a,h)}let d=a;u.length>0&&(d=Lc(t,a)),Gn(t.eventQueue_,d,u)}function mw(t,e){zp(t,"connected",e),e===!1&&eN(t)}function XP(t,e){Kt(e,(n,i)=>{zp(t,n,i)})}function zp(t,e,n){const i=new Fe("/.info/"+e),o=yt(n);t.infoData_.updateSnapshot(i,o);const a=Wa(t.infoSyncTree_,i,o);Gn(t.eventQueue_,i,a)}function PE(t){return t.nextWriteId_++}function JP(t,e,n){const i=CP(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(o=>{const a=yt(o).withIndex(e._queryParams.getIndex());SP(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=Wa(t.serverSyncTree_,e._path,a);else{const d=Na(t.serverSyncTree_,e);u=vE(t.serverSyncTree_,e._path,a,d)}return Gn(t.eventQueue_,e._path,u),gE(t.serverSyncTree_,e,n,null,!0),a},o=>(Oc(t,"get for query "+dt(e)+" failed: "+o),Promise.reject(new Error(o))))}function ZP(t,e,n,i,o){Oc(t,"set",{path:e.toString(),value:n,priority:i});const a=Bp(t),u=yt(n,i),d=Rp(t.serverSyncTree_,e),h=EE(u,d,a),m=PE(t),y=mE(t.serverSyncTree_,e,h,m,!0);kE(t.eventQueue_,y),t.server_.put(e.toString(),u.val(!0),(v,x)=>{const C=v==="ok";C||Wt("set at "+e+" failed: "+v);const N=Ui(t.serverSyncTree_,m,!C);Gn(t.eventQueue_,e,N),nN(t,o,v,x)});const w=LE(t,e);Lc(t,w),Gn(t.eventQueue_,w,[])}function eN(t){Oc(t,"onDisconnectEvents");const e=Bp(t),n=Yu();Fh(t.onDisconnect_,ke(),(o,a)=>{const u=AP(o,a,t.serverSyncTree_,e);Z0(n,o,u)});let i=[];Fh(n,ke(),(o,a)=>{i=i.concat(Wa(t.serverSyncTree_,o,a));const u=LE(t,o);Lc(t,u)}),t.onDisconnect_=Yu(),Gn(t.eventQueue_,ke(),i)}function tN(t){t.persistentConnection_&&t.persistentConnection_.interrupt(qP)}function Oc(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Pt(n,...e)}function nN(t,e,n,i){e&&lo(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let a=o;i&&(a+=": "+i);const u=new Error(a);u.code=o,e(u)}})}function NE(t,e,n){return Rp(t.serverSyncTree_,e,n)||le.EMPTY_NODE}function Vp(t,e=t.transactionQueueTree_){if(e||Dc(t,e),uo(e)){const n=AE(t,e);H(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&rN(t,Ga(e),n)}else SE(e)&&Ac(e,n=>{Vp(t,n)})}function rN(t,e,n){const i=n.map(m=>m.currentWriteId),o=NE(t,e,i);let a=o;const u=o.hash();for(let m=0;m<n.length;m++){const y=n[m];H(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const w=Lt(e,y.path);a=a.updateChild(w,y.currentOutputSnapshotRaw)}const d=a.val(!0),h=e;t.server_.put(h.toString(),d,m=>{Oc(t,"transaction put response",{path:h.toString(),status:m});let y=[];if(m==="ok"){const w=[];for(let v=0;v<n.length;v++)n[v].status=2,y=y.concat(Ui(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&w.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();Dc(t,$p(t.transactionQueueTree_,e)),Vp(t,t.transactionQueueTree_),Gn(t.eventQueue_,e,y);for(let v=0;v<w.length;v++)lo(w[v])}else{if(m==="datastale")for(let w=0;w<n.length;w++)n[w].status===3?n[w].status=4:n[w].status=0;else{Wt("transaction at "+h.toString()+" failed: "+m);for(let w=0;w<n.length;w++)n[w].status=4,n[w].abortReason=m}Lc(t,e)}},u)}function Lc(t,e){const n=RE(t,e),i=Ga(n),o=AE(t,n);return iN(t,o,i),i}function iN(t,e,n){if(e.length===0)return;const i=[];let o=[];const u=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const h=e[d],m=Lt(n,h.path);let y=!1,w;if(H(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)y=!0,w=h.abortReason,o=o.concat(Ui(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=GP)y=!0,w="maxretry",o=o.concat(Ui(t.serverSyncTree_,h.currentWriteId,!0));else{const v=NE(t,h.path,u);h.currentInputSnapshot=v;const x=e[d].update(v.val());if(x!==void 0){Up("transaction failed: Data returned ",x,h.path);let C=yt(x);typeof x=="object"&&x!=null&&xr(x,".priority")||(C=C.updatePriority(v.getPriority()));const R=h.currentWriteId,I=Bp(t),M=EE(C,v,I);h.currentOutputSnapshotRaw=C,h.currentOutputSnapshotResolved=M,h.currentWriteId=PE(t),u.splice(u.indexOf(R),1),o=o.concat(mE(t.serverSyncTree_,h.path,M,h.currentWriteId,h.applyLocally)),o=o.concat(Ui(t.serverSyncTree_,R,!0))}else y=!0,w="nodata",o=o.concat(Ui(t.serverSyncTree_,h.currentWriteId,!0))}Gn(t.eventQueue_,n,o),o=[],y&&(e[d].status=2,function(v){setTimeout(v,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(w==="nodata"?i.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):i.push(()=>e[d].onComplete(new Error(w),!1,null))))}Dc(t,t.transactionQueueTree_);for(let d=0;d<i.length;d++)lo(i[d]);Vp(t,t.transactionQueueTree_)}function RE(t,e){let n,i=t.transactionQueueTree_;for(n=we(e);n!==null&&uo(i)===void 0;)i=$p(i,n),e=Be(e),n=we(e);return i}function AE(t,e){const n=[];return OE(t,e,n),n.sort((i,o)=>i.order-o.order),n}function OE(t,e,n){const i=uo(e);if(i)for(let o=0;o<i.length;o++)n.push(i[o]);Ac(e,o=>{OE(t,o,n)})}function Dc(t,e){const n=uo(e);if(n){let i=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[i]=n[o],i++);n.length=i,xE(e,n.length>0?n:void 0)}Ac(e,i=>{Dc(t,i)})}function LE(t,e){const n=Ga(RE(t,e)),i=$p(t.transactionQueueTree_,e);return LP(i,o=>{ah(t,o)}),ah(t,i),CE(i,o=>{ah(t,o)}),n}function ah(t,e){const n=uo(e);if(n){const i=[];let o=[],a=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(H(a===u-1,"All SENT items should be at beginning of queue."),a=u,n[u].status=3,n[u].abortReason="set"):(H(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),o=o.concat(Ui(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&i.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));a===-1?xE(e,void 0):n.length=a+1,Gn(t.eventQueue_,Ga(e),o);for(let u=0;u<i.length;u++)lo(i[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let o=n[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function oN(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const gw=function(t,e){const n=aN(t),i=n.namespace;n.domain==="firebase.com"&&wr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&wr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||yI();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new O0(n.host,n.secure,i,o,e,"",i!==n.subdomain),path:new Fe(n.pathString)}},aN=function(t){let e="",n="",i="",o="",a="",u=!0,d="https",h=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(d=t.substring(0,m-1),t=t.substring(m+2));let y=t.indexOf("/");y===-1&&(y=t.length);let w=t.indexOf("?");w===-1&&(w=t.length),e=t.substring(0,Math.min(y,w)),y<w&&(o=sN(t.substring(y,w)));const v=oN(t.substring(Math.min(t.length,w)));m=e.indexOf(":"),m>=0?(u=d==="https"||d==="wss",h=parseInt(e.substring(m+1),10)):m=e.length;const x=e.slice(0,m);if(x.toLowerCase()==="localhost")n="localhost";else if(x.split(".").length<=2)n=x;else{const C=e.indexOf(".");i=e.substring(0,C).toLowerCase(),n=e.substring(C+1),a=i}"ns"in v&&(a=v.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:u,scheme:d,pathString:o,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,n,i,o){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dt(this.snapshot.exportVal())}}class uN{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cN{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,i,o){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=o}get key(){return ye(this._path)?null:z0(this._path)}get ref(){return new Sr(this._repo,this._path)}get _queryIdentifier(){const e=tw(this._queryParams),n=vp(e);return n==="{}"?"default":n}get _queryObject(){return tw(this._queryParams)}isEqual(e){if(e=Rt(e),!(e instanceof Hp))return!1;const n=this._repo===e._repo,i=W0(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+tk(this._path)}}class Sr extends Hp{constructor(e,n){super(e,n,new Cp,!1)}get parent(){const e=H0(this._path);return e===null?null:new Sr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ra{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Fe(e),i=rc(this.ref,e);return new Ra(this._node.getChild(n),i,tt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>e(new Ra(o,rc(this.ref,i),tt)))}hasChild(e){const n=new Fe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ru(t,e){return t=Rt(t),t._checkNotDeleted("ref"),e!==void 0?rc(t._root,e):t._root}function rc(t,e){return t=Rt(t),we(t._path)===null?UP("child","path",e):IE("child","path",e),new Sr(t._repo,ft(t._path,e))}function vw(t,e){t=Rt(t),BP("set",t._path),$P("set",e,t._path);const n=new bc;return ZP(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function DE(t){t=Rt(t);const e=new cN(()=>{}),n=new Wp(e);return JP(t._repo,t,n).then(i=>new Ra(i,new Sr(t._repo,t._path),t._queryParams.getIndex()))}class Wp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new lN("value",this,new Ra(e.snapshotNode,new Sr(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new uN(this,e,n):null}matches(e){return e instanceof Wp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}dP(Sr);gP(Sr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN="FIREBASE_DATABASE_EMULATOR_HOST",Vh={};let fN=!1;function hN(t,e,n,i){t.repoInfo_=new O0(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function pN(t,e,n,i,o){let a=i||t.options.databaseURL;a===void 0&&(t.options.projectId||wr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pt("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=gw(a,o),d=u.repoInfo,h;typeof process<"u"&&Fy&&(h=Fy[dN]),h?(a=`http://${h}?ns=${d.namespace}`,u=gw(a,o),d=u.repoInfo):u.repoInfo.secure;const m=new PI(t.name,t.options,e);zP("Invalid Firebase Database URL",u),ye(u.path)||wr("Database URL must point to the root of a Firebase Database (not including a child path).");const y=gN(d,t,m,new kI(t.name,n));return new vN(y,t)}function mN(t,e){const n=Vh[e];(!n||n[t.key]!==t)&&wr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),tN(t),delete n[t.key]}function gN(t,e,n,i){let o=Vh[e.name];o||(o={},Vh[e.name]=o);let a=o[t.toURLString()];return a&&wr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new KP(t,fN,n,i),o[t.toURLString()]=a,a}class vN{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(YP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sr(this._repo,ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wr("Cannot call "+e+" on a deleted database.")}}function Au(t=m0(),e){const n=gp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=z2("database");i&&yN(n,...i)}return n}function yN(t,e,n,i={}){t=Rt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&wr("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let a;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&wr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Nu(Nu.OWNER);else if(i.mockUserToken){const u=typeof i.mockUserToken=="string"?i.mockUserToken:V2(i.mockUserToken,t.app.options.projectId);a=new Nu(u)}hN(o,e,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){fI(oo),Gs(new Hi("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return pN(i,o,a,n)},"PUBLIC").setMultipleInstances(!0)),si(jy,$y,t),si(jy,$y,"esm2017")}mr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};mr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};wN();function qp(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function ME(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _N=ME,FE=new Ba("auth","Firebase",ME());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ic=new pp("@firebase/auth");function EN(t,...e){ic.logLevel<=De.WARN&&ic.warn(`Auth (${oo}): ${t}`,...e)}function Ou(t,...e){ic.logLevel<=De.ERROR&&ic.error(`Auth (${oo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,...e){throw Gp(t,...e)}function Vn(t,...e){return Gp(t,...e)}function jE(t,e,n){const i=Object.assign(Object.assign({},_N()),{[e]:n});return new Ba("auth","Firebase",i).create(e,{appName:t.name})}function gr(t){return jE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Gp(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return FE.create(t,...e)}function ue(t,e,...n){if(!t)throw Gp(e,...n)}function cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ou(e),new Error(e)}function _r(t,e){t||cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xN(){return yw()==="http:"||yw()==="https:"}function yw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xN()||W2()||"connection"in navigator)?navigator.onLine:!0}function CN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n){this.shortDelay=e,this.longDelay=n,_r(n>e,"Short delay should be less than long delay!"),this.isMobile=fp()||u0()}get(){return SN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(t,e){_r(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new Ka(3e4,6e4);function gi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Cr(t,e,n,i,o={}){return UE(t,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const d=so(Object.assign({key:t.config.apiKey},u)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:h},a);return H2()||(m.referrerPolicy="no-referrer"),$E.fetch()(BE(t,t.config.apiHost,n,d),m)})}async function UE(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},bN),e);try{const o=new kN(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Su(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[h,m]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Su(t,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw Su(t,"email-already-in-use",u);if(h==="USER_DISABLED")throw Su(t,"user-disabled",u);const y=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw jE(t,y,m);On(t,y)}}catch(o){if(o instanceof mi)throw o;On(t,"network-request-failed",{message:String(o)})}}async function Ya(t,e,n,i,o={}){const a=await Cr(t,e,n,i,o);return"mfaPendingCredential"in a&&On(t,"multi-factor-auth-required",{_serverResponse:a}),a}function BE(t,e,n,i){const o=`${e}${n}?${i}`;return t.config.emulator?Kp(t.config,o):`${t.config.apiScheme}://${o}`}function IN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Vn(this.auth,"network-request-failed")),TN.get())})}}function Su(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Vn(t,e,i);return o.customData._tokenResponse=n,o}function ww(t){return t!==void 0&&t.enterprise!==void 0}class PN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return IN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function NN(t,e){return Cr(t,"GET","/v2/recaptchaConfig",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e){return Cr(t,"POST","/v1/accounts:delete",e)}async function zE(t,e){return Cr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AN(t,e=!1){const n=Rt(t),i=await n.getIdToken(e),o=Yp(i);ue(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:ya(lh(o.auth_time)),issuedAtTime:ya(lh(o.iat)),expirationTime:ya(lh(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function lh(t){return Number(t)*1e3}function Yp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{const o=Bu(n);return o?JSON.parse(o):(Ou("Failed to decode base64 JWT payload"),null)}catch(o){return Ou("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function _w(t){const e=Yp(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof mi&&ON(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function ON({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ya(this.lastLoginAt),this.creationTime=ya(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t){var e;const n=t.auth,i=await t.getIdToken(),o=await Xs(t,zE(n,{idToken:i}));ue(o==null?void 0:o.users.length,n,"internal-error");const a=o.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?VE(a.providerUserInfo):[],d=MN(t.providerData,u),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(d!=null&&d.length),y=h?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Wh(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(t,w)}async function DN(t){const e=Rt(t);await sc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MN(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function VE(t){return t.map(e=>{var{providerId:n}=e,i=qp(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FN(t,e){const n=await UE(t,{},async()=>{const i=so({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,u=BE(t,o,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",$E.fetch()(u,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function jN(t,e){return Cr(t,"POST","/v2/accounts:revokeToken",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_w(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=_w(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:a}=await FN(e,n);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:a}=n,u=new Bs;return i&&(ue(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(ue(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(ue(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bs,this.toJSON())}_performRefresh(){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class dr{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,a=qp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Wh(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Xs(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return AN(this,e)}reload(){return DN(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await sc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(gr(this.auth));const e=await this.getIdToken();return await Xs(this,RN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,a,u,d,h,m,y;const w=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(o=n.email)!==null&&o!==void 0?o:void 0,x=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,C=(u=n.photoURL)!==null&&u!==void 0?u:void 0,N=(d=n.tenantId)!==null&&d!==void 0?d:void 0,R=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,I=(m=n.createdAt)!==null&&m!==void 0?m:void 0,M=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:z,emailVerified:Z,isAnonymous:F,providerData:W,stsTokenManager:Q}=n;ue(z&&Q,e,"internal-error");const _e=Bs.fromJSON(this.name,Q);ue(typeof z=="string",e,"internal-error"),Gr(w,e.name),Gr(v,e.name),ue(typeof Z=="boolean",e,"internal-error"),ue(typeof F=="boolean",e,"internal-error"),Gr(x,e.name),Gr(C,e.name),Gr(N,e.name),Gr(R,e.name),Gr(I,e.name),Gr(M,e.name);const pe=new dr({uid:z,auth:e,email:v,emailVerified:Z,displayName:w,isAnonymous:F,photoURL:C,phoneNumber:x,tenantId:N,stsTokenManager:_e,createdAt:I,lastLoginAt:M});return W&&Array.isArray(W)&&(pe.providerData=W.map(je=>Object.assign({},je))),R&&(pe._redirectEventId=R),pe}static async _fromIdTokenResponse(e,n,i=!1){const o=new Bs;o.updateFromServerResponse(n);const a=new dr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await sc(a),a}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];ue(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?VE(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Bs;d.updateFromIdToken(i);const h=new dr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Wh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew=new Map;function fr(t){_r(t instanceof Function,"Expected a class definition");let e=Ew.get(t);return e?(_r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ew.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}HE.type="NONE";const xw=HE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t,e,n){return`firebase:${t}:${e}:${n}`}class zs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Lu(this.userKey,o.apiKey,a),this.fullPersistenceKey=Lu("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new zs(fr(xw),e,i);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||fr(xw);const u=Lu(i,e.config.apiKey,e.name);let d=null;for(const m of n)try{const y=await m._get(u);if(y){const w=dr._fromJSON(e,y);m!==a&&(d=w),a=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new zs(a,e,i):(a=h[0],d&&await a._set(u,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new zs(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(WE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QE(e))return"Blackberry";if(XE(e))return"Webos";if(qE(e))return"Safari";if((e.includes("chrome/")||GE(e))&&!e.includes("edge/"))return"Chrome";if(YE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function WE(t=Dt()){return/firefox\//i.test(t)}function qE(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function GE(t=Dt()){return/crios\//i.test(t)}function KE(t=Dt()){return/iemobile/i.test(t)}function YE(t=Dt()){return/android/i.test(t)}function QE(t=Dt()){return/blackberry/i.test(t)}function XE(t=Dt()){return/webos/i.test(t)}function Qp(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $N(t=Dt()){var e;return Qp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UN(){return q2()&&document.documentMode===10}function JE(t=Dt()){return Qp(t)||YE(t)||XE(t)||QE(t)||/windows phone/i.test(t)||KE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZE(t,e=[]){let n;switch(t){case"Browser":n=Sw(Dt());break;case"Worker":n=`${Sw(Dt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((u,d)=>{try{const h=e(a);u(h)}catch(h){d(h)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zN(t,e={}){return Cr(t,"GET","/v2/passwordPolicy",gi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=6;class HN{constructor(e){var n,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:VN,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,a,u,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cw(this),this.idTokenSubscription=new Cw(this),this.beforeStateQueue=new BN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await zs.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zE(this,{idToken:e}),i=await dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===d)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await sc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(gr(this));const n=e?Rt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await zN(this),n=new HN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ba("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await jN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await zs.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,o);return()=>{u=!0,h()}}else{const h=e.addObserver(n);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ZE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&EN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ts(t){return Rt(t)}class Cw{constructor(e){this.auth=e,this.observer=null,this.addObserver=tT(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qN(t){Mc=t}function e1(t){return Mc.loadJS(t)}function GN(){return Mc.recaptchaEnterpriseScript}function KN(){return Mc.gapiScript}function YN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class QN{constructor(){this.enterprise=new XN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class XN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const JN="recaptcha-enterprise",t1="NO_RECAPTCHA";class ZN{constructor(e){this.type=JN,this.auth=ts(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{NN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new PN(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(h=>{d(h)})})}function o(a,u,d){const h=window.grecaptcha;ww(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(t1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new QN().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(d=>{if(!n&&ww(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=GN();h.length!==0&&(h+=d),e1(h).then(()=>{o(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function bw(t,e,n,i=!1,o=!1){const a=new ZN(t);let u;if(o)u=t1;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function qh(t,e,n,i,o){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await bw(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await bw(t,e,n,n==="getOobCode");return i(t,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(t,e){const n=gp(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(Vu(a,e??{}))return o;On(o,"already-initialized")}return n.initialize({options:e})}function tR(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(fr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function nR(t,e,n){const i=ts(t);ue(i._canInitEmulator,i,"emulator-config-failed"),ue(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=n1(e),{host:u,port:d}=rR(e),h=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${u}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),iR()}function n1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rR(t){const e=n1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:Tw(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:Tw(u)}}}function Tw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function iR(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function sR(t,e){return Cr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(t,e){return Ya(t,"POST","/v1/accounts:signInWithPassword",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(t,e){return Ya(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))}async function lR(t,e){return Ya(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa extends Xp{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Aa(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Aa(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qh(e,n,"signInWithPassword",oR);case"emailLink":return aR(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qh(e,i,"signUpPassword",sR);case"emailLink":return lR(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vs(t,e){return Ya(t,"POST","/v1/accounts:signInWithIdp",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="http://localhost";class Ki extends Xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,a=qp(n,["providerId","signInMethod"]);if(!i||!o)return null;const u=new Ki(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Vs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,Vs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vs(e,n)}buildRequest(){const e={requestUri:uR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=so(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dR(t){const e=ca(da(t)).link,n=e?ca(da(e)).deep_link_id:null,i=ca(da(t)).deep_link_id;return(i?ca(da(i)).link:null)||i||n||e||t}class Jp{constructor(e){var n,i,o,a,u,d;const h=ca(da(e)),m=(n=h.apiKey)!==null&&n!==void 0?n:null,y=(i=h.oobCode)!==null&&i!==void 0?i:null,w=cR((o=h.mode)!==null&&o!==void 0?o:null);ue(m&&y&&w,"argument-error"),this.apiKey=m,this.operation=w,this.code=y,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=dR(e);try{return new Jp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.providerId=co.PROVIDER_ID}static credential(e,n){return Aa._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Jp.parseLink(n);return ue(i,"argument-error"),Aa._fromEmailAndCode(e,i.code,i.tenantId)}}co.PROVIDER_ID="password";co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends r1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Qa{constructor(){super("facebook.com")}static credential(e){return Ki._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Qa{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ki._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Xr.credential(n,i)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Qa{constructor(){super("github.com")}static credential(e){return Ki._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Qa{constructor(){super("twitter.com")}static credential(e,n){return Ki._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Zr.credential(n,i)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t,e){return Ya(t,"POST","/v1/accounts:signUp",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const a=await dr._fromIdTokenResponse(e,i,o),u=Iw(i);return new Yi({user:a,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Iw(i);return new Yi({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Iw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends mi{constructor(e,n,i,o){var a;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,oc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new oc(e,n,i,o)}}function i1(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?oc._fromErrorAndOperation(t,a,e,i):a})}async function hR(t,e,n=!1){const i=await Xs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Yi._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(t,e,n=!1){const{auth:i}=t;if(zn(i.app))return Promise.reject(gr(i));const o="reauthenticate";try{const a=await Xs(t,i1(i,o,e,t),n);ue(a.idToken,i,"internal-error");const u=Yp(a.idToken);ue(u,i,"internal-error");const{sub:d}=u;return ue(t.uid===d,i,"user-mismatch"),Yi._forOperation(t,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&On(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(t,e,n=!1){if(zn(t.app))return Promise.reject(gr(t));const i="signIn",o=await i1(t,i,e),a=await Yi._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(a.user),a}async function mR(t,e){return s1(ts(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(t){const e=ts(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function gR(t,e,n){if(zn(t.app))return Promise.reject(gr(t));const i=ts(t),u=await qh(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fR).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&o1(t),h}),d=await Yi._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function vR(t,e,n){return zn(t.app)?Promise.reject(gr(t)):mR(Rt(t),co.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&o1(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yR(t,e){return Cr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wR(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Rt(t),a={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await Xs(i,yR(i.auth,a));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const d=i.providerData.find(({providerId:h})=>h==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function _R(t,e,n,i){return Rt(t).onIdTokenChanged(e,n,i)}function ER(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function xR(t,e,n,i){return Rt(t).onAuthStateChanged(e,n,i)}function a1(t){return Rt(t).signOut()}const ac="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ac,"1"),this.storage.removeItem(ac),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=1e3,CR=10;class u1 extends l1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,h)=>{this.notifyListeners(u,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);UN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,CR):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},SR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}u1.type="LOCAL";const bR=u1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends l1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}c1.type="SESSION";const d1=c1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Fc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:a}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async m=>m(n.origin,a)),h=await TR(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,h)=>{const m=Zp("",20);o.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(w){const v=w;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(v.data.response);break;default:clearTimeout(y),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function kR(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function PR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RR(){return f1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="firebaseLocalStorageDb",AR=1,lc="firebaseLocalStorage",p1="fbase_key";class Xa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jc(t,e){return t.transaction([lc],e?"readwrite":"readonly").objectStore(lc)}function OR(){const t=indexedDB.deleteDatabase(h1);return new Xa(t).toPromise()}function Gh(){const t=indexedDB.open(h1,AR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(lc,{keyPath:p1})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(lc)?e(i):(i.close(),await OR(),e(await Gh()))})})}async function kw(t,e,n){const i=jc(t,!0).put({[p1]:e,value:n});return new Xa(i).toPromise()}async function LR(t,e){const n=jc(t,!1).get(e),i=await new Xa(n).toPromise();return i===void 0?null:i.value}function Pw(t,e){const n=jc(t,!0).delete(e);return new Xa(n).toPromise()}const DR=800,MR=3;class m1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>MR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return f1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fc._getInstance(RR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await PR(),!this.activeServiceWorker)return;this.sender=new IR(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gh();return await kw(e,ac,"1"),await Pw(e,ac),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>kw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>LR(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=jc(o,!1).getAll();return new Xa(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}m1.type="LOCAL";const FR=m1;new Ka(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t,e){return e?fr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em extends Xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $R(t){return s1(t.auth,new em(t),t.bypassAuthState)}function UR(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),pR(n,new em(t),t.bypassAuthState)}async function BR(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),hR(n,new em(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $R;case"linkViaPopup":case"linkViaRedirect":return BR;case"reauthViaPopup":case"reauthViaRedirect":return UR;default:On(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=new Ka(2e3,1e4);class Fs extends g1{constructor(e,n,i,o,a){super(e,n,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Fs.currentPopupAction&&Fs.currentPopupAction.cancel(),Fs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=Zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zR.get())};e()}}Fs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="pendingRedirect",Du=new Map;class HR extends g1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Du.get(this.auth._key());if(!e){try{const i=await WR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Du.set(this.auth._key(),e)}return this.bypassAuthState||Du.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WR(t,e){const n=KR(e),i=GR(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function qR(t,e){Du.set(t._key(),e)}function GR(t){return fr(t._redirectPersistence)}function KR(t){return Lu(VR,t.config.apiKey,t.name)}async function YR(t,e,n=!1){if(zn(t.app))return Promise.reject(gr(t));const i=ts(t),o=jR(i,e),u=await new HR(i,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=10*60*1e3;class XR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!JR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!v1(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Vn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=QR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nw(e))}saveEventToCache(e){this.cachedEventUids.add(Nw(e)),this.lastProcessedEventTime=Date.now()}}function Nw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function v1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function JR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZR(t,e={}){return Cr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tA=/^https?/;async function nA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ZR(t);for(const n of e)try{if(rA(n))return}catch{}On(t,"unauthorized-domain")}function rA(t){const e=Hh(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!tA.test(n))return!1;if(eA.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=new Ka(3e4,6e4);function Rw(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function sA(t){return new Promise((e,n)=>{var i,o,a;function u(){Rw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rw(),n(Vn(t,"network-request-failed"))},timeout:iA.get()})}if(!((o=(i=Hn().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Hn().gapi)===null||a===void 0)&&a.load)u();else{const d=YN("iframefcb");return Hn()[d]=()=>{gapi.load?u():n(Vn(t,"network-request-failed"))},e1(`${KN()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw Mu=null,e})}let Mu=null;function oA(t){return Mu=Mu||sA(t),Mu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=new Ka(5e3,15e3),lA="__/auth/iframe",uA="emulator/auth/iframe",cA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function fA(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Kp(e,uA):`https://${t.config.authDomain}/${lA}`,i={apiKey:e.apiKey,appName:t.name,v:oo},o=dA.get(t.config.apiHost);o&&(i.eid=o);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${so(i).slice(1)}`}async function hA(t){const e=await oA(t),n=Hn().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:fA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cA,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=Vn(t,"network-request-failed"),d=Hn().setTimeout(()=>{a(u)},aA.get());function h(){Hn().clearTimeout(d),o(i)}i.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mA=500,gA=600,vA="_blank",yA="http://localhost";class Aw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wA(t,e,n,i=mA,o=gA){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const h=Object.assign(Object.assign({},pA),{width:i.toString(),height:o.toString(),top:a,left:u}),m=Dt().toLowerCase();n&&(d=GE(m)?vA:n),WE(m)&&(e=e||yA,h.scrollbars="yes");const y=Object.entries(h).reduce((v,[x,C])=>`${v}${x}=${C},`,"");if($N(m)&&d!=="_self")return _A(e||"",d),new Aw(null);const w=window.open(e||"",d,y);ue(w,t,"popup-blocked");try{w.focus()}catch{}return new Aw(w)}function _A(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA="__/auth/handler",xA="emulator/auth/handler",SA=encodeURIComponent("fac");async function Ow(t,e,n,i,o,a){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:oo,eventId:o};if(e instanceof r1){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",kh(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))u[y]=w}if(e instanceof Qa){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const h=await t._getAppCheckToken(),m=h?`#${SA}=${encodeURIComponent(h)}`:"";return`${CA(t)}?${so(d).slice(1)}${m}`}function CA({config:t}){return t.emulator?Kp(t,xA):`https://${t.authDomain}/${EA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="webStorageSupport";class bA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d1,this._completeRedirectFn=YR,this._overrideRedirectResult=qR}async _openPopup(e,n,i,o){var a;_r((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Ow(e,n,i,Hh(),o);return wA(e,u,Zp())}async _openRedirect(e,n,i,o){await this._originValidation(e);const a=await Ow(e,n,i,Hh(),o);return kR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(_r(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await hA(e),i=new XR(e);return n.register("authEvent",o=>(ue(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(uh,{type:uh},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[uh];u!==void 0&&n(!!u),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JE()||qE()||Qp()}}const TA=bA;var Lw="@firebase/auth",Dw="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PA(t){Gs(new Hi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;ue(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ZE(t)},m=new WN(i,o,a,h);return tR(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Gs(new Hi("auth-internal",e=>{const n=ts(e.getProvider("auth").getImmediate());return(i=>new IA(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(Lw,Dw,kA(t)),si(Lw,Dw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA=5*60,RA=l0("authIdTokenMaxAge")||NA;let Mw=null;const AA=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>RA)return;const o=n==null?void 0:n.token;Mw!==o&&(Mw=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Qi(t=m0()){const e=gp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=eR(t,{popupRedirectResolver:TA,persistence:[FR,bR,d1]}),i=l0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=AA(a.toString());ER(n,u,()=>u(n.currentUser)),_R(n,d=>u(d))}}const o=o0("auth");return o&&nR(n,`http://${o}`),n}function OA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}qN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const a=Vn("internal-error");a.customData=o,n(a)},i.type="text/javascript",i.charset="UTF-8",OA().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PA("Browser");const y1=b.createContext(),w1=()=>b.useContext(y1),LA=({children:t})=>{var y;const[e,n]=b.useState([]),[i,o]=b.useState(!0),u=(y=Qi().currentUser)==null?void 0:y.uid;b.useEffect(()=>{u&&d(u)},[u]),b.useEffect(()=>{const v=Qi().onAuthStateChanged(x=>{x?d(x.uid):n([])});return()=>v()},[]);const d=async w=>{if(!w)return;const v=Au(),x=Ru(v,`users/${w}/favorites`);o(!0);try{const C=await DE(x);C.exists()?n(Object.values(C.val())):n([])}catch(C){console.error("Error fetching favorites:",C)}finally{o(!1)}},h=async(w,v)=>{const x=Au();try{const C=v.nannyId||v.id;if(!C)throw new Error("Няня не має ID");await vw(Ru(x,`users/${w}/favorites/${C}`),v),n(N=>[...N,v])}catch(C){console.error("Помилка при додаванні няні до обраних:",C.message)}},m=async(w,v)=>{if(!w||!v){console.error("NannyId or UserId is missing!");return}const x=Au(),C=Ru(x,`users/${v}/favorites/${w}`);try{await vw(C,null),d(v)}catch(N){console.error("Помилка при видаленні няні з обраних:",N)}};return _.jsx(y1.Provider,{value:{isLoading:i,favorites:e,addToFavorites:h,removeFromFavorites:m},children:t})};var ch={exports:{}},dh,Fw;function DA(){if(Fw)return dh;Fw=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return dh=t,dh}var fh,jw;function MA(){if(jw)return fh;jw=1;var t=DA();function e(){}function n(){}return n.resetWarningCache=e,fh=function(){function i(u,d,h,m,y,w){if(w!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}i.isRequired=i;function o(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:o,element:i,elementType:i,instanceOf:o,node:i,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return a.PropTypes=a,a},fh}var $w;function FA(){return $w||($w=1,ch.exports=MA()()),ch.exports}var jA=FA();const Li=to(jA),qt=({text:t,icon:e=null,border:n="false",backgroundColor:i="bg-[--prime]",hoverBackgroundColor:o="hover:bg-[--hover-prime]",hoverTextColor:a="hover:text-black",className:u="",...d})=>_.jsxs("button",{...d,className:`
        flex items-center justify-center px-6 py-3 font-bold 
        text-white rounded-full transition-all duration-300 
        ${i} ${o} ${a}
        ${n?"outline outline-2 outline-gray-200":""}
        ${u}
      `,children:[t,e&&_.jsx("span",{className:"ml-4",children:e})]});qt.propTypes={text:Li.string.isRequired,icon:Li.node,border:Li.string,className:Li.string,backgroundColor:Li.string,hoverBackgroundColor:Li.string,hoverTextColor:Li.string};var _1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Uw=Bi.createContext&&Bi.createContext(_1),$A=["attr","size","title"];function UA(t,e){if(t==null)return{};var n=BA(t,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function BA(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function uc(){return uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},uc.apply(this,arguments)}function Bw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function cc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bw(Object(n),!0).forEach(function(i){zA(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function zA(t,e,n){return e=VA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VA(t){var e=HA(t,"string");return typeof e=="symbol"?e:e+""}function HA(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E1(t){return t&&t.map((e,n)=>Bi.createElement(e.tag,cc({key:n},e.attr),E1(e.child)))}function Yt(t){return e=>Bi.createElement(WA,uc({attr:cc({},t.attr)},e),E1(t.child))}function WA(t){var e=n=>{var{attr:i,size:o,title:a}=t,u=UA(t,$A),d=o||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Bi.createElement("svg",uc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:h,style:cc(cc({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&Bi.createElement("title",null,a),t.children)};return Uw!==void 0?Bi.createElement(Uw.Consumer,null,n=>e(n)):e(_1)}function qA(t){return Yt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function GA(t){return Yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function KA(t){return Yt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function YA(t){return Yt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function x1(t){return Yt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634 471L36 3.51A16 16 0 0 0 13.51 6l-10 12.49A16 16 0 0 0 6 41l598 467.49a16 16 0 0 0 22.49-2.49l10-12.49A16 16 0 0 0 634 471zM296.79 146.47l134.79 105.38C429.36 191.91 380.48 144 320 144a112.26 112.26 0 0 0-23.21 2.47zm46.42 219.07L208.42 260.16C210.65 320.09 259.53 368 320 368a113 113 0 0 0 23.21-2.46zM320 112c98.65 0 189.09 55 237.93 144a285.53 285.53 0 0 1-44 60.2l37.74 29.5a333.7 333.7 0 0 0 52.9-75.11 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64c-36.7 0-71.71 7-104.63 18.81l46.41 36.29c18.94-4.3 38.34-7.1 58.22-7.1zm0 288c-98.65 0-189.08-55-237.93-144a285.47 285.47 0 0 1 44.05-60.19l-37.74-29.5a333.6 333.6 0 0 0-52.89 75.1 32.35 32.35 0 0 0 0 29.19C89.72 376.41 197.08 448 320 448c36.7 0 71.71-7.05 104.63-18.81l-46.41-36.28C359.28 397.2 339.89 400 320 400z"},child:[]}]})(t)}function S1(t){return Yt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"},child:[]}]})(t)}function tm(t){return Yt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.25 15.5a.75.75 0 0 1-.75-.75V7.56L7.28 17.78a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L16.44 6.5H9.25a.75.75 0 0 1 0-1.5h9a.75.75 0 0 1 .75.75v9a.75.75 0 0 1-.75.75Z"},child:[]}]})(t)}/*!
* sweetalert2 v11.15.10
* Released under the MIT License.
*/function C1(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function QA(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function zw(t,e){return t.get(C1(t,e))}function XA(t,e,n){QA(t,e),e.set(t,n)}function JA(t,e,n){return t.set(C1(t,e),n),n}const ZA=100,ae={},eO=()=>{ae.previousActiveElement instanceof HTMLElement?(ae.previousActiveElement.focus(),ae.previousActiveElement=null):document.body&&document.body.focus()},tO=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,i=window.scrollY;ae.restoreFocusTimeout=setTimeout(()=>{eO(),e()},ZA),window.scrollTo(n,i)}),b1="swal2-",nO=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],D=nO.reduce((t,e)=>(t[e]=b1+e,t),{}),rO=["success","warning","info","question","error"],dc=rO.reduce((t,e)=>(t[e]=b1+e,t),{}),T1="SweetAlert2:",nm=t=>t.charAt(0).toUpperCase()+t.slice(1),Qt=t=>{console.warn(`${T1} ${typeof t=="object"?t.join(" "):t}`)},ns=t=>{console.error(`${T1} ${t}`)},Vw=[],iO=t=>{Vw.includes(t)||(Vw.push(t),Qt(t))},I1=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;iO(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},$c=t=>typeof t=="function"?t():t,rm=t=>t&&typeof t.toPromise=="function",Ja=t=>rm(t)?t.toPromise():Promise.resolve(t),im=t=>t&&Promise.resolve(t)===t,Xt=()=>document.body.querySelector(`.${D.container}`),Za=t=>{const e=Xt();return e?e.querySelector(t):null},an=t=>Za(`.${t}`),Pe=()=>an(D.popup),fo=()=>an(D.icon),sO=()=>an(D["icon-content"]),k1=()=>an(D.title),sm=()=>an(D["html-container"]),P1=()=>an(D.image),om=()=>an(D["progress-steps"]),Uc=()=>an(D["validation-message"]),Kn=()=>Za(`.${D.actions} .${D.confirm}`),ho=()=>Za(`.${D.actions} .${D.cancel}`),rs=()=>Za(`.${D.actions} .${D.deny}`),oO=()=>an(D["input-label"]),po=()=>Za(`.${D.loader}`),el=()=>an(D.actions),N1=()=>an(D.footer),Bc=()=>an(D["timer-progress-bar"]),am=()=>an(D.close),aO=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,lm=()=>{const t=Pe();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,u)=>{const d=parseInt(a.getAttribute("tabindex")||"0"),h=parseInt(u.getAttribute("tabindex")||"0");return d>h?1:d<h?-1:0}),i=t.querySelectorAll(aO),o=Array.from(i).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(a=>Gt(a))},um=()=>vr(document.body,D.shown)&&!vr(document.body,D["toast-shown"])&&!vr(document.body,D["no-backdrop"]),zc=()=>{const t=Pe();return t?vr(t,D.toast):!1},lO=()=>{const t=Pe();return t?t.hasAttribute("data-loading"):!1},ln=(t,e)=>{if(t.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),o=i.querySelector("head");o&&Array.from(o.childNodes).forEach(u=>{t.appendChild(u)});const a=i.querySelector("body");a&&Array.from(a.childNodes).forEach(u=>{u instanceof HTMLVideoElement||u instanceof HTMLAudioElement?t.appendChild(u.cloneNode(!0)):t.appendChild(u)})}},vr=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},uO=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(D).includes(n)&&!Object.values(dc).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},on=(t,e,n)=>{if(uO(t,e),!e.customClass)return;const i=e.customClass[n];if(i){if(typeof i!="string"&&!i.forEach){Qt(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof i}"`);return}xe(t,i)}},Vc=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${D.popup} > .${D[e]}`);case"checkbox":return t.querySelector(`.${D.popup} > .${D.checkbox} input`);case"radio":return t.querySelector(`.${D.popup} > .${D.radio} input:checked`)||t.querySelector(`.${D.popup} > .${D.radio} input:first-child`);case"range":return t.querySelector(`.${D.popup} > .${D.range} input`);default:return t.querySelector(`.${D.popup} > .${D.input}`)}},R1=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},A1=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(i):o.classList.remove(i)}):n?t.classList.add(i):t.classList.remove(i)}))},xe=(t,e)=>{A1(t,e,!0)},wn=(t,e)=>{A1(t,e,!1)},ei=(t,e)=>{const n=Array.from(t.children);for(let i=0;i<n.length;i++){const o=n[i];if(o instanceof HTMLElement&&vr(o,e))return o}},zi=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},wt=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";t&&(t.style.display=e)},Nt=t=>{t&&(t.style.display="none")},cm=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";t&&new MutationObserver(()=>{tl(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},Hw=(t,e,n,i)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,i)},tl=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?wt(t,n):Nt(t)},Gt=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),cO=()=>!Gt(Kn())&&!Gt(rs())&&!Gt(ho()),Ww=t=>t.scrollHeight>t.clientHeight,O1=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},dm=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=Bc();n&&Gt(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},dO=()=>{const t=Bc();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),i=e/n*100;t.style.width=`${i}%`},fO=()=>typeof window>"u"||typeof document>"u",hO=`
 <div aria-labelledby="${D.title}" aria-describedby="${D["html-container"]}" class="${D.popup}" tabindex="-1">
   <button type="button" class="${D.close}"></button>
   <ul class="${D["progress-steps"]}"></ul>
   <div class="${D.icon}"></div>
   <img class="${D.image}" />
   <h2 class="${D.title}" id="${D.title}"></h2>
   <div class="${D["html-container"]}" id="${D["html-container"]}"></div>
   <input class="${D.input}" id="${D.input}" />
   <input type="file" class="${D.file}" />
   <div class="${D.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${D.select}" id="${D.select}"></select>
   <div class="${D.radio}"></div>
   <label class="${D.checkbox}">
     <input type="checkbox" id="${D.checkbox}" />
     <span class="${D.label}"></span>
   </label>
   <textarea class="${D.textarea}" id="${D.textarea}"></textarea>
   <div class="${D["validation-message"]}" id="${D["validation-message"]}"></div>
   <div class="${D.actions}">
     <div class="${D.loader}"></div>
     <button type="button" class="${D.confirm}"></button>
     <button type="button" class="${D.deny}"></button>
     <button type="button" class="${D.cancel}"></button>
   </div>
   <div class="${D.footer}"></div>
   <div class="${D["timer-progress-bar-container"]}">
     <div class="${D["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),pO=()=>{const t=Xt();return t?(t.remove(),wn([document.documentElement,document.body],[D["no-backdrop"],D["toast-shown"],D["has-column"]]),!0):!1},Di=()=>{ae.currentInstance.resetValidationMessage()},mO=()=>{const t=Pe(),e=ei(t,D.input),n=ei(t,D.file),i=t.querySelector(`.${D.range} input`),o=t.querySelector(`.${D.range} output`),a=ei(t,D.select),u=t.querySelector(`.${D.checkbox} input`),d=ei(t,D.textarea);e.oninput=Di,n.onchange=Di,a.onchange=Di,u.onchange=Di,d.oninput=Di,i.oninput=()=>{Di(),o.value=i.value},i.onchange=()=>{Di(),o.value=i.value}},gO=t=>typeof t=="string"?document.querySelector(t):t,vO=t=>{const e=Pe();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},yO=t=>{window.getComputedStyle(t).direction==="rtl"&&xe(Xt(),D.rtl)},wO=t=>{const e=pO();if(fO()){ns("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=D.container,e&&xe(n,D["no-transition"]),ln(n,hO);const i=gO(t.target);i.appendChild(n),vO(t),yO(i),mO()},fm=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?_O(t,e):t&&ln(e,t)},_O=(t,e)=>{t.jquery?EO(e,t):ln(e,t.toString())},EO=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},xO=(t,e)=>{const n=el(),i=po();!n||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Nt(n):wt(n),on(n,e,"actions"),SO(n,i,e),ln(i,e.loaderHtml||""),on(i,e,"loader"))};function SO(t,e,n){const i=Kn(),o=rs(),a=ho();!i||!o||!a||(hh(i,"confirm",n),hh(o,"deny",n),hh(a,"cancel",n),CO(i,o,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,i),t.insertBefore(o,i)):(t.insertBefore(a,e),t.insertBefore(o,e),t.insertBefore(i,e))))}function CO(t,e,n,i){if(!i.buttonsStyling){wn([t,e,n],D.styled);return}xe([t,e,n],D.styled),i.confirmButtonColor&&(t.style.backgroundColor=i.confirmButtonColor,xe(t,D["default-outline"])),i.denyButtonColor&&(e.style.backgroundColor=i.denyButtonColor,xe(e,D["default-outline"])),i.cancelButtonColor&&(n.style.backgroundColor=i.cancelButtonColor,xe(n,D["default-outline"]))}function hh(t,e,n){const i=nm(e);tl(t,n[`show${i}Button`],"inline-block"),ln(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=D[e],on(t,n,`${e}Button`)}const bO=(t,e)=>{const n=am();n&&(ln(n,e.closeButtonHtml||""),on(n,e,"closeButton"),tl(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},TO=(t,e)=>{const n=Xt();n&&(IO(n,e.backdrop),kO(n,e.position),PO(n,e.grow),on(n,e,"container"))};function IO(t,e){typeof e=="string"?t.style.background=e:e||xe([document.documentElement,document.body],D["no-backdrop"])}function kO(t,e){e&&(e in D?xe(t,D[e]):(Qt('The "position" parameter is not valid, defaulting to "center"'),xe(t,D.center)))}function PO(t,e){e&&xe(t,D[`grow-${e}`])}var ze={innerParams:new WeakMap,domCache:new WeakMap};const NO=["input","file","range","select","radio","checkbox","textarea"],RO=(t,e)=>{const n=Pe();if(!n)return;const i=ze.innerParams.get(t),o=!i||e.input!==i.input;NO.forEach(a=>{const u=ei(n,D[a]);u&&(LO(a,e.inputAttributes),u.className=D[a],o&&Nt(u))}),e.input&&(o&&AO(e),DO(e))},AO=t=>{if(!t.input)return;if(!it[t.input]){ns(`Unexpected type of input! Expected ${Object.keys(it).join(" | ")}, got "${t.input}"`);return}const e=L1(t.input);if(!e)return;const n=it[t.input](e,t);wt(e),t.inputAutoFocus&&setTimeout(()=>{R1(n)})},OO=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},LO=(t,e)=>{const n=Pe();if(!n)return;const i=Vc(n,t);if(i){OO(i);for(const o in e)i.setAttribute(o,e[o])}},DO=t=>{if(!t.input)return;const e=L1(t.input);e&&on(e,t,"input")},hm=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},nl=(t,e,n)=>{if(n.inputLabel){const i=document.createElement("label"),o=D["input-label"];i.setAttribute("for",t.id),i.className=o,typeof n.customClass=="object"&&xe(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},L1=t=>{const e=Pe();if(e)return ei(e,D[t]||D.input)},fc=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:im(e)||Qt(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},it={};it.text=it.email=it.password=it.number=it.tel=it.url=it.search=it.date=it["datetime-local"]=it.time=it.week=it.month=(t,e)=>(fc(t,e.inputValue),nl(t,t,e),hm(t,e),t.type=e.input,t);it.file=(t,e)=>(nl(t,t,e),hm(t,e),t);it.range=(t,e)=>{const n=t.querySelector("input"),i=t.querySelector("output");return fc(n,e.inputValue),n.type=e.input,fc(i,e.inputValue),nl(n,t,e),t};it.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");ln(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return nl(t,t,e),t};it.radio=t=>(t.textContent="",t);it.checkbox=(t,e)=>{const n=Vc(Pe(),"checkbox");n.value="1",n.checked=!!e.inputValue;const i=t.querySelector("span");return ln(i,e.inputPlaceholder||e.inputLabel),n};it.textarea=(t,e)=>{fc(t,e.inputValue),hm(t,e),nl(t,t,e);const n=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(Pe()).width),o=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>i?Pe().style.width=`${a}px`:zi(Pe(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const MO=(t,e)=>{const n=sm();n&&(cm(n),on(n,e,"htmlContainer"),e.html?(fm(e.html,n),wt(n,"block")):e.text?(n.textContent=e.text,wt(n,"block")):Nt(n),RO(t,e))},FO=(t,e)=>{const n=N1();n&&(cm(n),tl(n,e.footer,"block"),e.footer&&fm(e.footer,n),on(n,e,"footer"))},jO=(t,e)=>{const n=ze.innerParams.get(t),i=fo();if(i){if(n&&e.icon===n.icon){Gw(i,e),qw(i,e);return}if(!e.icon&&!e.iconHtml){Nt(i);return}if(e.icon&&Object.keys(dc).indexOf(e.icon)===-1){ns(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Nt(i);return}wt(i),Gw(i,e),qw(i,e),xe(i,e.showClass&&e.showClass.icon)}},qw=(t,e)=>{for(const[n,i]of Object.entries(dc))e.icon!==n&&wn(t,i);xe(t,e.icon&&dc[e.icon]),zO(t,e),$O(),on(t,e,"icon")},$O=()=>{const t=Pe();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<n.length;i++)n[i].style.backgroundColor=e},UO=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,BO=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Gw=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,i="";e.iconHtml?i=Kw(e.iconHtml):e.icon==="success"?(i=UO,n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?i=BO:e.icon&&(i=Kw({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==i.trim()&&ln(t,i)},zO=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Hw(t,n,"background-color",e.iconColor);Hw(t,".swal2-success-ring","border-color",e.iconColor)}},Kw=t=>`<div class="${D["icon-content"]}">${t}</div>`,VO=(t,e)=>{const n=P1();if(n){if(!e.imageUrl){Nt(n);return}wt(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),zi(n,"width",e.imageWidth),zi(n,"height",e.imageHeight),n.className=D.image,on(n,e,"image")}};let pm=!1,D1=0,M1=0,F1=0,j1=0;const HO=t=>{t.addEventListener("mousedown",hc),document.body.addEventListener("mousemove",pc),t.addEventListener("mouseup",mc),t.addEventListener("touchstart",hc),document.body.addEventListener("touchmove",pc),t.addEventListener("touchend",mc)},WO=t=>{t.removeEventListener("mousedown",hc),document.body.removeEventListener("mousemove",pc),t.removeEventListener("mouseup",mc),t.removeEventListener("touchstart",hc),document.body.removeEventListener("touchmove",pc),t.removeEventListener("touchend",mc)},hc=t=>{const e=Pe();if(t.target===e||fo().contains(t.target)){pm=!0;const n=$1(t);D1=n.clientX,M1=n.clientY,F1=parseInt(e.style.insetInlineStart)||0,j1=parseInt(e.style.insetBlockStart)||0,xe(e,"swal2-dragging")}},pc=t=>{const e=Pe();if(pm){let{clientX:n,clientY:i}=$1(t);e.style.insetInlineStart=`${F1+(n-D1)}px`,e.style.insetBlockStart=`${j1+(i-M1)}px`}},mc=()=>{const t=Pe();pm=!1,wn(t,"swal2-dragging")},$1=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},qO=(t,e)=>{const n=Xt(),i=Pe();if(!(!n||!i)){if(e.toast){zi(n,"width",e.width),i.style.width="100%";const o=po();o&&i.insertBefore(o,fo())}else zi(i,"width",e.width);zi(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),Nt(Uc()),GO(i,e),e.draggable&&!e.toast?(xe(i,D.draggable),HO(i)):(wn(i,D.draggable),WO(i))}},GO=(t,e)=>{const n=e.showClass||{};t.className=`${D.popup} ${Gt(t)?n.popup:""}`,e.toast?(xe([document.documentElement,document.body],D["toast-shown"]),xe(t,D.toast)):xe(t,D.modal),on(t,e,"popup"),typeof e.customClass=="string"&&xe(t,e.customClass),e.icon&&xe(t,D[`icon-${e.icon}`])},KO=(t,e)=>{const n=om();if(!n)return;const{progressSteps:i,currentProgressStep:o}=e;if(!i||i.length===0||o===void 0){Nt(n);return}wt(n),n.textContent="",o>=i.length&&Qt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((a,u)=>{const d=YO(a);if(n.appendChild(d),u===o&&xe(d,D["active-progress-step"]),u!==i.length-1){const h=QO(e);n.appendChild(h)}})},YO=t=>{const e=document.createElement("li");return xe(e,D["progress-step"]),ln(e,t),e},QO=t=>{const e=document.createElement("li");return xe(e,D["progress-step-line"]),t.progressStepsDistance&&zi(e,"width",t.progressStepsDistance),e},XO=(t,e)=>{const n=k1();n&&(cm(n),tl(n,e.title||e.titleText,"block"),e.title&&fm(e.title,n),e.titleText&&(n.innerText=e.titleText),on(n,e,"title"))},U1=(t,e)=>{qO(t,e),TO(t,e),KO(t,e),jO(t,e),VO(t,e),XO(t,e),bO(t,e),MO(t,e),xO(t,e),FO(t,e);const n=Pe();typeof e.didRender=="function"&&n&&e.didRender(n),ae.eventEmitter.emit("didRender",n)},JO=()=>Gt(Pe()),B1=()=>{var t;return(t=Kn())===null||t===void 0?void 0:t.click()},ZO=()=>{var t;return(t=rs())===null||t===void 0?void 0:t.click()},eL=()=>{var t;return(t=ho())===null||t===void 0?void 0:t.click()},mo=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),z1=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},tL=(t,e,n)=>{z1(t),e.toast||(t.keydownHandler=i=>rL(e,i,n),t.keydownTarget=e.keydownListenerCapture?window:Pe(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Kh=(t,e)=>{var n;const i=lm();if(i.length){t=t+e,t===i.length?t=0:t===-1&&(t=i.length-1),i[t].focus();return}(n=Pe())===null||n===void 0||n.focus()},V1=["ArrowRight","ArrowDown"],nL=["ArrowLeft","ArrowUp"],rL=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?iL(e,t):e.key==="Tab"?sL(e):[...V1,...nL].includes(e.key)?oL(e.key):e.key==="Escape"&&aL(e,t,n)))},iL=(t,e)=>{if(!$c(e.allowEnterKey))return;const n=Vc(Pe(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;B1(),t.preventDefault()}},sL=t=>{const e=t.target,n=lm();let i=-1;for(let o=0;o<n.length;o++)if(e===n[o]){i=o;break}t.shiftKey?Kh(i,-1):Kh(i,1),t.stopPropagation(),t.preventDefault()},oL=t=>{const e=el(),n=Kn(),i=rs(),o=ho();if(!e||!n||!i||!o)return;const a=[n,i,o];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const u=V1.includes(t)?"nextElementSibling":"previousElementSibling";let d=document.activeElement;if(d){for(let h=0;h<e.children.length;h++){if(d=d[u],!d)return;if(d instanceof HTMLButtonElement&&Gt(d))break}d instanceof HTMLButtonElement&&d.focus()}},aL=(t,e,n)=>{$c(e.allowEscapeKey)&&(t.preventDefault(),n(mo.esc))};var Js={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const lL=()=>{const t=Xt();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},H1=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},W1=typeof window<"u"&&!!window.GestureEvent,uL=()=>{if(W1&&!vr(document.body,D.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,xe(document.body,D.iosfix),cL()}},cL=()=>{const t=Xt();if(!t)return;let e;t.ontouchstart=n=>{e=dL(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},dL=t=>{const e=t.target,n=Xt(),i=sm();return!n||!i||fL(t)||hL(t)?!1:e===n||!Ww(n)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(Ww(i)&&i.contains(e))},fL=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",hL=t=>t.touches&&t.touches.length>1,pL=()=>{if(vr(document.body,D.iosfix)){const t=parseInt(document.body.style.top,10);wn(document.body,D.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},mL=()=>{const t=document.createElement("div");t.className=D["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Hs=null;const gL=t=>{Hs===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Hs=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Hs+mL()}px`)},vL=()=>{Hs!==null&&(document.body.style.paddingRight=`${Hs}px`,Hs=null)};function q1(t,e,n,i){zc()?Yw(t,i):(tO(n).then(()=>Yw(t,i)),z1(ae)),W1?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),um()&&(vL(),pL(),H1()),yL()}function yL(){wn([document.documentElement,document.body],[D.shown,D["height-auto"],D["no-backdrop"],D["toast-shown"]])}function ti(t){t=_L(t);const e=Js.swalPromiseResolve.get(this),n=wL(this);this.isAwaitingPromise?t.isDismissed||(rl(this),e(t)):n&&e(t)}const wL=t=>{const e=Pe();if(!e)return!1;const n=ze.innerParams.get(t);if(!n||vr(e,n.hideClass.popup))return!1;wn(e,n.showClass.popup),xe(e,n.hideClass.popup);const i=Xt();return wn(i,n.showClass.backdrop),xe(i,n.hideClass.backdrop),EL(t,e,n),!0};function G1(t){const e=Js.swalPromiseReject.get(this);rl(this),e&&e(t)}const rl=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,ze.innerParams.get(t)||t._destroy())},_L=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),EL=(t,e,n)=>{var i;const o=Xt(),a=O1(e);typeof n.willClose=="function"&&n.willClose(e),(i=ae.eventEmitter)===null||i===void 0||i.emit("willClose",e),a?xL(t,e,o,n.returnFocus,n.didClose):q1(t,o,n.returnFocus,n.didClose)},xL=(t,e,n,i,o)=>{ae.swalCloseEventFinishedCallback=q1.bind(null,t,n,i,o);const a=function(u){if(u.target===e){var d;(d=ae.swalCloseEventFinishedCallback)===null||d===void 0||d.call(ae),delete ae.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},Yw=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ae.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Zs=t=>{let e=Pe();if(e||new _n,e=Pe(),!e)return;const n=po();zc()?Nt(fo()):SL(e,t),wt(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},SL=(t,e)=>{const n=el(),i=po();!n||!i||(!e&&Gt(Kn())&&(e=Kn()),wt(n),e&&(Nt(e),i.setAttribute("data-button-to-replace",e.className),n.insertBefore(i,e)),xe([t,n],D.loading))},CL=(t,e)=>{e.input==="select"||e.input==="radio"?PL(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(rm(e.inputValue)||im(e.inputValue))&&(Zs(Kn()),NL(t,e))},bL=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return TL(n);case"radio":return IL(n);case"file":return kL(n);default:return e.inputAutoTrim?n.value.trim():n.value}},TL=t=>t.checked?1:0,IL=t=>t.checked?t.value:null,kL=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,PL=(t,e)=>{const n=Pe();if(!n)return;const i=o=>{e.input==="select"?RL(n,gc(o),e):e.input==="radio"&&AL(n,gc(o),e)};rm(e.inputOptions)||im(e.inputOptions)?(Zs(Kn()),Ja(e.inputOptions).then(o=>{t.hideLoading(),i(o)})):typeof e.inputOptions=="object"?i(e.inputOptions):ns(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},NL=(t,e)=>{const n=t.getInput();n&&(Nt(n),Ja(e.inputValue).then(i=>{n.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,wt(n),n.focus(),t.hideLoading()}).catch(i=>{ns(`Error in inputValue promise: ${i}`),n.value="",wt(n),n.focus(),t.hideLoading()}))};function RL(t,e,n){const i=ei(t,D.select);if(!i)return;const o=(a,u,d)=>{const h=document.createElement("option");h.value=d,ln(h,u),h.selected=K1(d,n.inputValue),a.appendChild(h)};e.forEach(a=>{const u=a[0],d=a[1];if(Array.isArray(d)){const h=document.createElement("optgroup");h.label=u,h.disabled=!1,i.appendChild(h),d.forEach(m=>o(h,m[1],m[0]))}else o(i,d,u)}),i.focus()}function AL(t,e,n){const i=ei(t,D.radio);if(!i)return;e.forEach(a=>{const u=a[0],d=a[1],h=document.createElement("input"),m=document.createElement("label");h.type="radio",h.name=D.radio,h.value=u,K1(u,n.inputValue)&&(h.checked=!0);const y=document.createElement("span");ln(y,d),y.className=D.label,m.appendChild(h),m.appendChild(y),i.appendChild(m)});const o=i.querySelectorAll("input");o.length&&o[0].focus()}const gc=t=>{const e=[];return t instanceof Map?t.forEach((n,i)=>{let o=n;typeof o=="object"&&(o=gc(o)),e.push([i,o])}):Object.keys(t).forEach(n=>{let i=t[n];typeof i=="object"&&(i=gc(i)),e.push([n,i])}),e},K1=(t,e)=>!!e&&e.toString()===t.toString(),OL=t=>{const e=ze.innerParams.get(t);t.disableButtons(),e.input?Y1(t,"confirm"):gm(t,!0)},LL=t=>{const e=ze.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?Y1(t,"deny"):mm(t,!1)},DL=(t,e)=>{t.disableButtons(),e(mo.cancel)},Y1=(t,e)=>{const n=ze.innerParams.get(t);if(!n.input){ns(`The "input" parameter is needed to be set when using returnInputValueOn${nm(e)}`);return}const i=t.getInput(),o=bL(t,n);n.inputValidator?ML(t,o,e):i&&!i.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||i.validationMessage)):e==="deny"?mm(t,o):gm(t,o)},ML=(t,e,n)=>{const i=ze.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Ja(i.inputValidator(e,i.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?mm(t,e):gm(t,e)})},mm=(t,e)=>{const n=ze.innerParams.get(t||void 0);n.showLoaderOnDeny&&Zs(rs()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Ja(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),rl(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>Q1(t||void 0,o))):t.close({isDenied:!0,value:e})},Qw=(t,e)=>{t.close({isConfirmed:!0,value:e})},Q1=(t,e)=>{t.rejectPromise(e)},gm=(t,e)=>{const n=ze.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Zs(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Ja(n.preConfirm(e,n.validationMessage))).then(o=>{Gt(Uc())||o===!1?(t.hideLoading(),rl(t)):Qw(t,typeof o>"u"?e:o)}).catch(o=>Q1(t||void 0,o))):Qw(t,e)};function vc(){const t=ze.innerParams.get(this);if(!t)return;const e=ze.domCache.get(this);Nt(e.loader),zc()?t.icon&&wt(fo()):FL(e),wn([e.popup,e.actions],D.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const FL=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?wt(e[0],"inline-block"):cO()&&Nt(t.actions)};function X1(){const t=ze.innerParams.get(this),e=ze.domCache.get(this);return e?Vc(e.popup,t.input):null}function J1(t,e,n){const i=ze.domCache.get(t);e.forEach(o=>{i[o].disabled=n})}function Z1(t,e){const n=Pe();if(!(!n||!t))if(t.type==="radio"){const i=n.querySelectorAll(`[name="${D.radio}"]`);for(let o=0;o<i.length;o++)i[o].disabled=e}else t.disabled=e}function ex(){J1(this,["confirmButton","denyButton","cancelButton"],!1)}function tx(){J1(this,["confirmButton","denyButton","cancelButton"],!0)}function nx(){Z1(this.getInput(),!1)}function rx(){Z1(this.getInput(),!0)}function ix(t){const e=ze.domCache.get(this),n=ze.innerParams.get(this);ln(e.validationMessage,t),e.validationMessage.className=D["validation-message"],n.customClass&&n.customClass.validationMessage&&xe(e.validationMessage,n.customClass.validationMessage),wt(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",D["validation-message"]),R1(i),xe(i,D.inputerror))}function sx(){const t=ze.domCache.get(this);t.validationMessage&&Nt(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),wn(e,D.inputerror))}const Ws={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},jL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],$L={allowEnterKey:void 0},UL=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ox=t=>Object.prototype.hasOwnProperty.call(Ws,t),ax=t=>jL.indexOf(t)!==-1,lx=t=>$L[t],BL=t=>{ox(t)||Qt(`Unknown parameter "${t}"`)},zL=t=>{UL.includes(t)&&Qt(`The parameter "${t}" is incompatible with toasts`)},VL=t=>{const e=lx(t);e&&I1(t,e)},HL=t=>{t.backdrop===!1&&t.allowOutsideClick&&Qt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in t)BL(e),t.toast&&zL(e),VL(e)};function ux(t){const e=Pe(),n=ze.innerParams.get(this);if(!e||vr(e,n.hideClass.popup)){Qt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=WL(t),o=Object.assign({},n,i);U1(this,o),ze.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const WL=t=>{const e={};return Object.keys(t).forEach(n=>{ax(n)?e[n]=t[n]:Qt(`Invalid parameter to update: ${n}`)}),e};function cx(){const t=ze.domCache.get(this),e=ze.innerParams.get(this);if(!e){dx(this);return}t.popup&&ae.swalCloseEventFinishedCallback&&(ae.swalCloseEventFinishedCallback(),delete ae.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ae.eventEmitter.emit("didDestroy"),qL(this)}const qL=t=>{dx(t),delete t.params,delete ae.keydownHandler,delete ae.keydownTarget,delete ae.currentInstance},dx=t=>{t.isAwaitingPromise?(ph(ze,t),t.isAwaitingPromise=!0):(ph(Js,t),ph(ze,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},ph=(t,e)=>{for(const n in t)t[n].delete(e)};var GL=Object.freeze({__proto__:null,_destroy:cx,close:ti,closeModal:ti,closePopup:ti,closeToast:ti,disableButtons:tx,disableInput:rx,disableLoading:vc,enableButtons:ex,enableInput:nx,getInput:X1,handleAwaitingPromise:rl,hideLoading:vc,rejectPromise:G1,resetValidationMessage:sx,showValidationMessage:ix,update:ux});const KL=(t,e,n)=>{t.toast?YL(t,e,n):(XL(e),JL(e),ZL(t,e,n))},YL=(t,e,n)=>{e.popup.onclick=()=>{t&&(QL(t)||t.timer||t.input)||n(mo.close)}},QL=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let yc=!1;const XL=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(yc=!0)}}},JL=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(yc=!0)}}},ZL=(t,e,n)=>{e.container.onclick=i=>{if(yc){yc=!1;return}i.target===e.container&&$c(t.allowOutsideClick)&&n(mo.backdrop)}},eD=t=>typeof t=="object"&&t.jquery,Xw=t=>t instanceof Element||eD(t),tD=t=>{const e={};return typeof t[0]=="object"&&!Xw(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,i)=>{const o=t[i];typeof o=="string"||Xw(o)?e[n]=o:o!==void 0&&ns(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function nD(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)}function rD(t){class e extends this{_main(i,o){return super._main(i,Object.assign({},t,o))}}return e}const iD=()=>ae.timeout&&ae.timeout.getTimerLeft(),fx=()=>{if(ae.timeout)return dO(),ae.timeout.stop()},hx=()=>{if(ae.timeout){const t=ae.timeout.start();return dm(t),t}},sD=()=>{const t=ae.timeout;return t&&(t.running?fx():hx())},oD=t=>{if(ae.timeout){const e=ae.timeout.increase(t);return dm(e,!0),e}},aD=()=>!!(ae.timeout&&ae.timeout.isRunning());let Jw=!1;const Yh={};function lD(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Yh[t]=this,Jw||(document.body.addEventListener("click",uD),Jw=!0)}const uD=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Yh){const i=e.getAttribute(n);if(i){Yh[n].fire({template:i});return}}};class cD{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const i=this._getHandlersByEventName(e);i.includes(n)||i.push(n)}once(e,n){var i=this;const o=function(){i.removeListener(e,o);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];n.apply(i,u)};this.on(e,o)}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];this._getHandlersByEventName(e).forEach(a=>{try{a.apply(this,i)}catch(u){console.error(u)}})}removeListener(e,n){const i=this._getHandlersByEventName(e),o=i.indexOf(n);o>-1&&i.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ae.eventEmitter=new cD;const dD=(t,e)=>{ae.eventEmitter.on(t,e)},fD=(t,e)=>{ae.eventEmitter.once(t,e)},hD=(t,e)=>{if(!t){ae.eventEmitter.reset();return}e?ae.eventEmitter.removeListener(t,e):ae.eventEmitter.removeAllListeners(t)};var pD=Object.freeze({__proto__:null,argsToParams:tD,bindClickHandler:lD,clickCancel:eL,clickConfirm:B1,clickDeny:ZO,enableLoading:Zs,fire:nD,getActions:el,getCancelButton:ho,getCloseButton:am,getConfirmButton:Kn,getContainer:Xt,getDenyButton:rs,getFocusableElements:lm,getFooter:N1,getHtmlContainer:sm,getIcon:fo,getIconContent:sO,getImage:P1,getInputLabel:oO,getLoader:po,getPopup:Pe,getProgressSteps:om,getTimerLeft:iD,getTimerProgressBar:Bc,getTitle:k1,getValidationMessage:Uc,increaseTimer:oD,isDeprecatedParameter:lx,isLoading:lO,isTimerRunning:aD,isUpdatableParameter:ax,isValidParameter:ox,isVisible:JO,mixin:rD,off:hD,on:dD,once:fD,resumeTimer:hx,showLoading:Zs,stopTimer:fx,toggleTimer:sD});class mD{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const px=["swal-title","swal-html","swal-footer"],gD=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return CD(n),Object.assign(vD(n),yD(n),wD(n),_D(n),ED(n),xD(n),SD(n,px))},vD=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(i=>{Xi(i,["name","value"]);const o=i.getAttribute("name"),a=i.getAttribute("value");!o||!a||(typeof Ws[o]=="boolean"?e[o]=a!=="false":typeof Ws[o]=="object"?e[o]=JSON.parse(a):e[o]=a)}),e},yD=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(i=>{const o=i.getAttribute("name"),a=i.getAttribute("value");!o||!a||(e[o]=new Function(`return ${a}`)())}),e},wD=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(i=>{Xi(i,["type","color","aria-label"]);const o=i.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=i.innerHTML,e[`show${nm(o)}Button`]=!0,i.hasAttribute("color")&&(e[`${o}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},_D=t=>{const e={},n=t.querySelector("swal-image");return n&&(Xi(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},ED=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Xi(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},xD=t=>{const e={},n=t.querySelector("swal-input");n&&(Xi(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=Array.from(t.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(o=>{Xi(o,["value"]);const a=o.getAttribute("value");if(!a)return;const u=o.innerHTML;e.inputOptions[a]=u})),e},SD=(t,e)=>{const n={};for(const i in e){const o=e[i],a=t.querySelector(o);a&&(Xi(a,[]),n[o.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},CD=t=>{const e=px.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const i=n.tagName.toLowerCase();e.includes(i)||Qt(`Unrecognized element <${i}>`)})},Xi=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Qt([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},mx=10,bD=t=>{const e=Xt(),n=Pe();typeof t.willOpen=="function"&&t.willOpen(n),ae.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;kD(e,n,t),setTimeout(()=>{TD(e,n)},mx),um()&&(ID(e,t.scrollbarPadding,o),lL()),!zc()&&!ae.previousActiveElement&&(ae.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),ae.eventEmitter.emit("didOpen",n),wn(e,D["no-transition"])},wc=t=>{const e=Pe();if(t.target!==e)return;const n=Xt();e.removeEventListener("animationend",wc),e.removeEventListener("transitionend",wc),n.style.overflowY="auto"},TD=(t,e)=>{O1(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",wc),e.addEventListener("transitionend",wc)):t.style.overflowY="auto"},ID=(t,e,n)=>{uL(),e&&n!=="hidden"&&gL(n),setTimeout(()=>{t.scrollTop=0})},kD=(t,e,n)=>{xe(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),wt(e,"grid"),setTimeout(()=>{xe(e,n.showClass.popup),e.style.removeProperty("opacity")},mx)):wt(e,"grid"),xe([document.documentElement,document.body],D.shown),n.heightAuto&&n.backdrop&&!n.toast&&xe([document.documentElement,document.body],D["height-auto"])};var Zw={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function PD(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=Zw.email),t.input==="url"&&(t.inputValidator=Zw.url))}function ND(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Qt('Target parameter is not valid, defaulting to "body"'),t.target="body")}function RD(t){PD(t),t.showLoaderOnConfirm&&!t.preConfirm&&Qt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),ND(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),wO(t)}let Un;var Cu=new WeakMap;class st{constructor(){if(XA(this,Cu,void 0),typeof window>"u")return;Un=this;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];const o=Object.freeze(this.constructor.argsToParams(n));this.params=o,this.isAwaitingPromise=!1,JA(Cu,this,this._main(Un.params))}_main(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(HL(Object.assign({},n,e)),ae.currentInstance){const a=Js.swalPromiseResolve.get(ae.currentInstance),{isAwaitingPromise:u}=ae.currentInstance;ae.currentInstance._destroy(),u||a({isDismissed:!0}),um()&&H1()}ae.currentInstance=Un;const i=OD(e,n);RD(i),Object.freeze(i),ae.timeout&&(ae.timeout.stop(),delete ae.timeout),clearTimeout(ae.restoreFocusTimeout);const o=LD(Un);return U1(Un,i),ze.innerParams.set(Un,i),AD(Un,o,i)}then(e){return zw(Cu,this).then(e)}finally(e){return zw(Cu,this).finally(e)}}const AD=(t,e,n)=>new Promise((i,o)=>{const a=u=>{t.close({isDismissed:!0,dismiss:u})};Js.swalPromiseResolve.set(t,i),Js.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{OL(t)},e.denyButton.onclick=()=>{LL(t)},e.cancelButton.onclick=()=>{DL(t,a)},e.closeButton.onclick=()=>{a(mo.close)},KL(n,e,a),tL(ae,n,a),CL(t,n),bD(n),DD(ae,n,a),MD(e,n),setTimeout(()=>{e.container.scrollTop=0})}),OD=(t,e)=>{const n=gD(t),i=Object.assign({},Ws,e,n,t);return i.showClass=Object.assign({},Ws.showClass,i.showClass),i.hideClass=Object.assign({},Ws.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},LD=t=>{const e={popup:Pe(),container:Xt(),actions:el(),confirmButton:Kn(),denyButton:rs(),cancelButton:ho(),loader:po(),closeButton:am(),validationMessage:Uc(),progressSteps:om()};return ze.domCache.set(t,e),e},DD=(t,e,n)=>{const i=Bc();Nt(i),e.timer&&(t.timeout=new mD(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(wt(i),on(i,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&dm(e.timer)})))},MD=(t,e)=>{if(!e.toast){if(!$c(e.allowEnterKey)){I1("allowEnterKey"),$D();return}FD(t)||jD(t,e)||Kh(-1,1)}},FD=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&Gt(n))return n.focus(),!0;return!1},jD=(t,e)=>e.focusDeny&&Gt(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Gt(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&Gt(t.confirmButton)?(t.confirmButton.focus(),!0):!1,$D=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}st.prototype.disableButtons=tx;st.prototype.enableButtons=ex;st.prototype.getInput=X1;st.prototype.disableInput=rx;st.prototype.enableInput=nx;st.prototype.hideLoading=vc;st.prototype.disableLoading=vc;st.prototype.showValidationMessage=ix;st.prototype.resetValidationMessage=sx;st.prototype.close=ti;st.prototype.closePopup=ti;st.prototype.closeModal=ti;st.prototype.closeToast=ti;st.prototype.rejectPromise=G1;st.prototype.update=ux;st.prototype._destroy=cx;Object.assign(st,pD);Object.keys(GL).forEach(t=>{st[t]=function(){return Un&&Un[t]?Un[t](...arguments):null}});st.DismissReason=mo;st.version="11.15.10";const _n=st;_n.default=_n;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const UD=()=>{const t=pi(),e=ja(),i=["/","/login","/register"].includes(t.pathname),[o,a]=b.useState(null),u=Qi();b.useEffect(()=>{const h=xR(u,m=>{a(m)});return()=>h()},[u]);const d=async()=>{try{await a1(u),a(null),e("/"),_n.fire({title:"Logout successful!",text:"You have been logged out.",icon:"success",confirmButtonText:"OK"})}catch(h){_n.fire({title:"Logout failed!",text:"Try again later.",icon:"error",confirmButtonText:"OK"}),console.error("Logout error:",h.message)}};return _.jsxs("header",{className:`flex justify-between items-center text-white px-3 lg:px-24 py-5 border-b border-gray-200 ${i?"fixed z-10 w-screen":"static bg-[--prime] "}`,children:[_.jsx("p",{className:"text-xl lg:text-2xl font-bold mr-4",children:"Nanny.Services"}),_.jsxs("nav",{className:"flex",children:[_.jsxs("ul",{className:"flex items-center mr-12 lg:mr-24 gap-5 lg:gap-10",children:[_.jsx("li",{children:_.jsx(kn,{to:"/",className:({isActive:h})=>`relative text-white text-lg font-medium ${h?"after:content-[''] after:absolute after:-bottom-3 after:left-1/2 after:-translate-x-1/2 after:w-2 after:h-2 after:bg-white after:rounded-full":""}`,children:"Home"})}),_.jsx("li",{children:_.jsx(kn,{to:"/nannies",className:({isActive:h})=>`relative text-white text-lg font-medium ${h?"after:content-[''] after:absolute after:-bottom-3 after:left-1/2 after:-translate-x-1/2 after:w-2 after:h-2 after:bg-white after:rounded-full":""}`,children:"Nannies"})}),o&&_.jsx("li",{children:_.jsx(kn,{to:"/favorites",className:({isActive:h})=>`relative text-white text-lg font-medium ${h?"after:content-[''] after:absolute after:-bottom-3 after:left-1/2 after:-translate-x-1/2 after:w-2 after:h-2 after:bg-white after:rounded-full":""}`,children:"Favorites"})})]}),_.jsx("div",{className:"flex gap-2",children:o?_.jsxs("div",{className:"flex",children:[_.jsxs("div",{className:"flex items-center mr-6",children:[_.jsx("div",{className:"flex items-center justify-center text-[--prime] bg-white w-10 h-10 rounded-xl mr-3",children:_.jsx(YA,{})}),_.jsx("span",{className:"font-bold mr-4",children:o.displayName&&o.displayName.length>12?`${o.displayName.slice(0,10)}...`:o.displayName})]}),_.jsx(qt,{text:"Logout",onClick:d})]}):_.jsxs(_.Fragment,{children:[_.jsx(kn,{to:"/login",children:_.jsx(qt,{className:"",text:"Log In",border:"true",backgroundColor:"transparent"})}),_.jsx(kn,{to:"/register",children:_.jsx(qt,{className:"",text:"Registration"})})]})})]})]})},BD=()=>{const[t,e]=b.useState(!1),n=ja(),i=Qi(),o=i.currentUser,a=async()=>{try{await a1(i),n("/"),_n.fire({icon:"success",title:"Logged out successfully!",showConfirmButton:!1,timer:1500})}catch(h){console.error("Logout error:",h.message),_n.fire({icon:"error",title:"Oops...",text:"Logout failed. Try again later."})}},u=()=>e(!t),d=()=>e(!1);return _.jsxs(_.Fragment,{children:[_.jsxs("header",{className:"flex h-16 bg-[--prime] text-white px-6 py-4 justify-between items-center",children:[_.jsx("p",{className:"text-xl font-bold",children:"Nanny.Services"}),_.jsx("button",{onClick:u,className:"text-xl",children:_.jsx(qA,{})})]}),t&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-40",onClick:d}),_.jsxs("nav",{className:"flex flex-col fixed top-0 left-0 w-full bg-[--prime] text-white px-6 py-4 z-50  ",children:[_.jsxs("div",{className:"flex justify-between  mb-6",children:[_.jsx("p",{className:"text-xl font-bold ",children:"Nanny.Services"}),_.jsx("button",{onClick:u,className:"text-xl",children:_.jsx(KA,{})})]}),_.jsxs("ul",{className:"flex flex-col gap-4",children:[_.jsx("li",{children:_.jsx(kn,{to:"/",className:({isActive:h})=>`text-lg ${h?"font-bold":"hover:underline"}`,onClick:d,children:"Home"})}),_.jsx("li",{children:_.jsx(kn,{to:"/nannies",className:({isActive:h})=>`text-lg ${h?"font-bold":"hover:underline"}`,onClick:d,children:"Nannies"})}),o&&_.jsx("li",{children:_.jsx(kn,{to:"/favorites",className:({isActive:h})=>`text-lg ${h?"font-bold":"hover:underline"}`,onClick:d,children:"Favorites"})})]}),_.jsx("div",{className:"mt-6",children:o?_.jsx(qt,{text:"Logout",onClick:()=>{a(),d()},className:"w-full bg-red-500  py-2 rounded-lg"}):_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsx(kn,{to:"/login",className:"text-center py-2 border rounded-lg",onClick:d,children:"Log In"}),_.jsx(kn,{to:"/register",className:"text-center py-2 bg-white text-[--prime] rounded-lg",onClick:d,children:"Registration"})]})})]})]})]})},il=()=>{const[t,e]=b.useState(window.innerWidth<768);return b.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t?_.jsx(BD,{}):_.jsx(UD,{})},zD=()=>_.jsxs(_.Fragment,{children:[_.jsx(il,{}),_.jsxs("section",{className:"flex flex-col md:flex-row text-white h-[calc(100vh-4rem)] md:h-screen",children:[_.jsxs("div",{className:"flex flex-col flex-1 justify-center px-5 md:pl-7 bg-[--prime] xl:pl-24 xl:pr-16",children:[_.jsx("h1",{className:"text-4xl font-medium pb-3 md:pb-7 md:text-5xl xl:text-7xl",children:"Make Life Easier for the Family:"}),_.jsx("p",{className:"text-xl pb-8 md:pb-16 md:text-2xl",children:"Find Babysitters Online for All Occasions"}),_.jsx(Ua,{to:"/nannies",className:"w-max",children:_.jsx(qt,{text:"Get Started",border:"true",icon:_.jsx(tm,{})})})]}),_.jsx("div",{className:" relative flex-1 home-bg-img ",children:_.jsxs("div",{className:"absolute flex justify-center items-center bg-white h-16 w-48 bottom-12 right-12 rounded-2xl md:h-24 md:w-64",children:[_.jsx("div",{className:"flex w-9 h-9 mr-4 justify-center items-center rounded-xl bg-[--prime] md:w-12 md:h-12",children:_.jsx(GA,{})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs mb-[6px] text-gray-500 md:text-base",children:"Experienced nannies"}),_.jsx("p",{className:"text-lg font-bold text-black md:text-2xl",children:"15,000"})]})]})})]})]});var VD="firebase",HD="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(VD,HD,"app");const WD={apiKey:"AIzaSyBfzKnwI4nZkQOQgfJNeu6EYJdPC4_NsKc",authDomain:"nannies-app1.firebaseapp.com",databaseURL:"https://nannies-app1-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nannies-app1",storageBucket:"nannies-app1.appspot.com",messagingSenderId:"683140715253",appId:"1:683140715253:web:b1083dff390c0e13c32bbc"},gx=p0(WD),vx=Qi(gx),qD=Au(gx),GD=async()=>{const t=Ru(qD);try{const e=await DE(rc(t,"nannies"));return e.exists()?e.val():(console.log("No data available"),[])}catch(e){return console.error("Error fetching nannies:",e),[]}};var KD=function(e){return YD(e)&&!QD(e)};function YD(t){return!!t&&typeof t=="object"}function QD(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||ZD(t)}var XD=typeof Symbol=="function"&&Symbol.for,JD=XD?Symbol.for("react.element"):60103;function ZD(t){return t.$$typeof===JD}function eM(t){return Array.isArray(t)?[]:{}}function _c(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Oa(eM(t),t,e):t}function tM(t,e,n){return t.concat(e).map(function(i){return _c(i,n)})}function nM(t,e,n){var i={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(o){i[o]=_c(t[o],n)}),Object.keys(e).forEach(function(o){!n.isMergeableObject(e[o])||!t[o]?i[o]=_c(e[o],n):i[o]=Oa(t[o],e[o],n)}),i}function Oa(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||tM,n.isMergeableObject=n.isMergeableObject||KD;var i=Array.isArray(e),o=Array.isArray(t),a=i===o;return a?i?n.arrayMerge(t,e,n):nM(t,e,n):_c(e,n)}Oa.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,o){return Oa(i,o,n)},{})};var Qh=Oa,yx=typeof global=="object"&&global&&global.Object===Object&&global,rM=typeof self=="object"&&self&&self.Object===Object&&self,Qn=yx||rM||Function("return this")(),hi=Qn.Symbol,wx=Object.prototype,iM=wx.hasOwnProperty,sM=wx.toString,ua=hi?hi.toStringTag:void 0;function oM(t){var e=iM.call(t,ua),n=t[ua];try{t[ua]=void 0;var i=!0}catch{}var o=sM.call(t);return i&&(e?t[ua]=n:delete t[ua]),o}var aM=Object.prototype,lM=aM.toString;function uM(t){return lM.call(t)}var cM="[object Null]",dM="[object Undefined]",e_=hi?hi.toStringTag:void 0;function is(t){return t==null?t===void 0?dM:cM:e_&&e_ in Object(t)?oM(t):uM(t)}function _x(t,e){return function(n){return t(e(n))}}var vm=_x(Object.getPrototypeOf,Object);function ss(t){return t!=null&&typeof t=="object"}var fM="[object Object]",hM=Function.prototype,pM=Object.prototype,Ex=hM.toString,mM=pM.hasOwnProperty,gM=Ex.call(Object);function t_(t){if(!ss(t)||is(t)!=fM)return!1;var e=vm(t);if(e===null)return!0;var n=mM.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Ex.call(n)==gM}function vM(){this.__data__=[],this.size=0}function xx(t,e){return t===e||t!==t&&e!==e}function Hc(t,e){for(var n=t.length;n--;)if(xx(t[n][0],e))return n;return-1}var yM=Array.prototype,wM=yM.splice;function _M(t){var e=this.__data__,n=Hc(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():wM.call(e,n,1),--this.size,!0}function EM(t){var e=this.__data__,n=Hc(e,t);return n<0?void 0:e[n][1]}function xM(t){return Hc(this.__data__,t)>-1}function SM(t,e){var n=this.__data__,i=Hc(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function br(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}br.prototype.clear=vM;br.prototype.delete=_M;br.prototype.get=EM;br.prototype.has=xM;br.prototype.set=SM;function CM(){this.__data__=new br,this.size=0}function bM(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function TM(t){return this.__data__.get(t)}function IM(t){return this.__data__.has(t)}function sl(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var kM="[object AsyncFunction]",PM="[object Function]",NM="[object GeneratorFunction]",RM="[object Proxy]";function Sx(t){if(!sl(t))return!1;var e=is(t);return e==PM||e==NM||e==kM||e==RM}var mh=Qn["__core-js_shared__"],n_=function(){var t=/[^.]+$/.exec(mh&&mh.keys&&mh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function AM(t){return!!n_&&n_ in t}var OM=Function.prototype,LM=OM.toString;function os(t){if(t!=null){try{return LM.call(t)}catch{}try{return t+""}catch{}}return""}var DM=/[\\^$.*+?()[\]{}|]/g,MM=/^\[object .+?Constructor\]$/,FM=Function.prototype,jM=Object.prototype,$M=FM.toString,UM=jM.hasOwnProperty,BM=RegExp("^"+$M.call(UM).replace(DM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function zM(t){if(!sl(t)||AM(t))return!1;var e=Sx(t)?BM:MM;return e.test(os(t))}function VM(t,e){return t==null?void 0:t[e]}function as(t,e){var n=VM(t,e);return zM(n)?n:void 0}var La=as(Qn,"Map"),Da=as(Object,"create");function HM(){this.__data__=Da?Da(null):{},this.size=0}function WM(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var qM="__lodash_hash_undefined__",GM=Object.prototype,KM=GM.hasOwnProperty;function YM(t){var e=this.__data__;if(Da){var n=e[t];return n===qM?void 0:n}return KM.call(e,t)?e[t]:void 0}var QM=Object.prototype,XM=QM.hasOwnProperty;function JM(t){var e=this.__data__;return Da?e[t]!==void 0:XM.call(e,t)}var ZM="__lodash_hash_undefined__";function eF(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Da&&e===void 0?ZM:e,this}function Ji(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ji.prototype.clear=HM;Ji.prototype.delete=WM;Ji.prototype.get=YM;Ji.prototype.has=JM;Ji.prototype.set=eF;function tF(){this.size=0,this.__data__={hash:new Ji,map:new(La||br),string:new Ji}}function nF(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Wc(t,e){var n=t.__data__;return nF(e)?n[typeof e=="string"?"string":"hash"]:n.map}function rF(t){var e=Wc(this,t).delete(t);return this.size-=e?1:0,e}function iF(t){return Wc(this,t).get(t)}function sF(t){return Wc(this,t).has(t)}function oF(t,e){var n=Wc(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function vi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}vi.prototype.clear=tF;vi.prototype.delete=rF;vi.prototype.get=iF;vi.prototype.has=sF;vi.prototype.set=oF;var aF=200;function lF(t,e){var n=this.__data__;if(n instanceof br){var i=n.__data__;if(!La||i.length<aF-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new vi(i)}return n.set(t,e),this.size=n.size,this}function go(t){var e=this.__data__=new br(t);this.size=e.size}go.prototype.clear=CM;go.prototype.delete=bM;go.prototype.get=TM;go.prototype.has=IM;go.prototype.set=lF;function uF(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}var r_=function(){try{var t=as(Object,"defineProperty");return t({},"",{}),t}catch{}}();function Cx(t,e,n){e=="__proto__"&&r_?r_(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var cF=Object.prototype,dF=cF.hasOwnProperty;function bx(t,e,n){var i=t[e];(!(dF.call(t,e)&&xx(i,n))||n===void 0&&!(e in t))&&Cx(t,e,n)}function qc(t,e,n,i){var o=!n;n||(n={});for(var a=-1,u=e.length;++a<u;){var d=e[a],h=void 0;h===void 0&&(h=t[d]),o?Cx(n,d,h):bx(n,d,h)}return n}function fF(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var hF="[object Arguments]";function i_(t){return ss(t)&&is(t)==hF}var Tx=Object.prototype,pF=Tx.hasOwnProperty,mF=Tx.propertyIsEnumerable,gF=i_(function(){return arguments}())?i_:function(t){return ss(t)&&pF.call(t,"callee")&&!mF.call(t,"callee")},ol=Array.isArray;function vF(){return!1}var Ix=typeof rn=="object"&&rn&&!rn.nodeType&&rn,s_=Ix&&typeof sn=="object"&&sn&&!sn.nodeType&&sn,yF=s_&&s_.exports===Ix,o_=yF?Qn.Buffer:void 0,wF=o_?o_.isBuffer:void 0,kx=wF||vF,_F=9007199254740991,EF=/^(?:0|[1-9]\d*)$/;function xF(t,e){var n=typeof t;return e=e??_F,!!e&&(n=="number"||n!="symbol"&&EF.test(t))&&t>-1&&t%1==0&&t<e}var SF=9007199254740991;function Px(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=SF}var CF="[object Arguments]",bF="[object Array]",TF="[object Boolean]",IF="[object Date]",kF="[object Error]",PF="[object Function]",NF="[object Map]",RF="[object Number]",AF="[object Object]",OF="[object RegExp]",LF="[object Set]",DF="[object String]",MF="[object WeakMap]",FF="[object ArrayBuffer]",jF="[object DataView]",$F="[object Float32Array]",UF="[object Float64Array]",BF="[object Int8Array]",zF="[object Int16Array]",VF="[object Int32Array]",HF="[object Uint8Array]",WF="[object Uint8ClampedArray]",qF="[object Uint16Array]",GF="[object Uint32Array]",We={};We[$F]=We[UF]=We[BF]=We[zF]=We[VF]=We[HF]=We[WF]=We[qF]=We[GF]=!0;We[CF]=We[bF]=We[FF]=We[TF]=We[jF]=We[IF]=We[kF]=We[PF]=We[NF]=We[RF]=We[AF]=We[OF]=We[LF]=We[DF]=We[MF]=!1;function KF(t){return ss(t)&&Px(t.length)&&!!We[is(t)]}function ym(t){return function(e){return t(e)}}var Nx=typeof rn=="object"&&rn&&!rn.nodeType&&rn,wa=Nx&&typeof sn=="object"&&sn&&!sn.nodeType&&sn,YF=wa&&wa.exports===Nx,gh=YF&&yx.process,eo=function(){try{var t=wa&&wa.require&&wa.require("util").types;return t||gh&&gh.binding&&gh.binding("util")}catch{}}(),a_=eo&&eo.isTypedArray,QF=a_?ym(a_):KF,XF=Object.prototype,JF=XF.hasOwnProperty;function Rx(t,e){var n=ol(t),i=!n&&gF(t),o=!n&&!i&&kx(t),a=!n&&!i&&!o&&QF(t),u=n||i||o||a,d=u?fF(t.length,String):[],h=d.length;for(var m in t)(e||JF.call(t,m))&&!(u&&(m=="length"||o&&(m=="offset"||m=="parent")||a&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||xF(m,h)))&&d.push(m);return d}var ZF=Object.prototype;function wm(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ZF;return t===n}var e3=_x(Object.keys,Object),t3=Object.prototype,n3=t3.hasOwnProperty;function r3(t){if(!wm(t))return e3(t);var e=[];for(var n in Object(t))n3.call(t,n)&&n!="constructor"&&e.push(n);return e}function Ax(t){return t!=null&&Px(t.length)&&!Sx(t)}function _m(t){return Ax(t)?Rx(t):r3(t)}function i3(t,e){return t&&qc(e,_m(e),t)}function s3(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var o3=Object.prototype,a3=o3.hasOwnProperty;function l3(t){if(!sl(t))return s3(t);var e=wm(t),n=[];for(var i in t)i=="constructor"&&(e||!a3.call(t,i))||n.push(i);return n}function Em(t){return Ax(t)?Rx(t,!0):l3(t)}function u3(t,e){return t&&qc(e,Em(e),t)}var Ox=typeof rn=="object"&&rn&&!rn.nodeType&&rn,l_=Ox&&typeof sn=="object"&&sn&&!sn.nodeType&&sn,c3=l_&&l_.exports===Ox,u_=c3?Qn.Buffer:void 0,c_=u_?u_.allocUnsafe:void 0;function d3(t,e){if(e)return t.slice();var n=t.length,i=c_?c_(n):new t.constructor(n);return t.copy(i),i}function Lx(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}function f3(t,e){for(var n=-1,i=t==null?0:t.length,o=0,a=[];++n<i;){var u=t[n];e(u,n,t)&&(a[o++]=u)}return a}function Dx(){return[]}var h3=Object.prototype,p3=h3.propertyIsEnumerable,d_=Object.getOwnPropertySymbols,xm=d_?function(t){return t==null?[]:(t=Object(t),f3(d_(t),function(e){return p3.call(t,e)}))}:Dx;function m3(t,e){return qc(t,xm(t),e)}function Mx(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}var g3=Object.getOwnPropertySymbols,Fx=g3?function(t){for(var e=[];t;)Mx(e,xm(t)),t=vm(t);return e}:Dx;function v3(t,e){return qc(t,Fx(t),e)}function jx(t,e,n){var i=e(t);return ol(t)?i:Mx(i,n(t))}function y3(t){return jx(t,_m,xm)}function w3(t){return jx(t,Em,Fx)}var Xh=as(Qn,"DataView"),Jh=as(Qn,"Promise"),Zh=as(Qn,"Set"),ep=as(Qn,"WeakMap"),f_="[object Map]",_3="[object Object]",h_="[object Promise]",p_="[object Set]",m_="[object WeakMap]",g_="[object DataView]",E3=os(Xh),x3=os(La),S3=os(Jh),C3=os(Zh),b3=os(ep),lr=is;(Xh&&lr(new Xh(new ArrayBuffer(1)))!=g_||La&&lr(new La)!=f_||Jh&&lr(Jh.resolve())!=h_||Zh&&lr(new Zh)!=p_||ep&&lr(new ep)!=m_)&&(lr=function(t){var e=is(t),n=e==_3?t.constructor:void 0,i=n?os(n):"";if(i)switch(i){case E3:return g_;case x3:return f_;case S3:return h_;case C3:return p_;case b3:return m_}return e});var T3=Object.prototype,I3=T3.hasOwnProperty;function k3(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&I3.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var v_=Qn.Uint8Array;function Sm(t){var e=new t.constructor(t.byteLength);return new v_(e).set(new v_(t)),e}function P3(t,e){var n=e?Sm(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var N3=/\w*$/;function R3(t){var e=new t.constructor(t.source,N3.exec(t));return e.lastIndex=t.lastIndex,e}var y_=hi?hi.prototype:void 0,w_=y_?y_.valueOf:void 0;function A3(t){return w_?Object(w_.call(t)):{}}function O3(t,e){var n=e?Sm(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var L3="[object Boolean]",D3="[object Date]",M3="[object Map]",F3="[object Number]",j3="[object RegExp]",$3="[object Set]",U3="[object String]",B3="[object Symbol]",z3="[object ArrayBuffer]",V3="[object DataView]",H3="[object Float32Array]",W3="[object Float64Array]",q3="[object Int8Array]",G3="[object Int16Array]",K3="[object Int32Array]",Y3="[object Uint8Array]",Q3="[object Uint8ClampedArray]",X3="[object Uint16Array]",J3="[object Uint32Array]";function Z3(t,e,n){var i=t.constructor;switch(e){case z3:return Sm(t);case L3:case D3:return new i(+t);case V3:return P3(t,n);case H3:case W3:case q3:case G3:case K3:case Y3:case Q3:case X3:case J3:return O3(t,n);case M3:return new i;case F3:case U3:return new i(t);case j3:return R3(t);case $3:return new i;case B3:return A3(t)}}var __=Object.create,ej=function(){function t(){}return function(e){if(!sl(e))return{};if(__)return __(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function tj(t){return typeof t.constructor=="function"&&!wm(t)?ej(vm(t)):{}}var nj="[object Map]";function rj(t){return ss(t)&&lr(t)==nj}var E_=eo&&eo.isMap,ij=E_?ym(E_):rj,sj="[object Set]";function oj(t){return ss(t)&&lr(t)==sj}var x_=eo&&eo.isSet,aj=x_?ym(x_):oj,lj=1,uj=2,cj=4,$x="[object Arguments]",dj="[object Array]",fj="[object Boolean]",hj="[object Date]",pj="[object Error]",Ux="[object Function]",mj="[object GeneratorFunction]",gj="[object Map]",vj="[object Number]",Bx="[object Object]",yj="[object RegExp]",wj="[object Set]",_j="[object String]",Ej="[object Symbol]",xj="[object WeakMap]",Sj="[object ArrayBuffer]",Cj="[object DataView]",bj="[object Float32Array]",Tj="[object Float64Array]",Ij="[object Int8Array]",kj="[object Int16Array]",Pj="[object Int32Array]",Nj="[object Uint8Array]",Rj="[object Uint8ClampedArray]",Aj="[object Uint16Array]",Oj="[object Uint32Array]",Ue={};Ue[$x]=Ue[dj]=Ue[Sj]=Ue[Cj]=Ue[fj]=Ue[hj]=Ue[bj]=Ue[Tj]=Ue[Ij]=Ue[kj]=Ue[Pj]=Ue[gj]=Ue[vj]=Ue[Bx]=Ue[yj]=Ue[wj]=Ue[_j]=Ue[Ej]=Ue[Nj]=Ue[Rj]=Ue[Aj]=Ue[Oj]=!0;Ue[pj]=Ue[Ux]=Ue[xj]=!1;function _a(t,e,n,i,o,a){var u,d=e&lj,h=e&uj,m=e&cj;if(u!==void 0)return u;if(!sl(t))return t;var y=ol(t);if(y){if(u=k3(t),!d)return Lx(t,u)}else{var w=lr(t),v=w==Ux||w==mj;if(kx(t))return d3(t,d);if(w==Bx||w==$x||v&&!o){if(u=h||v?{}:tj(t),!d)return h?v3(t,u3(u,t)):m3(t,i3(u,t))}else{if(!Ue[w])return o?t:{};u=Z3(t,w,d)}}a||(a=new go);var x=a.get(t);if(x)return x;a.set(t,u),aj(t)?t.forEach(function(R){u.add(_a(R,e,n,R,t,a))}):ij(t)&&t.forEach(function(R,I){u.set(I,_a(R,e,n,I,t,a))});var C=m?h?w3:y3:h?Em:_m,N=y?void 0:C(t);return uF(N||t,function(R,I){N&&(I=R,R=t[I]),bx(u,I,_a(R,e,n,I,t,a))}),u}var Lj=1,Dj=4;function fa(t){return _a(t,Lj|Dj)}var vh,S_;function Mj(){if(S_)return vh;S_=1;var t=Array.isArray,e=Object.keys,n=Object.prototype.hasOwnProperty,i=typeof Element<"u";function o(a,u){if(a===u)return!0;if(a&&u&&typeof a=="object"&&typeof u=="object"){var d=t(a),h=t(u),m,y,w;if(d&&h){if(y=a.length,y!=u.length)return!1;for(m=y;m--!==0;)if(!o(a[m],u[m]))return!1;return!0}if(d!=h)return!1;var v=a instanceof Date,x=u instanceof Date;if(v!=x)return!1;if(v&&x)return a.getTime()==u.getTime();var C=a instanceof RegExp,N=u instanceof RegExp;if(C!=N)return!1;if(C&&N)return a.toString()==u.toString();var R=e(a);if(y=R.length,y!==e(u).length)return!1;for(m=y;m--!==0;)if(!n.call(u,R[m]))return!1;if(i&&a instanceof Element&&u instanceof Element)return a===u;for(m=y;m--!==0;)if(w=R[m],!(w==="_owner"&&a.$$typeof)&&!o(a[w],u[w]))return!1;return!0}return a!==a&&u!==u}return vh=function(u,d){try{return o(u,d)}catch(h){if(h.message&&h.message.match(/stack|recursion/i)||h.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",h.name,h.message),!1;throw h}},vh}var Fj=Mj();const Yr=to(Fj);var jj=4;function C_(t){return _a(t,jj)}function zx(t,e){for(var n=-1,i=t==null?0:t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}var $j="[object Symbol]";function Cm(t){return typeof t=="symbol"||ss(t)&&is(t)==$j}var Uj="Expected a function";function bm(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Uj);var n=function(){var i=arguments,o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var u=t.apply(this,i);return n.cache=a.set(o,u)||a,u};return n.cache=new(bm.Cache||vi),n}bm.Cache=vi;var Bj=500;function zj(t){var e=bm(t,function(i){return n.size===Bj&&n.clear(),i}),n=e.cache;return e}var Vj=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Hj=/\\(\\)?/g,Wj=zj(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Vj,function(n,i,o,a){e.push(o?a.replace(Hj,"$1"):i||n)}),e}),qj=1/0;function Gj(t){if(typeof t=="string"||Cm(t))return t;var e=t+"";return e=="0"&&1/t==-qj?"-0":e}var Kj=1/0,b_=hi?hi.prototype:void 0,T_=b_?b_.toString:void 0;function Vx(t){if(typeof t=="string")return t;if(ol(t))return zx(t,Vx)+"";if(Cm(t))return T_?T_.call(t):"";var e=t+"";return e=="0"&&1/t==-Kj?"-0":e}function Yj(t){return t==null?"":Vx(t)}function Hx(t){return ol(t)?zx(t,Gj):Cm(t)?[t]:Lx(Wj(Yj(t)))}var yh={exports:{}},Re={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function Qj(){if(I_)return Re;I_=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,h=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,y=t?Symbol.for("react.forward_ref"):60112,w=t?Symbol.for("react.suspense"):60113,v=t?Symbol.for("react.suspense_list"):60120,x=t?Symbol.for("react.memo"):60115,C=t?Symbol.for("react.lazy"):60116,N=t?Symbol.for("react.block"):60121,R=t?Symbol.for("react.fundamental"):60117,I=t?Symbol.for("react.responder"):60118,M=t?Symbol.for("react.scope"):60119;function z(F){if(typeof F=="object"&&F!==null){var W=F.$$typeof;switch(W){case e:switch(F=F.type,F){case h:case m:case i:case a:case o:case w:return F;default:switch(F=F&&F.$$typeof,F){case d:case y:case C:case x:case u:return F;default:return W}}case n:return W}}}function Z(F){return z(F)===m}return Re.AsyncMode=h,Re.ConcurrentMode=m,Re.ContextConsumer=d,Re.ContextProvider=u,Re.Element=e,Re.ForwardRef=y,Re.Fragment=i,Re.Lazy=C,Re.Memo=x,Re.Portal=n,Re.Profiler=a,Re.StrictMode=o,Re.Suspense=w,Re.isAsyncMode=function(F){return Z(F)||z(F)===h},Re.isConcurrentMode=Z,Re.isContextConsumer=function(F){return z(F)===d},Re.isContextProvider=function(F){return z(F)===u},Re.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===e},Re.isForwardRef=function(F){return z(F)===y},Re.isFragment=function(F){return z(F)===i},Re.isLazy=function(F){return z(F)===C},Re.isMemo=function(F){return z(F)===x},Re.isPortal=function(F){return z(F)===n},Re.isProfiler=function(F){return z(F)===a},Re.isStrictMode=function(F){return z(F)===o},Re.isSuspense=function(F){return z(F)===w},Re.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===i||F===m||F===a||F===o||F===w||F===v||typeof F=="object"&&F!==null&&(F.$$typeof===C||F.$$typeof===x||F.$$typeof===u||F.$$typeof===d||F.$$typeof===y||F.$$typeof===R||F.$$typeof===I||F.$$typeof===M||F.$$typeof===N)},Re.typeOf=z,Re}var k_;function Xj(){return k_||(k_=1,yh.exports=Qj()),yh.exports}var wh,P_;function Jj(){if(P_)return wh;P_=1;var t=Xj(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=i,a[t.Memo]=o;function u(C){return t.isMemo(C)?o:a[C.$$typeof]||e}var d=Object.defineProperty,h=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,w=Object.getPrototypeOf,v=Object.prototype;function x(C,N,R){if(typeof N!="string"){if(v){var I=w(N);I&&I!==v&&x(C,I,R)}var M=h(N);m&&(M=M.concat(m(N)));for(var z=u(C),Z=u(N),F=0;F<M.length;++F){var W=M[F];if(!n[W]&&!(R&&R[W])&&!(Z&&Z[W])&&!(z&&z[W])){var Q=y(N,W);try{d(C,W,Q)}catch{}}}}return C}return wh=x,wh}var Zj=Jj();const e4=to(Zj);function Oe(){return Oe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Oe.apply(this,arguments)}function Wx(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function ni(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function N_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Gc=b.createContext(void 0);Gc.displayName="FormikContext";var t4=Gc.Provider,n4=Gc.Consumer;function qx(){var t=b.useContext(Gc);return t}var R_=function(e){return Array.isArray(e)&&e.length===0},xt=function(e){return typeof e=="function"},al=function(e){return e!==null&&typeof e=="object"},r4=function(e){return String(Math.floor(Number(e)))===e},_h=function(e){return Object.prototype.toString.call(e)==="[object String]"},Gx=function(e){return b.Children.count(e)===0},Eh=function(e){return al(e)&&xt(e.then)};function Ye(t,e,n,i){i===void 0&&(i=0);for(var o=Hx(e);t&&i<o.length;)t=t[o[i++]];return i!==o.length&&!t||t===void 0?n:t}function Wn(t,e,n){for(var i=C_(t),o=i,a=0,u=Hx(e);a<u.length-1;a++){var d=u[a],h=Ye(t,u.slice(0,a+1));if(h&&(al(h)||Array.isArray(h)))o=o[d]=C_(h);else{var m=u[a+1];o=o[d]=r4(m)&&Number(m)>=0?[]:{}}}return(a===0?t:o)[u[a]]===n?t:(n===void 0?delete o[u[a]]:o[u[a]]=n,a===0&&n===void 0&&delete i[u[a]],i)}function Kx(t,e,n,i){n===void 0&&(n=new WeakMap),i===void 0&&(i={});for(var o=0,a=Object.keys(t);o<a.length;o++){var u=a[o],d=t[u];al(d)?n.get(d)||(n.set(d,!0),i[u]=Array.isArray(d)?[]:{},Kx(d,e,n,i[u])):i[u]=e}return i}function i4(t,e){switch(e.type){case"SET_VALUES":return Oe({},t,{values:e.payload});case"SET_TOUCHED":return Oe({},t,{touched:e.payload});case"SET_ERRORS":return Yr(t.errors,e.payload)?t:Oe({},t,{errors:e.payload});case"SET_STATUS":return Oe({},t,{status:e.payload});case"SET_ISSUBMITTING":return Oe({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Oe({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Oe({},t,{values:Wn(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Oe({},t,{touched:Wn(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Oe({},t,{errors:Wn(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Oe({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Oe({},t,{touched:Kx(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Oe({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Oe({},t,{isSubmitting:!1});default:return t}}var Mi={},bu={};function s4(t){var e=t.validateOnChange,n=e===void 0?!0:e,i=t.validateOnBlur,o=i===void 0?!0:i,a=t.validateOnMount,u=a===void 0?!1:a,d=t.isInitialValid,h=t.enableReinitialize,m=h===void 0?!1:h,y=t.onSubmit,w=ni(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),v=Oe({validateOnChange:n,validateOnBlur:o,validateOnMount:u,onSubmit:y},w),x=b.useRef(v.initialValues),C=b.useRef(v.initialErrors||Mi),N=b.useRef(v.initialTouched||bu),R=b.useRef(v.initialStatus),I=b.useRef(!1),M=b.useRef({});b.useEffect(function(){return I.current=!0,function(){I.current=!1}},[]);var z=b.useState(0),Z=z[1],F=b.useRef({values:fa(v.initialValues),errors:fa(v.initialErrors)||Mi,touched:fa(v.initialTouched)||bu,status:fa(v.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),W=F.current,Q=b.useCallback(function(L){var K=F.current;F.current=i4(K,L),K!==F.current&&Z(function(te){return te+1})},[]),_e=b.useCallback(function(L,K){return new Promise(function(te,re){var he=v.validate(L,K);he==null?te(Mi):Eh(he)?he.then(function(Ce){te(Ce||Mi)},function(Ce){re(Ce)}):te(he)})},[v.validate]),pe=b.useCallback(function(L,K){var te=v.validationSchema,re=xt(te)?te(K):te,he=K&&re.validateAt?re.validateAt(K,L):a4(L,re);return new Promise(function(Ce,Qe){he.then(function(){Ce(Mi)},function(un){un.name==="ValidationError"?Ce(o4(un)):Qe(un)})})},[v.validationSchema]),je=b.useCallback(function(L,K){return new Promise(function(te){return te(M.current[L].validate(K))})},[]),Se=b.useCallback(function(L){var K=Object.keys(M.current).filter(function(re){return xt(M.current[re].validate)}),te=K.length>0?K.map(function(re){return je(re,Ye(L,re))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(te).then(function(re){return re.reduce(function(he,Ce,Qe){return Ce==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Ce&&(he=Wn(he,K[Qe],Ce)),he},{})})},[je]),ot=b.useCallback(function(L){return Promise.all([Se(L),v.validationSchema?pe(L):{},v.validate?_e(L):{}]).then(function(K){var te=K[0],re=K[1],he=K[2],Ce=Qh.all([te,re,he],{arrayMerge:l4});return Ce})},[v.validate,v.validationSchema,Se,_e,pe]),Le=gn(function(L){return L===void 0&&(L=W.values),Q({type:"SET_ISVALIDATING",payload:!0}),ot(L).then(function(K){return I.current&&(Q({type:"SET_ISVALIDATING",payload:!1}),Q({type:"SET_ERRORS",payload:K})),K})});b.useEffect(function(){u&&I.current===!0&&Yr(x.current,v.initialValues)&&Le(x.current)},[u,Le]);var at=b.useCallback(function(L){var K=L&&L.values?L.values:x.current,te=L&&L.errors?L.errors:C.current?C.current:v.initialErrors||{},re=L&&L.touched?L.touched:N.current?N.current:v.initialTouched||{},he=L&&L.status?L.status:R.current?R.current:v.initialStatus;x.current=K,C.current=te,N.current=re,R.current=he;var Ce=function(){Q({type:"RESET_FORM",payload:{isSubmitting:!!L&&!!L.isSubmitting,errors:te,touched:re,status:he,values:K,isValidating:!!L&&!!L.isValidating,submitCount:L&&L.submitCount&&typeof L.submitCount=="number"?L.submitCount:0}})};if(v.onReset){var Qe=v.onReset(W.values,yi);Eh(Qe)?Qe.then(Ce):Ce()}else Ce()},[v.initialErrors,v.initialStatus,v.initialTouched,v.onReset]);b.useEffect(function(){I.current===!0&&!Yr(x.current,v.initialValues)&&m&&(x.current=v.initialValues,at(),u&&Le(x.current))},[m,v.initialValues,at,u,Le]),b.useEffect(function(){m&&I.current===!0&&!Yr(C.current,v.initialErrors)&&(C.current=v.initialErrors||Mi,Q({type:"SET_ERRORS",payload:v.initialErrors||Mi}))},[m,v.initialErrors]),b.useEffect(function(){m&&I.current===!0&&!Yr(N.current,v.initialTouched)&&(N.current=v.initialTouched||bu,Q({type:"SET_TOUCHED",payload:v.initialTouched||bu}))},[m,v.initialTouched]),b.useEffect(function(){m&&I.current===!0&&!Yr(R.current,v.initialStatus)&&(R.current=v.initialStatus,Q({type:"SET_STATUS",payload:v.initialStatus}))},[m,v.initialStatus,v.initialTouched]);var Jt=gn(function(L){if(M.current[L]&&xt(M.current[L].validate)){var K=Ye(W.values,L),te=M.current[L].validate(K);return Eh(te)?(Q({type:"SET_ISVALIDATING",payload:!0}),te.then(function(re){return re}).then(function(re){Q({type:"SET_FIELD_ERROR",payload:{field:L,value:re}}),Q({type:"SET_ISVALIDATING",payload:!1})})):(Q({type:"SET_FIELD_ERROR",payload:{field:L,value:te}}),Promise.resolve(te))}else if(v.validationSchema)return Q({type:"SET_ISVALIDATING",payload:!0}),pe(W.values,L).then(function(re){return re}).then(function(re){Q({type:"SET_FIELD_ERROR",payload:{field:L,value:Ye(re,L)}}),Q({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),St=b.useCallback(function(L,K){var te=K.validate;M.current[L]={validate:te}},[]),Ge=b.useCallback(function(L){delete M.current[L]},[]),q=gn(function(L,K){Q({type:"SET_TOUCHED",payload:L});var te=K===void 0?o:K;return te?Le(W.values):Promise.resolve()}),ie=b.useCallback(function(L){Q({type:"SET_ERRORS",payload:L})},[]),Y=gn(function(L,K){var te=xt(L)?L(W.values):L;Q({type:"SET_VALUES",payload:te});var re=K===void 0?n:K;return re?Le(te):Promise.resolve()}),k=b.useCallback(function(L,K){Q({type:"SET_FIELD_ERROR",payload:{field:L,value:K}})},[]),j=gn(function(L,K,te){Q({type:"SET_FIELD_VALUE",payload:{field:L,value:K}});var re=te===void 0?n:te;return re?Le(Wn(W.values,L,K)):Promise.resolve()}),de=b.useCallback(function(L,K){var te=K,re=L,he;if(!_h(L)){L.persist&&L.persist();var Ce=L.target?L.target:L.currentTarget,Qe=Ce.type,un=Ce.name,Xn=Ce.id,Jn=Ce.value,Xc=Ce.checked,Jc=Ce.outerHTML,wo=Ce.options,Zc=Ce.multiple;te=K||un||Xn,re=/number|range/.test(Qe)?(he=parseFloat(Jn),isNaN(he)?"":he):/checkbox/.test(Qe)?c4(Ye(W.values,te),Xc,Jn):wo&&Zc?u4(wo):Jn}te&&j(te,re)},[j,W.values]),fe=gn(function(L){if(_h(L))return function(K){return de(K,L)};de(L)}),me=gn(function(L,K,te){K===void 0&&(K=!0),Q({type:"SET_FIELD_TOUCHED",payload:{field:L,value:K}});var re=te===void 0?o:te;return re?Le(W.values):Promise.resolve()}),Ee=b.useCallback(function(L,K){L.persist&&L.persist();var te=L.target,re=te.name,he=te.id,Ce=te.outerHTML,Qe=K||re||he;me(Qe,!0)},[me]),Ne=gn(function(L){if(_h(L))return function(K){return Ee(K,L)};Ee(L)}),Te=b.useCallback(function(L){xt(L)?Q({type:"SET_FORMIK_STATE",payload:L}):Q({type:"SET_FORMIK_STATE",payload:function(){return L}})},[]),Me=b.useCallback(function(L){Q({type:"SET_STATUS",payload:L})},[]),Ct=b.useCallback(function(L){Q({type:"SET_ISSUBMITTING",payload:L})},[]),Tr=gn(function(){return Q({type:"SUBMIT_ATTEMPT"}),Le().then(function(L){var K=L instanceof Error,te=!K&&Object.keys(L).length===0;if(te){var re;try{if(re=vo(),re===void 0)return}catch(he){throw he}return Promise.resolve(re).then(function(he){return I.current&&Q({type:"SUBMIT_SUCCESS"}),he}).catch(function(he){if(I.current)throw Q({type:"SUBMIT_FAILURE"}),he})}else if(I.current&&(Q({type:"SUBMIT_FAILURE"}),K))throw L})}),ll=gn(function(L){L&&L.preventDefault&&xt(L.preventDefault)&&L.preventDefault(),L&&L.stopPropagation&&xt(L.stopPropagation)&&L.stopPropagation(),Tr().catch(function(K){console.warn("Warning: An unhandled error was caught from submitForm()",K)})}),yi={resetForm:at,validateForm:Le,validateField:Jt,setErrors:ie,setFieldError:k,setFieldTouched:me,setFieldValue:j,setStatus:Me,setSubmitting:Ct,setTouched:q,setValues:Y,setFormikState:Te,submitForm:Tr},vo=gn(function(){return y(W.values,yi)}),ul=gn(function(L){L&&L.preventDefault&&xt(L.preventDefault)&&L.preventDefault(),L&&L.stopPropagation&&xt(L.stopPropagation)&&L.stopPropagation(),at()}),cl=b.useCallback(function(L){return{value:Ye(W.values,L),error:Ye(W.errors,L),touched:!!Ye(W.touched,L),initialValue:Ye(x.current,L),initialTouched:!!Ye(N.current,L),initialError:Ye(C.current,L)}},[W.errors,W.touched,W.values]),yo=b.useCallback(function(L){return{setValue:function(te,re){return j(L,te,re)},setTouched:function(te,re){return me(L,te,re)},setError:function(te){return k(L,te)}}},[j,me,k]),dl=b.useCallback(function(L){var K=al(L),te=K?L.name:L,re=Ye(W.values,te),he={name:te,value:re,onChange:fe,onBlur:Ne};if(K){var Ce=L.type,Qe=L.value,un=L.as,Xn=L.multiple;Ce==="checkbox"?Qe===void 0?he.checked=!!re:(he.checked=!!(Array.isArray(re)&&~re.indexOf(Qe)),he.value=Qe):Ce==="radio"?(he.checked=re===Qe,he.value=Qe):un==="select"&&Xn&&(he.value=he.value||[],he.multiple=!0)}return he},[Ne,fe,W.values]),wi=b.useMemo(function(){return!Yr(x.current,W.values)},[x.current,W.values]),_i=b.useMemo(function(){return typeof d<"u"?wi?W.errors&&Object.keys(W.errors).length===0:d!==!1&&xt(d)?d(v):d:W.errors&&Object.keys(W.errors).length===0},[d,wi,W.errors,v]),Ir=Oe({},W,{initialValues:x.current,initialErrors:C.current,initialTouched:N.current,initialStatus:R.current,handleBlur:Ne,handleChange:fe,handleReset:ul,handleSubmit:ll,resetForm:at,setErrors:ie,setFormikState:Te,setFieldTouched:me,setFieldValue:j,setFieldError:k,setStatus:Me,setSubmitting:Ct,setTouched:q,setValues:Y,submitForm:Tr,validateForm:Le,validateField:Jt,isValid:_i,dirty:wi,unregisterField:Ge,registerField:St,getFieldProps:dl,getFieldMeta:cl,getFieldHelpers:yo,validateOnBlur:o,validateOnChange:n,validateOnMount:u});return Ir}function Tm(t){var e=s4(t),n=t.component,i=t.children,o=t.render,a=t.innerRef;return b.useImperativeHandle(a,function(){return e}),b.createElement(t4,{value:e},n?b.createElement(n,e):o?o(e):i?xt(i)?i(e):Gx(i)?null:b.Children.only(i):null)}function o4(t){var e={};if(t.inner){if(t.inner.length===0)return Wn(e,t.path,t.message);for(var o=t.inner,n=Array.isArray(o),i=0,o=n?o:o[Symbol.iterator]();;){var a;if(n){if(i>=o.length)break;a=o[i++]}else{if(i=o.next(),i.done)break;a=i.value}var u=a;Ye(e,u.path)||(e=Wn(e,u.path,u.message))}}return e}function a4(t,e,n,i){n===void 0&&(n=!1);var o=tp(t);return e[n?"validateSync":"validate"](o,{abortEarly:!1,context:o})}function tp(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=String(n);Array.isArray(t[i])===!0?e[i]=t[i].map(function(o){return Array.isArray(o)===!0||t_(o)?tp(o):o!==""?o:void 0}):t_(t[i])?e[i]=tp(t[i]):e[i]=t[i]!==""?t[i]:void 0}return e}function l4(t,e,n){var i=t.slice();return e.forEach(function(a,u){if(typeof i[u]>"u"){var d=n.clone!==!1,h=d&&n.isMergeableObject(a);i[u]=h?Qh(Array.isArray(a)?[]:{},a,n):a}else n.isMergeableObject(a)?i[u]=Qh(t[u],a,n):t.indexOf(a)===-1&&i.push(a)}),i}function u4(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function c4(t,e,n){if(typeof t=="boolean")return!!e;var i=[],o=!1,a=-1;if(Array.isArray(t))i=t,a=t.indexOf(n),o=a>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!o?i.concat(n):o?i.slice(0,a).concat(i.slice(a+1)):i}var d4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect;function gn(t){var e=b.useRef(t);return d4(function(){e.current=t}),b.useCallback(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.current.apply(void 0,i)},[])}function vn(t){var e=t.validate,n=t.name,i=t.render,o=t.children,a=t.as,u=t.component,d=t.className,h=ni(t,["validate","name","render","children","as","component","className"]),m=qx(),y=ni(m,["validate","validationSchema"]),w=y.registerField,v=y.unregisterField;b.useEffect(function(){return w(n,{validate:e}),function(){v(n)}},[w,v,n,e]);var x=y.getFieldProps(Oe({name:n},h)),C=y.getFieldMeta(n),N={field:x,form:y};if(i)return i(Oe({},N,{meta:C}));if(xt(o))return o(Oe({},N,{meta:C}));if(u){if(typeof u=="string"){var R=h.innerRef,I=ni(h,["innerRef"]);return b.createElement(u,Oe({ref:R},x,I,{className:d}),o)}return b.createElement(u,Oe({field:x,form:y},h,{className:d}),o)}var M=a||"input";if(typeof M=="string"){var z=h.innerRef,Z=ni(h,["innerRef"]);return b.createElement(M,Oe({ref:z},x,Z,{className:d}),o)}return b.createElement(M,Oe({},x,h,{className:d}),o)}var Kc=b.forwardRef(function(t,e){var n=t.action,i=ni(t,["action"]),o=n??"#",a=qx(),u=a.handleReset,d=a.handleSubmit;return b.createElement("form",Oe({onSubmit:d,ref:e,onReset:u,action:o},i))});Kc.displayName="Form";function f4(t){var e=function(o){return b.createElement(n4,null,function(a){return b.createElement(t,Oe({},o,{formik:a}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",e4(e,t)}var h4=function(e,n,i){var o=Zi(e),a=o[n];return o.splice(n,1),o.splice(i,0,a),o},p4=function(e,n,i){var o=Zi(e),a=o[n];return o[n]=o[i],o[i]=a,o},xh=function(e,n,i){var o=Zi(e);return o.splice(n,0,i),o},m4=function(e,n,i){var o=Zi(e);return o[n]=i,o},Zi=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(i){return parseInt(i)}).reduce(function(i,o){return o>i?o:i},0);return Array.from(Oe({},e,{length:n+1}))}else return[]},A_=function(e,n){var i=typeof e=="function"?e:n;return function(o){if(Array.isArray(o)||al(o)){var a=Zi(o);return i(a)}return o}},g4=function(t){Wx(e,t);function e(i){var o;return o=t.call(this,i)||this,o.updateArrayField=function(a,u,d){var h=o.props,m=h.name,y=h.formik.setFormikState;y(function(w){var v=A_(d,a),x=A_(u,a),C=Wn(w.values,m,a(Ye(w.values,m))),N=d?v(Ye(w.errors,m)):void 0,R=u?x(Ye(w.touched,m)):void 0;return R_(N)&&(N=void 0),R_(R)&&(R=void 0),Oe({},w,{values:C,errors:d?Wn(w.errors,m,N):w.errors,touched:u?Wn(w.touched,m,R):w.touched})})},o.push=function(a){return o.updateArrayField(function(u){return[].concat(Zi(u),[fa(a)])},!1,!1)},o.handlePush=function(a){return function(){return o.push(a)}},o.swap=function(a,u){return o.updateArrayField(function(d){return p4(d,a,u)},!0,!0)},o.handleSwap=function(a,u){return function(){return o.swap(a,u)}},o.move=function(a,u){return o.updateArrayField(function(d){return h4(d,a,u)},!0,!0)},o.handleMove=function(a,u){return function(){return o.move(a,u)}},o.insert=function(a,u){return o.updateArrayField(function(d){return xh(d,a,u)},function(d){return xh(d,a,null)},function(d){return xh(d,a,null)})},o.handleInsert=function(a,u){return function(){return o.insert(a,u)}},o.replace=function(a,u){return o.updateArrayField(function(d){return m4(d,a,u)},!1,!1)},o.handleReplace=function(a,u){return function(){return o.replace(a,u)}},o.unshift=function(a){var u=-1;return o.updateArrayField(function(d){var h=d?[a].concat(d):[a];return u=h.length,h},function(d){return d?[null].concat(d):[null]},function(d){return d?[null].concat(d):[null]}),u},o.handleUnshift=function(a){return function(){return o.unshift(a)}},o.handleRemove=function(a){return function(){return o.remove(a)}},o.handlePop=function(){return function(){return o.pop()}},o.remove=o.remove.bind(N_(o)),o.pop=o.pop.bind(N_(o)),o}var n=e.prototype;return n.componentDidUpdate=function(o){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Yr(Ye(o.formik.values,o.name),Ye(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(o){var a;return this.updateArrayField(function(u){var d=u?Zi(u):[];return a||(a=d[o]),xt(d.splice)&&d.splice(o,1),xt(d.every)&&d.every(function(h){return h===void 0})?[]:d},!0,!0),a},n.pop=function(){var o;return this.updateArrayField(function(a){var u=a.slice();return o||(o=u&&u.pop&&u.pop()),u},!0,!0),o},n.render=function(){var o={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},a=this.props,u=a.component,d=a.render,h=a.children,m=a.name,y=a.formik,w=ni(y,["validate","validationSchema"]),v=Oe({},o,{form:w,name:m});return u?b.createElement(u,v):d?d(v):h?typeof h=="function"?h(v):Gx(h)?null:b.Children.only(h):null},e}(b.Component);g4.defaultProps={validateOnChange:!0};var v4=function(t){Wx(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(o){return Ye(this.props.formik.errors,this.props.name)!==Ye(o.formik.errors,this.props.name)||Ye(this.props.formik.touched,this.props.name)!==Ye(o.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(o).length},n.render=function(){var o=this.props,a=o.component,u=o.formik,d=o.render,h=o.children,m=o.name,y=ni(o,["component","formik","render","children","name"]),w=Ye(u.touched,m),v=Ye(u.errors,m);return w&&v?d?xt(d)?d(v):null:h?xt(h)?h(v):null:a?b.createElement(a,y,v):v:null},e}(b.Component),Im=f4(v4),Sh,O_;function y4(){if(O_)return Sh;O_=1;function t(I){this._maxSize=I,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(I){return this._values[I]},t.prototype.set=function(I,M){return this._size>=this._maxSize&&this.clear(),I in this._values||this._size++,this._values[I]=M};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,i=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,u=512,d=new t(u),h=new t(u),m=new t(u);Sh={Cache:t,split:w,normalizePath:y,setter:function(I){var M=y(I);return h.get(I)||h.set(I,function(Z,F){for(var W=0,Q=M.length,_e=Z;W<Q-1;){var pe=M[W];if(pe==="__proto__"||pe==="constructor"||pe==="prototype")return Z;_e=_e[M[W++]]}_e[M[W]]=F})},getter:function(I,M){var z=y(I);return m.get(I)||m.set(I,function(F){for(var W=0,Q=z.length;W<Q;)if(F!=null||!M)F=F[z[W++]];else return;return F})},join:function(I){return I.reduce(function(M,z){return M+(x(z)||n.test(z)?"["+z+"]":(M?".":"")+z)},"")},forEach:function(I,M,z){v(Array.isArray(I)?I:w(I),M,z)}};function y(I){return d.get(I)||d.set(I,w(I).map(function(M){return M.replace(a,"$2")}))}function w(I){return I.match(e)||[""]}function v(I,M,z){var Z=I.length,F,W,Q,_e;for(W=0;W<Z;W++)F=I[W],F&&(R(F)&&(F='"'+F+'"'),_e=x(F),Q=!_e&&/^\d+$/.test(F),M.call(z,F,_e,Q,W,I))}function x(I){return typeof I=="string"&&I&&["'",'"'].indexOf(I.charAt(0))!==-1}function C(I){return I.match(i)&&!I.match(n)}function N(I){return o.test(I)}function R(I){return!x(I)&&(C(I)||N(I))}return Sh}var Vi=y4(),Ch,L_;function w4(){if(L_)return Ch;L_=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=y=>y.match(t)||[],n=y=>y[0].toUpperCase()+y.slice(1),i=(y,w)=>e(y).join(w).toLowerCase(),o=y=>e(y).reduce((w,v)=>`${w}${w?v[0].toUpperCase()+v.slice(1).toLowerCase():v.toLowerCase()}`,"");return Ch={words:e,upperFirst:n,camelCase:o,pascalCase:y=>n(o(y)),snakeCase:y=>i(y,"_"),kebabCase:y=>i(y,"-"),sentenceCase:y=>n(i(y," ")),titleCase:y=>e(y).map(n).join(" ")},Ch}var bh=w4(),Tu={exports:{}},D_;function _4(){if(D_)return Tu.exports;D_=1,Tu.exports=function(o){return t(e(o),o)},Tu.exports.array=t;function t(o,a){var u=o.length,d=new Array(u),h={},m=u,y=n(a),w=i(o);for(a.forEach(function(x){if(!w.has(x[0])||!w.has(x[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});m--;)h[m]||v(o[m],m,new Set);return d;function v(x,C,N){if(N.has(x)){var R;try{R=", node was:"+JSON.stringify(x)}catch{R=""}throw new Error("Cyclic dependency"+R)}if(!w.has(x))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(x));if(!h[C]){h[C]=!0;var I=y.get(x)||new Set;if(I=Array.from(I),C=I.length){N.add(x);do{var M=I[--C];v(M,w.get(M),N)}while(C);N.delete(x)}d[--u]=x}}}function e(o){for(var a=new Set,u=0,d=o.length;u<d;u++){var h=o[u];a.add(h[0]),a.add(h[1])}return Array.from(a)}function n(o){for(var a=new Map,u=0,d=o.length;u<d;u++){var h=o[u];a.has(h[0])||a.set(h[0],new Set),a.has(h[1])||a.set(h[1],new Set),a.get(h[0]).add(h[1])}return a}function i(o){for(var a=new Map,u=0,d=o.length;u<d;u++)a.set(o[u],u);return a}return Tu.exports}var E4=_4();const x4=to(E4),S4=Object.prototype.toString,C4=Error.prototype.toString,b4=RegExp.prototype.toString,T4=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",I4=/^Symbol\((.*)\)(.*)$/;function k4(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function M_(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return k4(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return T4.call(t).replace(I4,"Symbol($1)");const i=S4.call(t).slice(8,-1);return i==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):i==="Error"||t instanceof Error?"["+C4.call(t)+"]":i==="RegExp"?b4.call(t):null}function li(t,e){let n=M_(t,e);return n!==null?n:JSON.stringify(t,function(i,o){let a=M_(this[i],e);return a!==null?a:o},2)}function Yx(t){return t==null?[]:[].concat(t)}let Qx,Xx,Jx,P4=/\$\{\s*(\w+)\s*\}/g;Qx=Symbol.toStringTag;class F_{constructor(e,n,i,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Qx]="Error",this.name="ValidationError",this.value=n,this.path=i,this.type=o,this.errors=[],this.inner=[],Yx(e).forEach(a=>{if(Vt.isError(a)){this.errors.push(...a.errors);const u=a.inner.length?a.inner:[a];this.inner.push(...u)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Xx=Symbol.hasInstance;Jx=Symbol.toStringTag;class Vt extends Error{static formatError(e,n){const i=n.label||n.path||"this";return n=Object.assign({},n,{path:i,originalPath:n.path}),typeof e=="string"?e.replace(P4,(o,a)=>li(n[a])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,i,o,a){const u=new F_(e,n,i,o);if(a)return u;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Jx]="Error",this.name=u.name,this.message=u.message,this.type=u.type,this.value=u.value,this.path=u.path,this.errors=u.errors,this.inner=u.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Vt)}static[Xx](e){return F_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Bn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:i})=>{const o=i!=null&&i!==n?` (cast from the value \`${li(i,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${li(n,!0)}\``+o:`${t} must match the configured type. The validated value was: \`${li(n,!0)}\``+o}},zt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Kr={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},np={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},N4={isValue:"${path} field must be ${value}"},Fu={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},R4={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},A4={notType:t=>{const{path:e,value:n,spec:i}=t,o=i.types.length;if(Array.isArray(n)){if(n.length<o)return`${e} tuple value has too few items, expected a length of ${o} but got ${n.length} for value: \`${li(n,!0)}\``;if(n.length>o)return`${e} tuple value has too many items, expected a length of ${o} but got ${n.length} for value: \`${li(n,!0)}\``}return Vt.formatError(Bn.notType,t)}};Object.assign(Object.create(null),{mixed:Bn,string:zt,number:Kr,date:np,object:Fu,array:R4,boolean:N4,tuple:A4});const km=t=>t&&t.__isYupSchema__;class Ec{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:o,otherwise:a}=n,u=typeof i=="function"?i:(...d)=>d.every(h=>h===i);return new Ec(e,(d,h)=>{var m;let y=u(...d)?o:a;return(m=y==null?void 0:y(h))!=null?m:h})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let i=this.refs.map(a=>a.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),o=this.fn(i,e,n);if(o===void 0||o===e)return e;if(!km(o))throw new TypeError("conditions must return a schema object");return o.resolve(n)}}const Iu={context:"$",value:"."};class ls{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Iu.context,this.isValue=this.key[0]===Iu.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?Iu.context:this.isValue?Iu.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&Vi.getter(this.path,!0),this.map=n.map}getValue(e,n,i){let o=this.isContext?i:this.isValue?e:n;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}ls.prototype.__isYupRef=!0;const hr=t=>t==null;function Ls(t){function e({value:n,path:i="",options:o,originalValue:a,schema:u},d,h){const{name:m,test:y,params:w,message:v,skipAbsent:x}=t;let{parent:C,context:N,abortEarly:R=u.spec.abortEarly,disableStackTrace:I=u.spec.disableStackTrace}=o;function M(Se){return ls.isRef(Se)?Se.getValue(n,C,N):Se}function z(Se={}){const ot=Object.assign({value:n,originalValue:a,label:u.spec.label,path:Se.path||i,spec:u.spec,disableStackTrace:Se.disableStackTrace||I},w,Se.params);for(const at of Object.keys(ot))ot[at]=M(ot[at]);const Le=new Vt(Vt.formatError(Se.message||v,ot),n,ot.path,Se.type||m,ot.disableStackTrace);return Le.params=ot,Le}const Z=R?d:h;let F={path:i,parent:C,type:m,from:o.from,createError:z,resolve:M,options:o,originalValue:a,schema:u};const W=Se=>{Vt.isError(Se)?Z(Se):Se?h(null):Z(z())},Q=Se=>{Vt.isError(Se)?Z(Se):d(Se)};if(x&&hr(n))return W(!0);let pe;try{var je;if(pe=y.call(F,n,F),typeof((je=pe)==null?void 0:je.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${F.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(pe).then(W,Q)}}catch(Se){Q(Se);return}W(pe)}return e.OPTIONS=t,e}function O4(t,e,n,i=n){let o,a,u;return e?(Vi.forEach(e,(d,h,m)=>{let y=h?d.slice(1,d.length-1):d;t=t.resolve({context:i,parent:o,value:n});let w=t.type==="tuple",v=m?parseInt(y,10):0;if(t.innerType||w){if(w&&!m)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${u}" must contain an index to the tuple element, e.g. "${u}[0]"`);if(n&&v>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${d}, in the path: ${e}. because there is no value at that index. `);o=n,n=n&&n[v],t=w?t.spec.types[v]:t.innerType}if(!m){if(!t.fields||!t.fields[y])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${u} which is a type: "${t.type}")`);o=n,n=n&&n[y],t=t.fields[y]}a=y,u=h?"["+d+"]":"."+d}),{schema:t,parent:o,parentPath:a}):{parent:o,parentPath:e,schema:t}}class xc extends Set{describe(){const e=[];for(const n of this.values())e.push(ls.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const i of this.values())n.push(e(i));return n}clone(){return new xc(this.values())}merge(e,n){const i=this.clone();return e.forEach(o=>i.add(o)),n.forEach(o=>i.delete(o)),i}}function js(t,e=new Map){if(km(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let i=0;i<t.length;i++)n[i]=js(t[i],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[i,o]of t.entries())n.set(i,js(o,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const i of t)n.add(js(i,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[i,o]of Object.entries(t))n[i]=js(o,e)}else throw Error(`Unable to clone ${t}`);return n}class Ln{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new xc,this._blacklist=new xc,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Bn.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=js(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=n,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,i=e.clone();const o=Object.assign({},n.spec,i.spec);return i.spec=o,i.internalTests=Object.assign({},n.internalTests,i.internalTests),i._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),i.tests=n.tests,i.exclusiveTests=n.exclusiveTests,i.withMutation(a=>{e.tests.forEach(u=>{a.test(u.OPTIONS)})}),i.transforms=[...n.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let i=n.conditions;n=n.clone(),n.conditions=[],n=i.reduce((o,a)=>a.resolve(o,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,i,o,a;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(o=e.recursive)!=null?o:this.spec.recursive,disableStackTrace:(a=e.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(e,n={}){let i=this.resolve(Object.assign({value:e},n)),o=n.assert==="ignore-optionality",a=i._cast(e,n);if(n.assert!==!1&&!i.isType(a)){if(o&&hr(a))return a;let u=li(e),d=li(a);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${u} 
`+(d!==u?`result of cast: ${d}`:""))}return a}_cast(e,n){let i=e===void 0?e:this.transforms.reduce((o,a)=>a.call(this,o,e,this),e);return i===void 0&&(i=this.getDefault(n)),i}_validate(e,n={},i,o){let{path:a,originalValue:u=e,strict:d=this.spec.strict}=n,h=e;d||(h=this._cast(h,Object.assign({assert:!1},n)));let m=[];for(let y of Object.values(this.internalTests))y&&m.push(y);this.runTests({path:a,value:h,originalValue:u,options:n,tests:m},i,y=>{if(y.length)return o(y,h);this.runTests({path:a,value:h,originalValue:u,options:n,tests:this.tests},i,o)})}runTests(e,n,i){let o=!1,{tests:a,value:u,originalValue:d,path:h,options:m}=e,y=N=>{o||(o=!0,n(N,u))},w=N=>{o||(o=!0,i(N,u))},v=a.length,x=[];if(!v)return w([]);let C={value:u,originalValue:d,path:h,options:m,schema:this};for(let N=0;N<a.length;N++){const R=a[N];R(C,y,function(M){M&&(Array.isArray(M)?x.push(...M):x.push(M)),--v<=0&&w(x)})}}asNestedTest({key:e,index:n,parent:i,parentPath:o,originalParent:a,options:u}){const d=e??n;if(d==null)throw TypeError("Must include `key` or `index` for nested validations");const h=typeof d=="number";let m=i[d];const y=Object.assign({},u,{strict:!0,parent:i,value:m,originalValue:a[d],key:void 0,[h?"index":"key"]:d,path:h||d.includes(".")?`${o||""}[${h?d:`"${d}"`}]`:(o?`${o}.`:"")+e});return(w,v,x)=>this.resolve(y)._validate(m,y,v,x)}validate(e,n){var i;let o=this.resolve(Object.assign({},n,{value:e})),a=(i=n==null?void 0:n.disableStackTrace)!=null?i:o.spec.disableStackTrace;return new Promise((u,d)=>o._validate(e,n,(h,m)=>{Vt.isError(h)&&(h.value=m),d(h)},(h,m)=>{h.length?d(new Vt(h,m,void 0,void 0,a)):u(m)}))}validateSync(e,n){var i;let o=this.resolve(Object.assign({},n,{value:e})),a,u=(i=n==null?void 0:n.disableStackTrace)!=null?i:o.spec.disableStackTrace;return o._validate(e,Object.assign({},n,{sync:!0}),(d,h)=>{throw Vt.isError(d)&&(d.value=h),d},(d,h)=>{if(d.length)throw new Vt(d,e,void 0,void 0,u);a=h}),a}isValid(e,n){return this.validate(e,n).then(()=>!0,i=>{if(Vt.isError(i))return!1;throw i})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(i){if(Vt.isError(i))return!1;throw i}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):js(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const i=this.clone({nullable:e});return i.internalTests.nullable=Ls({message:n,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),i}optionality(e,n){const i=this.clone({optional:e});return i.internalTests.optionality=Ls({message:n,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=Bn.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Bn.notNull){return this.nullability(!1,e)}required(e=Bn.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Bn.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),o=Ls(n),a=n.exclusive||n.name&&i.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(i.exclusiveTests[n.name]=!!n.exclusive),i.tests=i.tests.filter(u=>!(u.OPTIONS.name===n.name&&(a||u.OPTIONS.test===o.OPTIONS.test))),i.tests.push(o),i}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let i=this.clone(),o=Yx(e).map(a=>new ls(a));return o.forEach(a=>{a.isSibling&&i.deps.push(a.key)}),i.conditions.push(typeof n=="function"?new Ec(o,n):Ec.fromOptions(o,n)),i}typeError(e){let n=this.clone();return n.internalTests.typeError=Ls({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Bn.oneOf){let i=this.clone();return e.forEach(o=>{i._whitelist.add(o),i._blacklist.delete(o)}),i.internalTests.whiteList=Ls({message:n,name:"oneOf",skipAbsent:!0,test(o){let a=this.schema._whitelist,u=a.resolveAll(this.resolve);return u.includes(o)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:u}})}}),i}notOneOf(e,n=Bn.notOneOf){let i=this.clone();return e.forEach(o=>{i._blacklist.add(o),i._whitelist.delete(o)}),i.internalTests.blacklist=Ls({message:n,name:"notOneOf",test(o){let a=this.schema._blacklist,u=a.resolveAll(this.resolve);return u.includes(o)?this.createError({params:{values:Array.from(a).join(", "),resolved:u}}):!0}}),i}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:i,meta:o,optional:a,nullable:u}=n.spec;return{meta:o,label:i,optional:a,nullable:u,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(h=>({name:h.OPTIONS.name,params:h.OPTIONS.params})).filter((h,m,y)=>y.findIndex(w=>w.name===h.name)===m)}}}Ln.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Ln.prototype[`${t}At`]=function(e,n,i={}){const{parent:o,parentPath:a,schema:u}=O4(this,e,n,i.context);return u[t](o&&o[a],Object.assign({},i,{parent:o,path:e}))};for(const t of["equals","is"])Ln.prototype[t]=Ln.prototype.oneOf;for(const t of["not","nope"])Ln.prototype[t]=Ln.prototype.notOneOf;const L4=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function D4(t){const e=rp(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function rp(t){var e,n;const i=L4.exec(t);return i?{year:ar(i[1]),month:ar(i[2],1)-1,day:ar(i[3],1),hour:ar(i[4]),minute:ar(i[5]),second:ar(i[6]),millisecond:i[7]?ar(i[7].substring(0,3)):0,precision:(e=(n=i[7])==null?void 0:n.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:ar(i[10]),minuteOffset:ar(i[11])}:null}function ar(t,e=0){return Number(t)||e}let M4=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,F4=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,j4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,$4="^\\d{4}-\\d{2}-\\d{2}",U4="\\d{2}:\\d{2}:\\d{2}",B4="(([+-]\\d{2}(:?\\d{2})?)|Z)",z4=new RegExp(`${$4}T${U4}(\\.\\d+)?${B4}$`),V4=t=>hr(t)||t===t.trim(),H4={}.toString();function yn(){return new Zx}class Zx extends Ln{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const o=e!=null&&e.toString?e.toString():e;return o===H4?e:o})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Bn.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=zt.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n=zt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n=zt.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,n){let i=!1,o,a;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:o,name:a}=n:o=n),this.test({name:a||"matches",message:o||zt.matches,params:{regex:e},skipAbsent:!0,test:u=>u===""&&i||u.search(e)!==-1})}email(e=zt.email){return this.matches(M4,{name:"email",message:e,excludeEmptyString:!0})}url(e=zt.url){return this.matches(F4,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=zt.uuid){return this.matches(j4,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",i,o;return e&&(typeof e=="object"?{message:n="",allowOffset:i=!1,precision:o=void 0}=e:n=e),this.matches(z4,{name:"datetime",message:n||zt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||zt.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:a=>{if(!a||i)return!0;const u=rp(a);return u?!!u.z:!1}}).test({name:"datetime_precision",message:n||zt.datetime_precision,params:{precision:o},skipAbsent:!0,test:a=>{if(!a||o==null)return!0;const u=rp(a);return u?u.precision===o:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=zt.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:V4})}lowercase(e=zt.lowercase){return this.transform(n=>hr(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>hr(n)||n===n.toLowerCase()})}uppercase(e=zt.uppercase){return this.transform(n=>hr(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>hr(n)||n===n.toUpperCase()})}}yn.prototype=Zx.prototype;let W4=t=>t!=+t;function eS(){return new tS}class tS extends Ln{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!W4(e)}}),this.withMutation(()=>{this.transform((e,n,i)=>{if(!i.spec.coerce)return e;let o=e;if(typeof o=="string"){if(o=o.replace(/\s/g,""),o==="")return NaN;o=+o}return i.isType(o)||o===null?o:parseFloat(o)})})}min(e,n=Kr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(e)}})}max(e,n=Kr.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(e)}})}lessThan(e,n=Kr.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(i){return i<this.resolve(e)}})}moreThan(e,n=Kr.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(i){return i>this.resolve(e)}})}positive(e=Kr.positive){return this.moreThan(0,e)}negative(e=Kr.negative){return this.lessThan(0,e)}integer(e=Kr.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>hr(e)?e:e|0)}round(e){var n;let i=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(i.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(o=>hr(o)?o:Math[e](o))}}eS.prototype=tS.prototype;let q4=new Date(""),G4=t=>Object.prototype.toString.call(t)==="[object Date]";class Yc extends Ln{constructor(){super({type:"date",check(e){return G4(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=D4(e),isNaN(e)?Yc.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let i;if(ls.isRef(e))i=e;else{let o=this.cast(e);if(!this._typeCheck(o))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);i=o}return i}min(e,n=np.min){let i=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(o){return o>=this.resolve(i)}})}max(e,n=np.max){let i=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(o){return o<=this.resolve(i)}})}}Yc.INVALID_DATE=q4;Yc.prototype;function K4(t,e=[]){let n=[],i=new Set,o=new Set(e.map(([u,d])=>`${u}-${d}`));function a(u,d){let h=Vi.split(u)[0];i.add(h),o.has(`${d}-${h}`)||n.push([d,h])}for(const u of Object.keys(t)){let d=t[u];i.add(u),ls.isRef(d)&&d.isSibling?a(d.path,u):km(d)&&"deps"in d&&d.deps.forEach(h=>a(h,u))}return x4.array(Array.from(i),n).reverse()}function j_(t,e){let n=1/0;return t.some((i,o)=>{var a;if((a=e.path)!=null&&a.includes(i))return n=o,!0}),n}function nS(t){return(e,n)=>j_(t,e)-j_(t,n)}const Y4=(t,e,n)=>{if(typeof t!="string")return t;let i=t;try{i=JSON.parse(t)}catch{}return n.isType(i)?i:t};function ju(t){if("fields"in t){const e={};for(const[n,i]of Object.entries(t.fields))e[n]=ju(i);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=ju(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(ju)}):"optional"in t?t.optional():t}const Q4=(t,e)=>{const n=[...Vi.normalizePath(e)];if(n.length===1)return n[0]in t;let i=n.pop(),o=Vi.getter(Vi.join(n),!0)(t);return!!(o&&i in o)};let $_=t=>Object.prototype.toString.call(t)==="[object Object]";function U_(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(i=>n.indexOf(i)===-1)}const X4=nS([]);function Qc(t){return new rS(t)}class rS extends Ln{constructor(e){super({type:"object",check(n){return $_(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=X4,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var i;let o=super._cast(e,n);if(o===void 0)return this.getDefault(n);if(!this._typeCheck(o))return o;let a=this.fields,u=(i=n.stripUnknown)!=null?i:this.spec.noUnknown,d=[].concat(this._nodes,Object.keys(o).filter(w=>!this._nodes.includes(w))),h={},m=Object.assign({},n,{parent:h,__validating:n.__validating||!1}),y=!1;for(const w of d){let v=a[w],x=w in o;if(v){let C,N=o[w];m.path=(n.path?`${n.path}.`:"")+w,v=v.resolve({value:N,context:n.context,parent:h});let R=v instanceof Ln?v.spec:void 0,I=R==null?void 0:R.strict;if(R!=null&&R.strip){y=y||w in o;continue}C=!n.__validating||!I?v.cast(o[w],m):o[w],C!==void 0&&(h[w]=C)}else x&&!u&&(h[w]=o[w]);(x!==w in h||h[w]!==o[w])&&(y=!0)}return y?h:o}_validate(e,n={},i,o){let{from:a=[],originalValue:u=e,recursive:d=this.spec.recursive}=n;n.from=[{schema:this,value:u},...a],n.__validating=!0,n.originalValue=u,super._validate(e,n,i,(h,m)=>{if(!d||!$_(m)){o(h,m);return}u=u||m;let y=[];for(let w of this._nodes){let v=this.fields[w];!v||ls.isRef(v)||y.push(v.asNestedTest({options:n,key:w,parent:m,parentPath:n.path,originalParent:u}))}this.runTests({tests:y,value:m,originalValue:u,options:n},i,w=>{o(w.sort(this._sortErrors).concat(h),m)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),i=n.fields;for(let[o,a]of Object.entries(this.fields)){const u=i[o];i[o]=u===void 0?a:u}return n.withMutation(o=>o.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(i=>{var o;const a=this.fields[i];let u=e;(o=u)!=null&&o.value&&(u=Object.assign({},u,{parent:u.value,value:u.value[i]})),n[i]=a&&"getDefault"in a?a.getDefault(u):void 0}),n}setFields(e,n){let i=this.clone();return i.fields=e,i._nodes=K4(e,n),i._sortErrors=nS(Object.keys(e)),n&&(i._excludedEdges=n),i}shape(e,n=[]){return this.clone().withMutation(i=>{let o=i._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),o=[...i._excludedEdges,...n]),i.setFields(Object.assign(i.fields,e),o)})}partial(){const e={};for(const[n,i]of Object.entries(this.fields))e[n]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return ju(this)}pick(e){const n={};for(const i of e)this.fields[i]&&(n[i]=this.fields[i]);return this.setFields(n,this._excludedEdges.filter(([i,o])=>e.includes(i)&&e.includes(o)))}omit(e){const n=[];for(const i of Object.keys(this.fields))e.includes(i)||n.push(i);return this.pick(n)}from(e,n,i){let o=Vi.getter(e,!0);return this.transform(a=>{if(!a)return a;let u=a;return Q4(a,e)&&(u=Object.assign({},a),i||delete u[e],u[n]=o(a)),u})}json(){return this.transform(Y4)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Fu.exact,test(n){if(n==null)return!0;const i=U_(this.schema,n);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=Fu.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:n,test(o){if(o==null)return!0;const a=U_(this.schema,o);return!e||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,n=Fu.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const i={};for(const o of Object.keys(n))i[e(o)]=n[o];return i})}camelCase(){return this.transformKeys(bh.camelCase)}snakeCase(){return this.transformKeys(bh.snakeCase)}constantCase(){return this.transformKeys(e=>bh.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[a,u]of Object.entries(n.fields)){var o;let d=e;(o=d)!=null&&o.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[a]})),i.fields[a]=u.describe(d)}return i}}Qc.prototype=rS.prototype;const J4=()=>{const[t,e]=b.useState(!1),n=Qc().shape({email:yn().email().required(),password:yn().min(6,"Password must be at least 6 characters").required()}),i=ja(),o=async(a,{resetForm:u})=>{try{await vR(vx,a.email,a.password),_n.fire({title:"Logged in successfully!",icon:"success",confirmButtonText:"Cool"}),u(),i("/nannies")}catch(d){_n.fire({title:"Login failed: ",text:`Incorrect login or password ${d.message}`,icon:"error",confirmButtonText:"OK"})}};return _.jsxs("div",{className:"text-black auth-form max-h-max max-w-[560px] p-6 md:p-8 xl:p-16 m-6 bg-white rounded-[30px] shadow-lg ",children:[_.jsx("h2",{className:"text-3xl md:text-4xl font-medium mb-5",children:"Login"}),_.jsx("p",{className:"text-gray-500 mb-10",children:"Welcome back! Please enter your credentials to access your account and continue your babysitter search."}),_.jsx(Tm,{initialValues:{email:"",password:""},validationSchema:n,onSubmit:o,children:({errors:a,touched:u,isSubmitting:d})=>_.jsxs(Kc,{children:[_.jsx("div",{className:"relative mb-6",children:_.jsx(vn,{name:"email",type:"email",placeholder:"Email",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${a.email&&u.email?"border-red-600":""}`})}),_.jsxs("div",{className:" mb-8",children:[_.jsxs("div",{className:"relative",children:[_.jsx(vn,{name:"password",type:t?"text":"password",placeholder:"Password",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${a.password&&u.password?"border-red-600":""}`}),_.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute top-1/2 right-4 transform -translate-y-1/2 text-gray-500",children:t?_.jsx(x1,{size:24}):_.jsx(S1,{size:24})})]}),_.jsx(Im,{name:"password",component:"div",className:"text-red-500 mt-1 text-sm"})]}),_.jsx(qt,{text:"Log In",type:"submit",disabled:d,className:"w-full text-lg font-medium"})]})})]})},Z4=()=>_.jsxs(_.Fragment,{children:[_.jsx(il,{}),_.jsxs("section",{className:"flex text-white h-[calc(100vh-4rem)] md:h-screen",children:[_.jsxs("div",{className:"hidden md:flex flex-col flex-1 justify-center pl-8 pr-5 xl:pl-24 xl:pr-16 bg-[--prime]",children:[_.jsx("h1",{className:"text-6xl xl:text-7xl font-medium pb-7",children:"Make Life Easier for the Family:"}),_.jsx("p",{className:"text-2xl pb-16",children:"Find Babysitters Online for All Occasions"}),_.jsx(Ua,{to:"/nannies",children:_.jsx(qt,{text:"Get Started",border:"true",icon:_.jsx(tm,{})})})]}),_.jsx("div",{className:" flex items-center justify-center flex-1 home-bg-img",children:_.jsx(J4,{})})]})]}),e5=()=>{const[t,e]=b.useState(!1),n=Qc().shape({name:yn().required(),email:yn().email().required(),password:yn().min(6,"Password must be at least 6 characters").required()}),i=ja(),o=async(a,{resetForm:u})=>{try{const d=await gR(vx,a.email,a.password);await wR(d.user,{displayName:a.name}),_n.fire({title:"Registration successful!",icon:"success"}),u(),i("/nannies")}catch(d){_n.fire({title:"Registration failed:",text:`${d.message}`,icon:"error"})}};return _.jsxs("div",{className:"text-black auth-form max-h-max max-w-[560px] p-6 md:p-8 xl:p-16 m-6 bg-white rounded-[30px] shadow-lg ",children:[_.jsx("h2",{className:"text-3xl md:text-4xl font-medium mb-5",children:"Registration"}),_.jsx("p",{className:"text-gray-500 mb-10",children:"Thank you for your interest in our platform! In order to register, we need some information. Please provide us with the following information."}),_.jsx(Tm,{initialValues:{name:"",email:"",password:""},validationSchema:n,onSubmit:o,children:({errors:a,touched:u,isSubmitting:d})=>_.jsxs(Kc,{children:[_.jsx("div",{className:"relative mb-6",children:_.jsx(vn,{name:"name",type:"text",placeholder:"Name",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${a.name&&u.name?"border-red-600":""}`})}),_.jsx("div",{className:"relative mb-6",children:_.jsx(vn,{name:"email",type:"email",placeholder:"Email",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${a.email&&u.email?"border-red-600":""}`})}),_.jsxs("div",{className:" mb-8",children:[_.jsxs("div",{className:"relative",children:[_.jsx(vn,{name:"password",type:t?"text":"password",placeholder:"Password",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${a.password&&u.password?"border-red-600":""}`}),_.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute top-1/2 right-4 transform -translate-y-1/2 text-gray-500",children:t?_.jsx(x1,{size:24}):_.jsx(S1,{size:24})})]}),_.jsx(Im,{name:"password",component:"div",className:"text-red-500 mt-1 text-sm"})]}),_.jsx(qt,{text:"Sign Up",type:"submit",disabled:d,className:"w-full text-lg font-medium"})]})})]})},t5=()=>_.jsxs(_.Fragment,{children:[_.jsx(il,{}),_.jsxs("section",{className:"flex text-white h-[calc(100vh-4rem)] md:h-screen",children:[_.jsxs("div",{className:"hidden md:flex flex-col flex-1 justify-center pl-8 pr-5 xl:pl-24 xl:pr-16 bg-[--prime]",children:[_.jsx("h1",{className:"text-6xl xl:text-7xl font-medium pb-7",children:"Make Life Easier for the Family:"}),_.jsx("p",{className:"text-2xl pb-16",children:"Find Babysitters Online for All Occasions"}),_.jsx(Ua,{to:"/nannies",children:_.jsx(qt,{text:"Get Started",border:"true",icon:_.jsx(tm,{})})})]}),_.jsx("div",{className:"flex items-center justify-center flex-1 home-bg-img pt-24",children:_.jsx(e5,{})})]})]});function iS(t){return Yt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"},child:[]}]})(t)}function n5(t){return Yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0 0 18 0c96.26-65.34 184.09-143.09 183-252.42-.54-52.67-42.32-96.81-95.08-96.81z"},child:[]}]})(t)}function r5(t){return Yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m256 448-9-6c-42.78-28.57-96.91-60.86-137-108.32-42.25-50-62.52-101.35-62-157C48.63 114.54 98.46 64 159.08 64c48.11 0 80.1 28 96.92 48.21C272.82 92 304.81 64 352.92 64c60.62 0 110.45 50.54 111.08 112.65.56 55.68-19.71 107-62 157-40.09 47.49-94.22 79.78-137 108.35z"},child:[]}]})(t)}function i5(t){return Yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 48c-79.5 0-144 61.39-144 137 0 87 96 224.87 131.25 272.49a15.77 15.77 0 0 0 25.5 0C304 409.89 400 272.07 400 185c0-75.61-64.5-137-144-137z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"192",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]}]})(t)}const s5=({nanny:t,nannyId:e,userId:n,onClick:i})=>{const{favorites:o,addToFavorites:a,removeFromFavorites:u}=w1(),d=o.some(m=>m.nannyId===e),h=()=>{n?d?u(e,n):a(n,{...t,nannyId:e}):i()};return _.jsx("button",{onClick:h,children:d?_.jsx(r5,{className:"text-2xl md:ml-10 text-red-500"}):_.jsx(n5,{className:"text-2xl md:ml-10"})})};function o5(t){return Yt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"},child:[]},{tag:"path",attr:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"},child:[]}]})(t)}function a5(t){return Yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M443.5 420.2L336.7 312.4c20.9-26.2 33.5-59.4 33.5-95.5 0-84.5-68.5-153-153.1-153S64 132.5 64 217s68.5 153 153.1 153c36.6 0 70.1-12.8 96.5-34.2l106.1 107.1c3.2 3.4 7.6 5.1 11.9 5.1 4.1 0 8.2-1.5 11.3-4.5 6.6-6.3 6.8-16.7.6-23.3zm-226.4-83.1c-32.1 0-62.3-12.5-85-35.2-22.7-22.7-35.2-52.9-35.2-84.9 0-32.1 12.5-62.3 35.2-84.9 22.7-22.7 52.9-35.2 85-35.2s62.3 12.5 85 35.2c22.7 22.7 35.2 52.9 35.2 84.9 0 32.1-12.5 62.3-35.2 84.9-22.7 22.7-52.9 35.2-85 35.2z"},child:[]}]})(t)}function sS(t){return Yt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}const l5=()=>{const t=[];let e=9;for(;e<18;)t.push(`${String(e).padStart(2,"0")}:00`),t.push(`${String(e).padStart(2,"0")}:30`),e+=1;return t.push("18:00"),t},u5=()=>{const[t,e]=b.useState(!1),n=Qc().shape({address:yn().required("Address is required"),phone:yn().matches(/^\d{10}$/).required(),age:eS().positive().integer().required(),email:yn().email().required(),parentName:yn().required(),meetingTime:yn().required(),comment:yn()}),i=()=>{e(!1)};return _.jsxs("div",{children:[_.jsx(Tm,{initialValues:{address:"",phone:"",age:"",email:"",parentName:"",meetingTime:"",comment:""},validationSchema:n,onSubmit:(o,{resetForm:a})=>{console.log("Form values:",o),a(),e(!0)},children:({errors:o,touched:a,isSubmitting:u})=>_.jsxs(Kc,{className:"flex flex-col text-xs md:text-base space-y-3 md:space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-4",children:[_.jsx("div",{children:_.jsx(vn,{name:"address",type:"text",placeholder:"Address",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${o.address&&a.address?"border-red-600":""}`})}),_.jsxs("div",{className:"flex items-center w-full",children:[_.jsx("span",{className:"text-gray-500 mx-1",children:"+38"}),_.jsx(vn,{name:"phone",type:"text",placeholder:"0XXXXXXXXX",maxLength:10,className:`border-2 rounded-lg px-1 py-1 md:px-2 md:py-2 w-full ${o.phone&&a.phone?"border-red-600":""}`})]}),_.jsx("div",{children:_.jsx(vn,{name:"age",type:"number",placeholder:"Child's age",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${o.age&&a.age?"border-red-600":""}`})}),_.jsxs("div",{className:"relative",children:[_.jsxs(vn,{as:"select",name:"meetingTime",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${o.meetingTime&&a.meetingTime?"border-red-600":""}`,children:[_.jsx("option",{value:"",disabled:!0,children:"Meeting time"}),l5().map(d=>_.jsx("option",{value:d,children:d},d))]}),_.jsx(o5,{className:"hidden md:flex absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",size:20})]})]}),_.jsx("div",{children:_.jsx(vn,{name:"email",type:"email",placeholder:"Email",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${o.email&&a.email?"border-red-600":""}`})}),_.jsx("div",{children:_.jsx(vn,{name:"parentName",type:"text",placeholder:"Father's or mother's name",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${o.parentName&&a.parentName?"border-red-600":""}`})}),_.jsxs("div",{children:[_.jsx(vn,{as:"textarea",name:"comment",placeholder:"Comment",className:"border rounded-lg px-2 py-1 md:px-4 md:py-2 min-h-12 max-h-28 w-full"}),_.jsx(Im,{name:"comment",component:"div",className:"text-red-500 text-xs md:text-sm"})]}),_.jsx(qt,{type:"submit",className:"hover:bg-[--hover-prime]",disabled:u,text:"Send"})]})}),t&&_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg relative",children:[_.jsx("button",{className:"absolute top-3 right-3 text-gray-500 hover:text-black",onClick:i,children:_.jsx(sS,{className:"w-6 h-6"})}),_.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Thank you!"}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Please wait for your meeting confirmation."})]})})]})},c5=({isOpen:t,onClose:e,nanny:n})=>{const[i]=b.useState(!1),o=()=>i(!1),a=u=>{console.log("Form submitted with:",u),o()};return b.useEffect(()=>{const u=d=>{d.key==="Escape"&&e()};return document.addEventListener("keydown",u),()=>document.removeEventListener("keydown",u)},[e]),t?_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:_.jsxs("div",{className:"bg-white rounded-3xl shadow-lg w-full max-w-[600px] max-h-screen overflow-y-auto p-3 md:p-8 m-3 relative",onClick:u=>u.stopPropagation(),children:[_.jsx("h2",{className:"text-xl md:text-3xl 2xl:text-4xl font-medium mb-2 md:mb-4 2xl:mb-5 w-3/4",children:"Make an appointment with a babysitter"}),_.jsx("p",{className:"text-sm md:text-base text-gray-400 mb-5 md:mb-7 2xl:mb-10",children:"Arranging a meeting with a caregiver for your child is the first step to creating a safe and comfortable environment. Fill out the form below so we can match you with the perfect care partner."}),_.jsxs("div",{className:"flex mb-5 2xl:mb-10",children:[_.jsx("div",{className:"mr-3",children:_.jsx("img",{className:"w-11 h-11 rounded-full object-cover",src:n.avatar_url,alt:n.name})}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Your nanny"}),_.jsx("p",{className:"font-medium",children:n.name})]})]}),_.jsx("button",{className:"absolute top-5 right-5 text-gray-500 hover:text-black",onClick:e,children:_.jsx(sS,{className:"w-6 h-6 md:w-8 md:h-8"})}),_.jsx(u5,{onSubmit:a})]})}):null},d5=({nanny:t,index:e})=>{const[n,i]=b.useState(!1),o=()=>i(!0),a=()=>i(!1),[u,d]=b.useState(null),h=m=>{d(u===m?null:m)};return _.jsxs(_.Fragment,{children:[_.jsx("button",{className:"font-medium underline text-start mr-auto",onClick:()=>h(e),children:u===e?"Show less":"Read more"}),u===e&&_.jsxs("div",{className:"mt-6",children:[t.reviews.map((m,y)=>_.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[_.jsx("div",{className:"w-16 h-10 md:w-12 md:h-12 text-sm md:text-base rounded-full bg-gray-300 flex items-center justify-center",children:m.reviewer.charAt(0)}),_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold",children:m.reviewer}),_.jsxs("p",{className:"flex items-center text-gray-600 text-sm",children:[_.jsx(iS,{className:"mr-1 text-yellow-500"}),m.rating.toFixed(1)]}),_.jsx("p",{className:"text-gray-600",children:m.comment})]})]},y)),_.jsxs("div",{children:[_.jsx(qt,{text:"Make an Appointment",className:"text-sm md:text-base",onClick:o}),_.jsx(c5,{nanny:t,isOpen:n,onClose:a})]})]})]})},f5=t=>{const e=new Date,n=new Date(t);let i=e.getFullYear()-n.getFullYear();const o=e.getMonth()-n.getMonth();return(o<0||o===0&&e.getDate()<n.getDate())&&i--,i},oS=({nanny:t,index:e,userId:n})=>{const i=()=>{n||_n.fire({icon:"warning",title:"You are not logged in!",text:"Please log in to add to favorites."})};return _.jsx("div",{className:"flex flex-col md:flex-row bg-white shadow-lg rounded-xl lg:rounded-3xl p-3 md:p-6 mb-8",children:_.jsxs("div",{className:"flex flex-col flex-1",children:[_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4",children:[_.jsxs("div",{className:"flex mb-4",children:[_.jsx("div",{className:"w-[100px] h-[100px] md:w-[120px] md:h-[120px] p-2 rounded-[20px] md:p-3 md:rounded-[30px] outline outline-2 outline-pink-200 mr-6 flex-shrink-0",children:_.jsx("img",{className:"rounded-[15px] object-cover",src:t.avatar_url,alt:t.name})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-400",children:"Nanny"}),_.jsx("p",{className:"text-xl md:text-2xl font-medium",children:t.name})]})]}),_.jsxs("div",{className:"flex flex-wrap xl:flex-nowrap ml-2 mb-auto justify-between items-center gap-2",children:[_.jsxs("p",{className:"flex items-center ",children:[_.jsx(i5,{className:"mr-2"}),t.location]}),_.jsxs("p",{children:["Price / 1 hour:"," ",_.jsxs("span",{className:"text-green-500 font-medium",children:[t.price_per_hour,"$"]})]}),_.jsxs("p",{className:"flex items-center",children:[_.jsx(iS,{className:"mr-1 text-yellow-500"}),"Rating: ",t.rating]}),_.jsx(s5,{nanny:t,nannyId:t.nannyId,userId:n,onClick:i})]})]}),_.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-6 ",children:[_.jsxs("p",{className:"bg-gray-100 text-gray-600 rounded-full px-4 py-2",children:["Age:"," ",_.jsx("span",{className:"text-black underline",children:f5(t.birthday)})]}),_.jsxs("p",{className:"bg-gray-100 text-gray-600 rounded-full px-4 py-2",children:["Experience: ",_.jsx("span",{className:"text-black",children:t.experience})]}),_.jsxs("p",{className:"bg-gray-100 text-gray-600 rounded-full px-4 py-2",children:["Kids Age: ",_.jsx("span",{className:"text-black",children:t.kids_age})]}),_.jsxs("p",{className:"bg-gray-100 text-gray-600 rounded-full px-4 py-2",children:["Education: ",_.jsx("span",{className:"text-black",children:t.education})]})]}),_.jsx("p",{className:"text-gray-500 mb-3",children:t.about}),_.jsx(d5,{nanny:t})]})},e)},h5=({filterNannies:t,visibleCards:e,setVisibleCards:n,userId:i})=>{const o=t();return _.jsxs("div",{children:[o.slice(0,e).map(a=>_.jsx(oS,{nanny:a,userId:i},a.nannyId)),e<o.length&&_.jsx(qt,{text:"Load more",onClick:()=>n(e+3),className:"mx-auto mt-16 mb-24"})]})},p5=({filter:t,setFilter:e})=>{const n=i=>{e(i.target.value)};return _.jsxs("div",{className:"flex flex-col mb-8",children:[_.jsx("label",{htmlFor:"filter",className:"mb-2 font-medium text-gray-500",children:"Filters"}),_.jsxs("select",{id:"filter",value:t,onChange:n,className:"block text-base md:text-lg w-36 md:w-52 px-3 py-2 md:px-5 md:py-4  text-white bg-[--prime] border rounded-2xl shadow-sm",children:[_.jsx("option",{value:"rating-asc",children:"Popular"}),_.jsx("option",{value:"prise-desc",children:"Higher Price"}),_.jsx("option",{value:"prise-asc",children:"Lower Price"}),_.jsx("option",{value:"default",children:"Default"})]})]})},m5=({uniqueCities:t,selectedCity:e,setSelectedCity:n})=>{const i=o=>{n(o.target.value)};return _.jsxs("div",{className:"flex flex-col mb-8",children:[_.jsx("label",{htmlFor:"city",className:"mb-2 font-medium text-gray-500 text-end",children:"City"}),_.jsxs("div",{className:"relative",children:[_.jsxs("select",{id:"city",value:e,onChange:i,className:"block  text-base md:text-lg w-36 md:w-52 px-3 py-2 md:px-5 md:py-4 bg-white border rounded-2xl shadow-sm",children:[_.jsx("option",{value:"",children:"All Cities"}),t.map(o=>_.jsx("option",{value:o,children:o},o))]}),_.jsx(a5,{className:"absolute top-2.5 md:top-5 right-3 text-xl text-gray-500"})]})]})},g5=()=>{var N;const e=(N=Qi().currentUser)==null?void 0:N.uid,[n,i]=b.useState([]),[o,a]=b.useState(3),[u,d]=b.useState(!0),[h,m]=b.useState("default"),[y,w]=b.useState("");b.useEffect(()=>{(async()=>{d(!0);const I=await GD();if(I){const M=Object.entries(I).map(([z,Z])=>({...Z,nannyId:z}));i(M)}d(!1)})()},[]);const v=R=>R.split(",")[0].trim(),x=[...new Set(n.map(R=>v(R.location)))],C=()=>{let R=n;switch(y&&(R=R.filter(I=>v(I.location)===y)),h){case"prise-asc":return R.slice().sort((I,M)=>I.price_per_hour-M.price_per_hour);case"prise-desc":return R.slice().sort((I,M)=>M.price_per_hour-I.price_per_hour);case"rating-asc":return R.slice().sort((I,M)=>M.rating-I.rating);default:return R}};return u?_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("p",{className:"text-center text-gray-500 mt-10 mb-5",children:"Loading nannies ..."}),_.jsx("span",{className:"text-center loader"})]}):_.jsxs("div",{className:"flex flex-col",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx(p5,{filter:h,setFilter:m}),_.jsx(m5,{uniqueCities:x,selectedCity:y,setSelectedCity:w})]}),_.jsx(h5,{nannies:n,filterNannies:C,visibleCards:o,setVisibleCards:a,userId:e})]})},v5=()=>_.jsxs(_.Fragment,{children:[_.jsx(il,{}),_.jsx("section",{className:"bg-gray-100 min-h-screen pt-6 md:pt-12 xl:pt-24 px-4 md:px-16 xl:px-32",children:_.jsx(g5,{})})]}),y5=()=>{var u;const e=(u=Qi().currentUser)==null?void 0:u.uid,{favorites:n,isLoading:i}=w1(),[o,a]=b.useState(3);return i?_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("p",{className:"text-center text-gray-500 mt-10 mb-5",children:"Loading your favorites..."}),_.jsx("span",{className:"text-center loader"})]}):!n||n.length===0?_.jsx("p",{className:"text-center text-gray-500 mt-10",children:"You have no favorite nannies yet."}):_.jsxs("div",{className:"flex flex-col",children:[n.slice(0,o).map(d=>_.jsx(oS,{nanny:d,userId:e},d.nannyId)),o<n.length&&_.jsx(qt,{text:"Load more",onClick:()=>a(o+3),className:"mx-auto mt-16 mb-24 "})]})},w5=()=>_.jsxs(_.Fragment,{children:[_.jsx(il,{}),_.jsx("section",{className:"bg-gray-100 min-h-screen pt-24 px-4 md:px-16 xl:px-32",children:_.jsx(y5,{})})]}),_5=()=>_.jsx(LA,{children:_.jsxs(Kb,{children:[_.jsx(Ds,{path:"/",element:_.jsx(zD,{})}),_.jsx(Ds,{path:"login",element:_.jsx(Z4,{})}),_.jsx(Ds,{path:"register",element:_.jsx(t5,{})}),_.jsx(Ds,{path:"nannies",element:_.jsx(v5,{})}),_.jsx(Ds,{path:"favorites",element:_.jsx(w5,{})})]})});O2.createRoot(document.getElementById("root")).render(_.jsx(b.StrictMode,{children:_.jsx(y2,{basename:"/nannies-app/",children:_.jsx(_5,{})})}))});export default E5();
