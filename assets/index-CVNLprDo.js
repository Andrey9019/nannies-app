var YS=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var f5=YS((nn,rn)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function La(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zf={exports:{}},ea={},Vf={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function QS(){if(ly)return ge;ly=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=w&&I[w]||I["@@iterator"],typeof I=="function"?I:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,P={};function R(I,j,de){this.props=I,this.context=j,this.refs=P,this.updater=de||C}R.prototype.isReactComponent={},R.prototype.setState=function(I,j){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,j,"setState")},R.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function k(){}k.prototype=R.prototype;function M(I,j,de){this.props=I,this.context=j,this.refs=P,this.updater=de||C}var V=M.prototype=new k;V.constructor=M,x(V,R.prototype),V.isPureReactComponent=!0;var ee=Array.isArray,F=Object.prototype.hasOwnProperty,W={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function _e(I,j,de){var fe,me={},Ee=null,Ne=null;if(j!=null)for(fe in j.ref!==void 0&&(Ne=j.ref),j.key!==void 0&&(Ee=""+j.key),j)F.call(j,fe)&&!Q.hasOwnProperty(fe)&&(me[fe]=j[fe]);var Te=arguments.length-2;if(Te===1)me.children=de;else if(1<Te){for(var Me=Array(Te),St=0;St<Te;St++)Me[St]=arguments[St+2];me.children=Me}if(I&&I.defaultProps)for(fe in Te=I.defaultProps,Te)me[fe]===void 0&&(me[fe]=Te[fe]);return{$$typeof:t,type:I,key:Ee,ref:Ne,props:me,_owner:W.current}}function pe(I,j){return{$$typeof:t,type:I.type,key:j,ref:I.ref,props:I.props,_owner:I._owner}}function je(I){return typeof I=="object"&&I!==null&&I.$$typeof===t}function Ce(I){var j={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(de){return j[de]})}var ot=/\/+/g;function Le(I,j){return typeof I=="object"&&I!==null&&I.key!=null?Ce(""+I.key):j.toString(36)}function at(I,j,de,fe,me){var Ee=typeof I;(Ee==="undefined"||Ee==="boolean")&&(I=null);var Ne=!1;if(I===null)Ne=!0;else switch(Ee){case"string":case"number":Ne=!0;break;case"object":switch(I.$$typeof){case t:case e:Ne=!0}}if(Ne)return Ne=I,me=me(Ne),I=fe===""?"."+Le(Ne,0):fe,ee(me)?(de="",I!=null&&(de=I.replace(ot,"$&/")+"/"),at(me,j,de,"",function(St){return St})):me!=null&&(je(me)&&(me=pe(me,de+(!me.key||Ne&&Ne.key===me.key?"":(""+me.key).replace(ot,"$&/")+"/")+I)),j.push(me)),1;if(Ne=0,fe=fe===""?".":fe+":",ee(I))for(var Te=0;Te<I.length;Te++){Ee=I[Te];var Me=fe+Le(Ee,Te);Ne+=at(Ee,j,de,Me,me)}else if(Me=v(I),typeof Me=="function")for(I=Me.call(I),Te=0;!(Ee=I.next()).done;)Ee=Ee.value,Me=fe+Le(Ee,Te++),Ne+=at(Ee,j,de,Me,me);else if(Ee==="object")throw j=String(I),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return Ne}function Xt(I,j,de){if(I==null)return I;var fe=[],me=0;return at(I,fe,"","",function(Ee){return j.call(de,Ee,me++)}),fe}function Ct(I){if(I._status===-1){var j=I._result;j=j(),j.then(function(de){(I._status===0||I._status===-1)&&(I._status=1,I._result=de)},function(de){(I._status===0||I._status===-1)&&(I._status=2,I._result=de)}),I._status===-1&&(I._status=0,I._result=j)}if(I._status===1)return I._result.default;throw I._result}var Ge={current:null},q={transition:null},ie={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:q,ReactCurrentOwner:W};function Y(){throw Error("act(...) is not supported in production builds of React.")}return ge.Children={map:Xt,forEach:function(I,j,de){Xt(I,function(){j.apply(this,arguments)},de)},count:function(I){var j=0;return Xt(I,function(){j++}),j},toArray:function(I){return Xt(I,function(j){return j})||[]},only:function(I){if(!je(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},ge.Component=R,ge.Fragment=n,ge.Profiler=o,ge.PureComponent=M,ge.StrictMode=i,ge.Suspense=h,ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,ge.act=Y,ge.cloneElement=function(I,j,de){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var fe=x({},I.props),me=I.key,Ee=I.ref,Ne=I._owner;if(j!=null){if(j.ref!==void 0&&(Ee=j.ref,Ne=W.current),j.key!==void 0&&(me=""+j.key),I.type&&I.type.defaultProps)var Te=I.type.defaultProps;for(Me in j)F.call(j,Me)&&!Q.hasOwnProperty(Me)&&(fe[Me]=j[Me]===void 0&&Te!==void 0?Te[Me]:j[Me])}var Me=arguments.length-2;if(Me===1)fe.children=de;else if(1<Me){Te=Array(Me);for(var St=0;St<Me;St++)Te[St]=arguments[St+2];fe.children=Te}return{$$typeof:t,type:I.type,key:me,ref:Ee,props:fe,_owner:Ne}},ge.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:a,_context:I},I.Consumer=I},ge.createElement=_e,ge.createFactory=function(I){var j=_e.bind(null,I);return j.type=I,j},ge.createRef=function(){return{current:null}},ge.forwardRef=function(I){return{$$typeof:d,render:I}},ge.isValidElement=je,ge.lazy=function(I){return{$$typeof:y,_payload:{_status:-1,_result:I},_init:Ct}},ge.memo=function(I,j){return{$$typeof:m,type:I,compare:j===void 0?null:j}},ge.startTransition=function(I){var j=q.transition;q.transition={};try{I()}finally{q.transition=j}},ge.unstable_act=Y,ge.useCallback=function(I,j){return Ge.current.useCallback(I,j)},ge.useContext=function(I){return Ge.current.useContext(I)},ge.useDebugValue=function(){},ge.useDeferredValue=function(I){return Ge.current.useDeferredValue(I)},ge.useEffect=function(I,j){return Ge.current.useEffect(I,j)},ge.useId=function(){return Ge.current.useId()},ge.useImperativeHandle=function(I,j,de){return Ge.current.useImperativeHandle(I,j,de)},ge.useInsertionEffect=function(I,j){return Ge.current.useInsertionEffect(I,j)},ge.useLayoutEffect=function(I,j){return Ge.current.useLayoutEffect(I,j)},ge.useMemo=function(I,j){return Ge.current.useMemo(I,j)},ge.useReducer=function(I,j,de){return Ge.current.useReducer(I,j,de)},ge.useRef=function(I){return Ge.current.useRef(I)},ge.useState=function(I){return Ge.current.useState(I)},ge.useSyncExternalStore=function(I,j,de){return Ge.current.useSyncExternalStore(I,j,de)},ge.useTransition=function(){return Ge.current.useTransition()},ge.version="18.3.1",ge}var uy;function ep(){return uy||(uy=1,Vf.exports=QS()),Vf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cy;function XS(){if(cy)return ea;cy=1;var t=ep(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,h,m){var y,w={},v=null,C=null;m!==void 0&&(v=""+m),h.key!==void 0&&(v=""+h.key),h.ref!==void 0&&(C=h.ref);for(y in h)i.call(h,y)&&!a.hasOwnProperty(y)&&(w[y]=h[y]);if(d&&d.defaultProps)for(y in h=d.defaultProps,h)w[y]===void 0&&(w[y]=h[y]);return{$$typeof:e,type:d,key:v,ref:C,props:w,_owner:o.current}}return ea.Fragment=n,ea.jsx=u,ea.jsxs=u,ea}var dy;function JS(){return dy||(dy=1,zf.exports=XS()),zf.exports}var _=JS(),b=ep();const Ui=La(b);var ta={},fy;function ZS(){if(fy)return ta;fy=1,Object.defineProperty(ta,"__esModule",{value:!0}),ta.parse=u,ta.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const v=function(){};return v.prototype=Object.create(null),v})();function u(v,C){const x=new a,P=v.length;if(P<2)return x;const R=(C==null?void 0:C.decode)||y;let k=0;do{const M=v.indexOf("=",k);if(M===-1)break;const V=v.indexOf(";",k),ee=V===-1?P:V;if(M>ee){k=v.lastIndexOf(";",M-1)+1;continue}const F=d(v,k,M),W=h(v,M,F),Q=v.slice(F,W);if(x[Q]===void 0){let _e=d(v,M+1,ee),pe=h(v,ee,_e);const je=R(v.slice(_e,pe));x[Q]=je}k=ee+1}while(k<P);return x}function d(v,C,x){do{const P=v.charCodeAt(C);if(P!==32&&P!==9)return C}while(++C<x);return x}function h(v,C,x){for(;C>x;){const P=v.charCodeAt(--C);if(P!==32&&P!==9)return C+1}return x}function m(v,C,x){const P=(x==null?void 0:x.encode)||encodeURIComponent;if(!t.test(v))throw new TypeError(`argument name is invalid: ${v}`);const R=P(C);if(!e.test(R))throw new TypeError(`argument val is invalid: ${C}`);let k=v+"="+R;if(!x)return k;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);k+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);k+="; Domain="+x.domain}if(x.path){if(!i.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);k+="; Path="+x.path}if(x.expires){if(!w(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);k+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(k+="; HttpOnly"),x.secure&&(k+="; Secure"),x.partitioned&&(k+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":k+="; Priority=Low";break;case"medium":k+="; Priority=Medium";break;case"high":k+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":k+="; SameSite=Strict";break;case"lax":k+="; SameSite=Lax";break;case"none":k+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return k}function y(v){if(v.indexOf("%")===-1)return v;try{return decodeURIComponent(v)}catch{return v}}function w(v){return o.call(v)==="[object Date]"}return ta}ZS();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hy="popstate";function eb(t={}){function e(i,o){let{pathname:a,search:u,hash:d}=i.location;return xh("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:wa(o)}return nb(e,n,null,t)}function Ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function tb(){return Math.random().toString(36).substring(2,10)}function py(t,e){return{usr:t.state,key:t.key,idx:e}}function xh(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?eo(e):e,state:n,key:e&&e.key||i||tb()}}function wa({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function eo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function nb(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,d="POP",h=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function w(){d="POP";let R=y(),k=R==null?null:R-m;m=R,h&&h({action:d,location:P.location,delta:k})}function v(R,k){d="PUSH";let M=xh(P.location,R,k);m=y()+1;let V=py(M,m),ee=P.createHref(M);try{u.pushState(V,"",ee)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;o.location.assign(ee)}a&&h&&h({action:d,location:P.location,delta:1})}function C(R,k){d="REPLACE";let M=xh(P.location,R,k);m=y();let V=py(M,m),ee=P.createHref(M);u.replaceState(V,"",ee),a&&h&&h({action:d,location:P.location,delta:0})}function x(R){let k=o.location.origin!=="null"?o.location.origin:o.location.href,M=typeof R=="string"?R:wa(R);return M=M.replace(/ $/,"%20"),Ze(k,`No window.location.(origin|href) available to create URL for href: ${M}`),new URL(M,k)}let P={get action(){return d},get location(){return t(o,u)},listen(R){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(hy,w),h=R,()=>{o.removeEventListener(hy,w),h=null}},createHref(R){return e(o,R)},createURL:x,encodeLocation(R){let k=x(R);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:C,go(R){return u.go(R)}};return P}function L_(t,e,n="/"){return rb(t,e,n,!1)}function rb(t,e,n,i){let o=typeof e=="string"?eo(e):e,a=ui(o.pathname||"/",n);if(a==null)return null;let u=D_(t);ib(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=mb(a);d=hb(u[h],m,i)}return d}function D_(t,e=[],n=[],i=""){let o=(a,u,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(Ze(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length));let m=pr([i,h.relativePath]),y=n.concat(h);a.children&&a.children.length>0&&(Ze(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),D_(a.children,e,y,m)),!(a.path==null&&!a.index)&&e.push({path:m,score:db(m,a.index),routesMeta:y})};return t.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let h of M_(a.path))o(a,u,h)}),e}function M_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=M_(i.join("/")),d=[];return d.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&d.push(...u),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function ib(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fb(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var sb=/^:[\w-]+$/,ob=3,ab=2,lb=1,ub=10,cb=-2,my=t=>t==="*";function db(t,e){let n=t.split("/"),i=n.length;return n.some(my)&&(i+=cb),e&&(i+=ab),n.filter(o=>!my(o)).reduce((o,a)=>o+(sb.test(a)?ob:a===""?lb:ub),i)}function fb(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function hb(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",u=[];for(let d=0;d<i.length;++d){let h=i[d],m=d===i.length-1,y=a==="/"?e:e.slice(a.length)||"/",w=ju({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},y),v=h.route;if(!w&&m&&n&&!i[i.length-1].route.index&&(w=ju({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:pr([a,w.pathname]),pathnameBase:wb(pr([a,w.pathnameBase])),route:v}),w.pathnameBase!=="/"&&(a=pr([a,w.pathnameBase]))}return u}function ju(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=pb(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((m,{paramName:y,isOptional:w},v)=>{if(y==="*"){let x=d[v]||"";u=a.slice(0,a.length-x.length).replace(/(.)\/+$/,"$1")}const C=d[v];return w&&!C?m[y]=void 0:m[y]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:a,pathnameBase:u,pattern:t}}function pb(t,e=!1,n=!0){qn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(i.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function mb(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qn(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ui(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function gb(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?eo(t):t;return{pathname:n?n.startsWith("/")?n:vb(n,e):e,search:_b(i),hash:Eb(o)}}function vb(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yb(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function F_(t){let e=yb(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function j_(t,e,n,i=!1){let o;typeof t=="string"?o=eo(t):(o={...t},Ze(!o.pathname||!o.pathname.includes("?"),Hf("?","pathname","search",o)),Ze(!o.pathname||!o.pathname.includes("#"),Hf("#","pathname","hash",o)),Ze(!o.search||!o.search.includes("#"),Hf("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=n;else{let w=e.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),w-=1;o.pathname=v.join("/")}d=w>=0?e[w]:"/"}let h=gb(o,d),m=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(m||y)&&(h.pathname+="/"),h}var pr=t=>t.join("/").replace(/\/\/+/g,"/"),wb=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_b=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Eb=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xb(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var $_=["POST","PUT","PATCH","DELETE"];new Set($_);var Cb=["GET",...$_];new Set(Cb);var to=b.createContext(null);to.displayName="DataRouter";var xc=b.createContext(null);xc.displayName="DataRouterState";var U_=b.createContext({isTransitioning:!1});U_.displayName="ViewTransition";var Sb=b.createContext(new Map);Sb.displayName="Fetchers";var bb=b.createContext(null);bb.displayName="Await";var Yn=b.createContext(null);Yn.displayName="Navigation";var Da=b.createContext(null);Da.displayName="Location";var Er=b.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var tp=b.createContext(null);tp.displayName="RouteError";function Tb(t,{relative:e}={}){Ze(Ma(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=b.useContext(Yn),{hash:o,pathname:a,search:u}=ja(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:pr([n,a])),i.createHref({pathname:d,search:u,hash:o})}function Ma(){return b.useContext(Da)!=null}function pi(){return Ze(Ma(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Da).location}var B_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function z_(t){b.useContext(Yn).static||b.useLayoutEffect(t)}function Fa(){let{isDataRoute:t}=b.useContext(Er);return t?$b():Ib()}function Ib(){Ze(Ma(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(to),{basename:e,navigator:n}=b.useContext(Yn),{matches:i}=b.useContext(Er),{pathname:o}=pi(),a=JSON.stringify(F_(i)),u=b.useRef(!1);return z_(()=>{u.current=!0}),b.useCallback((h,m={})=>{if(qn(u.current,B_),!u.current)return;if(typeof h=="number"){n.go(h);return}let y=j_(h,JSON.parse(a),o,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:pr([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,a,o,t])}b.createContext(null);function ja(t,{relative:e}={}){let{matches:n}=b.useContext(Er),{pathname:i}=pi(),o=JSON.stringify(F_(n));return b.useMemo(()=>j_(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function kb(t,e){return V_(t,e)}function V_(t,e,n,i){var k;Ze(Ma(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=b.useContext(Yn),{matches:a}=b.useContext(Er),u=a[a.length-1],d=u?u.params:{},h=u?u.pathname:"/",m=u?u.pathnameBase:"/",y=u&&u.route;{let M=y&&y.path||"";H_(h,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let w=pi(),v;if(e){let M=typeof e=="string"?eo(e):e;Ze(m==="/"||((k=M.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${M.pathname}" was given in the \`location\` prop.`),v=M}else v=w;let C=v.pathname||"/",x=C;if(m!=="/"){let M=m.replace(/^\//,"").split("/");x="/"+C.replace(/^\//,"").split("/").slice(M.length).join("/")}let P=L_(t,{pathname:x});qn(y||P!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),qn(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Ob(P&&P.map(M=>Object.assign({},M,{params:Object.assign({},d,M.params),pathname:pr([m,o.encodeLocation?o.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?m:pr([m,o.encodeLocation?o.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),a,n,i);return e&&R?b.createElement(Da.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},R):R}function Pb(){let t=jb(),e=xb(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:o},n):null,u)}var Nb=b.createElement(Pb,null),Rb=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?b.createElement(Er.Provider,{value:this.props.routeContext},b.createElement(tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Ab({routeContext:t,match:e,children:n}){let i=b.useContext(to);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Er.Provider,{value:t},n)}function Ob(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let h=o.findIndex(m=>m.route.id&&(a==null?void 0:a[m.route.id])!==void 0);Ze(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,h+1))}let u=!1,d=-1;if(n)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:y,errors:w}=n,v=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!w||w[m.route.id]===void 0);if(m.route.lazy||v){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,m,y)=>{let w,v=!1,C=null,x=null;n&&(w=a&&m.route.id?a[m.route.id]:void 0,C=m.route.errorElement||Nb,u&&(d<0&&y===0?(H_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,x=null):d===y&&(v=!0,x=m.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,y+1)),R=()=>{let k;return w?k=C:v?k=x:m.route.Component?k=b.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=h,b.createElement(Ab,{match:m,routeContext:{outlet:h,matches:P,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?b.createElement(Rb,{location:n.location,revalidation:n.revalidation,component:C,error:w,children:R(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):R()},null)}function np(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Lb(t){let e=b.useContext(to);return Ze(e,np(t)),e}function Db(t){let e=b.useContext(xc);return Ze(e,np(t)),e}function Mb(t){let e=b.useContext(Er);return Ze(e,np(t)),e}function rp(t){let e=Mb(t),n=e.matches[e.matches.length-1];return Ze(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Fb(){return rp("useRouteId")}function jb(){var i;let t=b.useContext(tp),e=Db("useRouteError"),n=rp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function $b(){let{router:t}=Lb("useNavigate"),e=rp("useNavigate"),n=b.useRef(!1);return z_(()=>{n.current=!0}),b.useCallback(async(o,a={})=>{qn(n.current,B_),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var gy={};function H_(t,e,n){!e&&!gy[t]&&(gy[t]=!0,qn(!1,n))}b.memo(Ub);function Ub({routes:t,future:e,state:n}){return V_(t,void 0,n,e)}function Ls(t){Ze(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bb({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1}){Ze(!Ma(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=b.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=eo(n));let{pathname:h="/",search:m="",hash:y="",state:w=null,key:v="default"}=n,C=b.useMemo(()=>{let x=ui(h,u);return x==null?null:{location:{pathname:x,search:m,hash:y,state:w,key:v},navigationType:i}},[u,h,m,y,w,v,i]);return qn(C!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:b.createElement(Yn.Provider,{value:d},b.createElement(Da.Provider,{children:e,value:C}))}function zb({children:t,location:e}){return kb(Ch(t),e)}function Ch(t,e=[]){let n=[];return b.Children.forEach(t,(i,o)=>{if(!b.isValidElement(i))return;let a=[...e,o];if(i.type===b.Fragment){n.push.apply(n,Ch(i.props.children,a));return}Ze(i.type===Ls,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ze(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Ch(i.props.children,a)),n.push(u)}),n}var Iu="get",ku="application/x-www-form-urlencoded";function Cc(t){return t!=null&&typeof t.tagName=="string"}function Vb(t){return Cc(t)&&t.tagName.toLowerCase()==="button"}function Hb(t){return Cc(t)&&t.tagName.toLowerCase()==="form"}function Wb(t){return Cc(t)&&t.tagName.toLowerCase()==="input"}function qb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Gb(t,e){return t.button===0&&(!e||e==="_self")&&!qb(t)}var yu=null;function Kb(){if(yu===null)try{new FormData(document.createElement("form"),0),yu=!1}catch{yu=!0}return yu}var Yb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wf(t){return t!=null&&!Yb.has(t)?(qn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ku}"`),null):t}function Qb(t,e){let n,i,o,a,u;if(Hb(t)){let d=t.getAttribute("action");i=d?ui(d,e):null,n=t.getAttribute("method")||Iu,o=Wf(t.getAttribute("enctype"))||ku,a=new FormData(t)}else if(Vb(t)||Wb(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(i=h?ui(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Iu,o=Wf(t.getAttribute("formenctype"))||Wf(d.getAttribute("enctype"))||ku,a=new FormData(d,t),!Kb()){let{name:m,type:y,value:w}=t;if(y==="image"){let v=m?`${m}.`:"";a.append(`${v}x`,"0"),a.append(`${v}y`,"0")}else m&&a.append(m,w)}}else{if(Cc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Iu,i=null,o=ku,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:u}}function ip(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Xb(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Jb(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Zb(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await Xb(a,n);return u.links?u.links():[]}return[]}));return r2(i.flat(1).filter(Jb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function vy(t,e,n,i,o,a){let u=(h,m)=>n[m]?h.route.id!==n[m].route.id:!0,d=(h,m)=>{var y;return n[m].pathname!==h.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,m)=>u(h,m)||d(h,m)):a==="data"?e.filter((h,m)=>{var w;let y=i.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(u(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let v=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function e2(t,e){return t2(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function t2(t){return[...new Set(t)]}function n2(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function r2(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(n2(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function i2(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function s2(){let t=b.useContext(to);return ip(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function o2(){let t=b.useContext(xc);return ip(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sp=b.createContext(void 0);sp.displayName="FrameworkContext";function W_(){let t=b.useContext(sp);return ip(t,"You must render this element inside a <HydratedRouter> element"),t}function a2(t,e){let n=b.useContext(sp),[i,o]=b.useState(!1),[a,u]=b.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:y,onTouchStart:w}=e,v=b.useRef(null);b.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let P=k=>{k.forEach(M=>{u(M.isIntersecting)})},R=new IntersectionObserver(P,{threshold:.5});return v.current&&R.observe(v.current),()=>{R.disconnect()}}},[t]),b.useEffect(()=>{if(i){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[i]);let C=()=>{o(!0)},x=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,v,{}]:[a,v,{onFocus:na(d,C),onBlur:na(h,x),onMouseEnter:na(m,C),onMouseLeave:na(y,x),onTouchStart:na(w,C)}]:[!1,v,{}]}function na(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function l2({page:t,...e}){let{router:n}=s2(),i=b.useMemo(()=>L_(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?b.createElement(c2,{page:t,matches:i,...e}):(console.warn(`Tried to prefetch ${t} but no routes matched.`),null)}function u2(t){let{manifest:e,routeModules:n}=W_(),[i,o]=b.useState([]);return b.useEffect(()=>{let a=!1;return Zb(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),i}function c2({page:t,matches:e,...n}){let i=pi(),{manifest:o,routeModules:a}=W_(),{loaderData:u,matches:d}=o2(),h=b.useMemo(()=>vy(t,e,d,o,i,"data"),[t,e,d,o,i]),m=b.useMemo(()=>vy(t,e,d,o,i,"assets"),[t,e,d,o,i]),y=b.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let C=new Set,x=!1;if(e.forEach(R=>{var M;let k=o.routes[R.route.id];!k||!k.hasLoader||(!h.some(V=>V.route.id===R.route.id)&&R.route.id in u&&((M=a[R.route.id])!=null&&M.shouldRevalidate)||k.hasClientLoader?x=!0:C.add(R.route.id))}),C.size===0)return[];let P=i2(t);return x&&C.size>0&&P.searchParams.set("_routes",e.filter(R=>C.has(R.route.id)).map(R=>R.route.id).join(",")),[P.pathname+P.search]},[u,i,o,h,e,t,a]),w=b.useMemo(()=>e2(m,o),[m,o]),v=u2(m);return b.createElement(b.Fragment,null,y.map(C=>b.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),w.map(C=>b.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),v.map(({key:C,link:x})=>b.createElement("link",{key:C,...x})))}function d2(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var q_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{q_&&(window.__reactRouterVersion="7.0.2")}catch{}function f2({basename:t,children:e,window:n}){let i=b.useRef();i.current==null&&(i.current=eb({window:n,v5Compat:!0}));let o=i.current,[a,u]=b.useState({action:o.action,location:o.location}),d=b.useCallback(h=>{b.startTransition(()=>u(h))},[u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.createElement(Bb,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var G_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$a=b.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:d,target:h,to:m,preventScrollReset:y,viewTransition:w,...v},C){let{basename:x}=b.useContext(Yn),P=typeof m=="string"&&G_.test(m),R,k=!1;if(typeof m=="string"&&P&&(R=m,q_))try{let pe=new URL(window.location.href),je=m.startsWith("//")?new URL(pe.protocol+m):new URL(m),Ce=ui(je.pathname,x);je.origin===pe.origin&&Ce!=null?m=Ce+je.search+je.hash:k=!0}catch{qn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let M=Tb(m,{relative:o}),[V,ee,F]=a2(i,v),W=m2(m,{replace:u,state:d,target:h,preventScrollReset:y,relative:o,viewTransition:w});function Q(pe){e&&e(pe),pe.defaultPrevented||W(pe)}let _e=b.createElement("a",{...v,...F,href:R||M,onClick:k||a?e:Q,ref:d2(C,ee),target:h,"data-discover":!P&&n==="render"?"true":void 0});return V&&!P?b.createElement(b.Fragment,null,_e,b.createElement(l2,{page:M})):_e});$a.displayName="Link";var kn=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:d,children:h,...m},y){let w=ja(u,{relative:m.relative}),v=pi(),C=b.useContext(xc),{navigator:x,basename:P}=b.useContext(Yn),R=C!=null&&_2(w)&&d===!0,k=x.encodeLocation?x.encodeLocation(w).pathname:w.pathname,M=v.pathname,V=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;n||(M=M.toLowerCase(),V=V?V.toLowerCase():null,k=k.toLowerCase()),V&&P&&(V=ui(V,P)||V);const ee=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let F=M===k||!o&&M.startsWith(k)&&M.charAt(ee)==="/",W=V!=null&&(V===k||!o&&V.startsWith(k)&&V.charAt(k.length)==="/"),Q={isActive:F,isPending:W,isTransitioning:R},_e=F?e:void 0,pe;typeof i=="function"?pe=i(Q):pe=[i,F?"active":null,W?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let je=typeof a=="function"?a(Q):a;return b.createElement($a,{...m,"aria-current":_e,className:pe,ref:y,style:je,to:u,viewTransition:d},typeof h=="function"?h(Q):h)});kn.displayName="NavLink";var h2=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:u=Iu,action:d,onSubmit:h,relative:m,preventScrollReset:y,viewTransition:w,...v},C)=>{let x=y2(),P=w2(d,{relative:m}),R=u.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&G_.test(d),M=V=>{if(h&&h(V),V.defaultPrevented)return;V.preventDefault();let ee=V.nativeEvent.submitter,F=(ee==null?void 0:ee.getAttribute("formmethod"))||u;x(ee||V.currentTarget,{fetcherKey:e,method:F,navigate:n,replace:o,state:a,relative:m,preventScrollReset:y,viewTransition:w})};return b.createElement("form",{ref:C,method:R,action:P,onSubmit:i?h:M,...v,"data-discover":!k&&t==="render"?"true":void 0})});h2.displayName="Form";function p2(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K_(t){let e=b.useContext(to);return Ze(e,p2(t)),e}function m2(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let d=Fa(),h=pi(),m=ja(t,{relative:a});return b.useCallback(y=>{if(Gb(y,e)){y.preventDefault();let w=n!==void 0?n:wa(h)===wa(m);d(t,{replace:w,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[h,d,m,n,i,e,t,o,a,u])}var g2=0,v2=()=>`__${String(++g2)}__`;function y2(){let{router:t}=K_("useSubmit"),{basename:e}=b.useContext(Yn),n=Fb();return b.useCallback(async(i,o={})=>{let{action:a,method:u,encType:d,formData:h,body:m}=Qb(i,e);if(o.navigate===!1){let y=o.fetcherKey||v2();await t.fetch(y,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:h,body:m,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function w2(t,{relative:e}={}){let{basename:n}=b.useContext(Yn),i=b.useContext(Er);Ze(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...ja(t||".",{relative:e})},u=pi();if(t==null){a.search=u.search;let d=new URLSearchParams(a.search),h=d.getAll("index");if(h.some(y=>y==="")){d.delete("index"),h.filter(w=>w).forEach(w=>d.append("index",w));let y=d.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:pr([n,a.pathname])),wa(a)}function _2(t,e={}){let n=b.useContext(U_);Ze(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=K_("useViewTransitionState"),o=ja(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=ui(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=ui(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ju(o.pathname,u)!=null||ju(o.pathname,a)!=null}new TextEncoder;var qf={exports:{}},Bt={},Gf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function E2(){return yy||(yy=1,function(t){function e(q,ie){var Y=q.length;q.push(ie);e:for(;0<Y;){var I=Y-1>>>1,j=q[I];if(0<o(j,ie))q[I]=ie,q[Y]=j,Y=I;else break e}}function n(q){return q.length===0?null:q[0]}function i(q){if(q.length===0)return null;var ie=q[0],Y=q.pop();if(Y!==ie){q[0]=Y;e:for(var I=0,j=q.length,de=j>>>1;I<de;){var fe=2*(I+1)-1,me=q[fe],Ee=fe+1,Ne=q[Ee];if(0>o(me,Y))Ee<j&&0>o(Ne,me)?(q[I]=Ne,q[Ee]=Y,I=Ee):(q[I]=me,q[fe]=Y,I=fe);else if(Ee<j&&0>o(Ne,Y))q[I]=Ne,q[Ee]=Y,I=Ee;else break e}}return ie}function o(q,ie){var Y=q.sortIndex-ie.sortIndex;return Y!==0?Y:q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var h=[],m=[],y=1,w=null,v=3,C=!1,x=!1,P=!1,R=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function V(q){for(var ie=n(m);ie!==null;){if(ie.callback===null)i(m);else if(ie.startTime<=q)i(m),ie.sortIndex=ie.expirationTime,e(h,ie);else break;ie=n(m)}}function ee(q){if(P=!1,V(q),!x)if(n(h)!==null)x=!0,Ct(F);else{var ie=n(m);ie!==null&&Ge(ee,ie.startTime-q)}}function F(q,ie){x=!1,P&&(P=!1,k(_e),_e=-1),C=!0;var Y=v;try{for(V(ie),w=n(h);w!==null&&(!(w.expirationTime>ie)||q&&!Ce());){var I=w.callback;if(typeof I=="function"){w.callback=null,v=w.priorityLevel;var j=I(w.expirationTime<=ie);ie=t.unstable_now(),typeof j=="function"?w.callback=j:w===n(h)&&i(h),V(ie)}else i(h);w=n(h)}if(w!==null)var de=!0;else{var fe=n(m);fe!==null&&Ge(ee,fe.startTime-ie),de=!1}return de}finally{w=null,v=Y,C=!1}}var W=!1,Q=null,_e=-1,pe=5,je=-1;function Ce(){return!(t.unstable_now()-je<pe)}function ot(){if(Q!==null){var q=t.unstable_now();je=q;var ie=!0;try{ie=Q(!0,q)}finally{ie?Le():(W=!1,Q=null)}}else W=!1}var Le;if(typeof M=="function")Le=function(){M(ot)};else if(typeof MessageChannel<"u"){var at=new MessageChannel,Xt=at.port2;at.port1.onmessage=ot,Le=function(){Xt.postMessage(null)}}else Le=function(){R(ot,0)};function Ct(q){Q=q,W||(W=!0,Le())}function Ge(q,ie){_e=R(function(){q(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_continueExecution=function(){x||C||(x=!0,Ct(F))},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pe=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(q){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var Y=v;v=ie;try{return q()}finally{v=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var Y=v;v=q;try{return ie()}finally{v=Y}},t.unstable_scheduleCallback=function(q,ie,Y){var I=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?I+Y:I):Y=I,q){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=Y+j,q={id:y++,callback:ie,priorityLevel:q,startTime:Y,expirationTime:j,sortIndex:-1},Y>I?(q.sortIndex=Y,e(m,q),n(h)===null&&q===n(m)&&(P?(k(_e),_e=-1):P=!0,Ge(ee,Y-I))):(q.sortIndex=j,e(h,q),x||C||(x=!0,Ct(F))),q},t.unstable_shouldYield=Ce,t.unstable_wrapCallback=function(q){var ie=v;return function(){var Y=v;v=ie;try{return q.apply(this,arguments)}finally{v=Y}}}}(Kf)),Kf}var wy;function x2(){return wy||(wy=1,Gf.exports=E2()),Gf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function C2(){if(_y)return Bt;_y=1;var t=ep(),e=x2();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function v(r){return h.call(w,r)?!0:h.call(y,r)?!1:m.test(r)?w[r]=!0:(y[r]=!0,!1)}function C(r,s,l,c){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function x(r,s,l,c){if(s===null||typeof s>"u"||C(r,s,l,c))return!0;if(c)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function P(r,s,l,c,f,p,g){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=p,this.removeEmptyString=g}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){R[r]=new P(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];R[s]=new P(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){R[r]=new P(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){R[r]=new P(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){R[r]=new P(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){R[r]=new P(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){R[r]=new P(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){R[r]=new P(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){R[r]=new P(r,5,!1,r.toLowerCase(),null,!1,!1)});var k=/[\-:]([a-z])/g;function M(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(k,M);R[s]=new P(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(k,M);R[s]=new P(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(k,M);R[s]=new P(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){R[r]=new P(r,1,!1,r.toLowerCase(),null,!1,!1)}),R.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){R[r]=new P(r,1,!1,r.toLowerCase(),null,!0,!0)});function V(r,s,l,c){var f=R.hasOwnProperty(s)?R[s]:null;(f!==null?f.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(x(s,l,f,c)&&(l=null),c||f===null?v(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(s=f.attributeName,c=f.attributeNamespace,l===null?r.removeAttribute(s):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,c?r.setAttributeNS(c,s,l):r.setAttribute(s,l))))}var ee=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F=Symbol.for("react.element"),W=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),pe=Symbol.for("react.profiler"),je=Symbol.for("react.provider"),Ce=Symbol.for("react.context"),ot=Symbol.for("react.forward_ref"),Le=Symbol.for("react.suspense"),at=Symbol.for("react.suspense_list"),Xt=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Ge=Symbol.for("react.offscreen"),q=Symbol.iterator;function ie(r){return r===null||typeof r!="object"?null:(r=q&&r[q]||r["@@iterator"],typeof r=="function"?r:null)}var Y=Object.assign,I;function j(r){if(I===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);I=s&&s[1]||""}return`
`+I+r}var de=!1;function fe(r,s){if(!r||de)return"";de=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(O){var c=O}Reflect.construct(r,[],s)}else{try{s.call()}catch(O){c=O}r.call(s.prototype)}else{try{throw Error()}catch(O){c=O}r()}}catch(O){if(O&&c&&typeof O.stack=="string"){for(var f=O.stack.split(`
`),p=c.stack.split(`
`),g=f.length-1,E=p.length-1;1<=g&&0<=E&&f[g]!==p[E];)E--;for(;1<=g&&0<=E;g--,E--)if(f[g]!==p[E]){if(g!==1||E!==1)do if(g--,E--,0>E||f[g]!==p[E]){var S=`
`+f[g].replace(" at new "," at ");return r.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",r.displayName)),S}while(1<=g&&0<=E);break}}}finally{de=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?j(r):""}function me(r){switch(r.tag){case 5:return j(r.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return r=fe(r.type,!1),r;case 11:return r=fe(r.type.render,!1),r;case 1:return r=fe(r.type,!0),r;default:return""}}function Ee(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case Q:return"Fragment";case W:return"Portal";case pe:return"Profiler";case _e:return"StrictMode";case Le:return"Suspense";case at:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case Ce:return(r.displayName||"Context")+".Consumer";case je:return(r._context.displayName||"Context")+".Provider";case ot:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Xt:return s=r.displayName||null,s!==null?s:Ee(r.type)||"Memo";case Ct:s=r._payload,r=r._init;try{return Ee(r(s))}catch{}}return null}function Ne(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(s);case 8:return s===_e?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Te(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Me(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function St(r){var s=Me(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,p=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(g){c=""+g,p.call(this,g)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(g){c=""+g},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function Tr(r){r._valueTracker||(r._valueTracker=St(r))}function al(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),c="";return r&&(c=Me(r)?r.checked?"true":"false":r.value),r=c,r!==l?(s.setValue(r),!0):!1}function yi(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function mo(r,s){var l=s.checked;return Y({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function ll(r,s){var l=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;l=Te(s.value!=null?s.value:l),r._wrapperState={initialChecked:c,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function ul(r,s){s=s.checked,s!=null&&V(r,"checked",s,!1)}function go(r,s){ul(r,s);var l=Te(s.value),c=s.type;if(l!=null)c==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?wi(r,s.type,l):s.hasOwnProperty("defaultValue")&&wi(r,s.type,Te(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function cl(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function wi(r,s,l){(s!=="number"||yi(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var _i=Array.isArray;function Ir(r,s,l,c){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&c&&(r[l].defaultSelected=!0)}else{for(l=""+Te(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,c&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function L(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return Y({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function K(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(_i(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Te(l)}}function te(r,s){var l=Te(s.value),c=Te(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),c!=null&&(r.defaultValue=""+c)}function re(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function he(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Se(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?he(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Qe,un=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,c,f){MSApp.execUnsafeLocalFunction(function(){return r(s,l,c,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Qe=Qe||document.createElement("div"),Qe.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Qe.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Xn(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Jn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qc=["Webkit","ms","Moz","O"];Object.keys(Jn).forEach(function(r){Qc.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Jn[s]=Jn[r]})});function Xc(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Jn.hasOwnProperty(r)&&Jn[r]?(""+s).trim():s+"px"}function vo(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var c=l.indexOf("--")===0,f=Xc(l,s[l],c);l==="float"&&(l="cssFloat"),c?r.setProperty(l,f):r[l]=f}}var Jc=Y({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zc(r,s){if(s){if(Jc[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function ed(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var td=null;function nd(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var rd=null,ls=null,us=null;function bm(r){if(r=$o(r)){if(typeof rd!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Ol(s),rd(r.stateNode,r.type,s))}}function Tm(r){ls?us?us.push(r):us=[r]:ls=r}function Im(){if(ls){var r=ls,s=us;if(us=ls=null,bm(r),s)for(r=0;r<s.length;r++)bm(s[r])}}function km(r,s){return r(s)}function Pm(){}var id=!1;function Nm(r,s,l){if(id)return r(s,l);id=!0;try{return km(r,s,l)}finally{id=!1,(ls!==null||us!==null)&&(Pm(),Im())}}function yo(r,s){var l=r.stateNode;if(l===null)return null;var c=Ol(l);if(c===null)return null;l=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var sd=!1;if(d)try{var wo={};Object.defineProperty(wo,"passive",{get:function(){sd=!0}}),window.addEventListener("test",wo,wo),window.removeEventListener("test",wo,wo)}catch{sd=!1}function tC(r,s,l,c,f,p,g,E,S){var O=Array.prototype.slice.call(arguments,3);try{s.apply(l,O)}catch(U){this.onError(U)}}var _o=!1,dl=null,fl=!1,od=null,nC={onError:function(r){_o=!0,dl=r}};function rC(r,s,l,c,f,p,g,E,S){_o=!1,dl=null,tC.apply(nC,arguments)}function iC(r,s,l,c,f,p,g,E,S){if(rC.apply(this,arguments),_o){if(_o){var O=dl;_o=!1,dl=null}else throw Error(n(198));fl||(fl=!0,od=O)}}function Ei(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Rm(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Am(r){if(Ei(r)!==r)throw Error(n(188))}function sC(r){var s=r.alternate;if(!s){if(s=Ei(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,c=s;;){var f=l.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){l=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===l)return Am(f),r;if(p===c)return Am(f),s;p=p.sibling}throw Error(n(188))}if(l.return!==c.return)l=f,c=p;else{for(var g=!1,E=f.child;E;){if(E===l){g=!0,l=f,c=p;break}if(E===c){g=!0,c=f,l=p;break}E=E.sibling}if(!g){for(E=p.child;E;){if(E===l){g=!0,l=p,c=f;break}if(E===c){g=!0,c=p,l=f;break}E=E.sibling}if(!g)throw Error(n(189))}}if(l.alternate!==c)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function Om(r){return r=sC(r),r!==null?Lm(r):null}function Lm(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Lm(r);if(s!==null)return s;r=r.sibling}return null}var Dm=e.unstable_scheduleCallback,Mm=e.unstable_cancelCallback,oC=e.unstable_shouldYield,aC=e.unstable_requestPaint,nt=e.unstable_now,lC=e.unstable_getCurrentPriorityLevel,ad=e.unstable_ImmediatePriority,Fm=e.unstable_UserBlockingPriority,hl=e.unstable_NormalPriority,uC=e.unstable_LowPriority,jm=e.unstable_IdlePriority,pl=null,Dn=null;function cC(r){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(pl,r,void 0,(r.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:hC,dC=Math.log,fC=Math.LN2;function hC(r){return r>>>=0,r===0?32:31-(dC(r)/fC|0)|0}var ml=64,gl=4194304;function Eo(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function vl(r,s){var l=r.pendingLanes;if(l===0)return 0;var c=0,f=r.suspendedLanes,p=r.pingedLanes,g=l&268435455;if(g!==0){var E=g&~f;E!==0?c=Eo(E):(p&=g,p!==0&&(c=Eo(p)))}else g=l&~f,g!==0?c=Eo(g):p!==0&&(c=Eo(p));if(c===0)return 0;if(s!==0&&s!==c&&!(s&f)&&(f=c&-c,p=s&-s,f>=p||f===16&&(p&4194240)!==0))return s;if(c&4&&(c|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=c;0<s;)l=31-En(s),f=1<<l,c|=r[l],s&=~f;return c}function pC(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mC(r,s){for(var l=r.suspendedLanes,c=r.pingedLanes,f=r.expirationTimes,p=r.pendingLanes;0<p;){var g=31-En(p),E=1<<g,S=f[g];S===-1?(!(E&l)||E&c)&&(f[g]=pC(E,s)):S<=s&&(r.expiredLanes|=E),p&=~E}}function ld(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function $m(){var r=ml;return ml<<=1,!(ml&4194240)&&(ml=64),r}function ud(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function xo(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-En(s),r[s]=l}function gC(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-En(l),p=1<<f;s[f]=0,c[f]=-1,r[f]=-1,l&=~p}}function cd(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var c=31-En(l),f=1<<c;f&s|r[c]&s&&(r[c]|=s),l&=~f}}var Ae=0;function Um(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Bm,dd,zm,Vm,Hm,fd=!1,yl=[],kr=null,Pr=null,Nr=null,Co=new Map,So=new Map,Rr=[],vC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wm(r,s){switch(r){case"focusin":case"focusout":kr=null;break;case"dragenter":case"dragleave":Pr=null;break;case"mouseover":case"mouseout":Nr=null;break;case"pointerover":case"pointerout":Co.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":So.delete(s.pointerId)}}function bo(r,s,l,c,f,p){return r===null||r.nativeEvent!==p?(r={blockedOn:s,domEventName:l,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},s!==null&&(s=$o(s),s!==null&&dd(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function yC(r,s,l,c,f){switch(s){case"focusin":return kr=bo(kr,r,s,l,c,f),!0;case"dragenter":return Pr=bo(Pr,r,s,l,c,f),!0;case"mouseover":return Nr=bo(Nr,r,s,l,c,f),!0;case"pointerover":var p=f.pointerId;return Co.set(p,bo(Co.get(p)||null,r,s,l,c,f)),!0;case"gotpointercapture":return p=f.pointerId,So.set(p,bo(So.get(p)||null,r,s,l,c,f)),!0}return!1}function qm(r){var s=xi(r.target);if(s!==null){var l=Ei(s);if(l!==null){if(s=l.tag,s===13){if(s=Rm(l),s!==null){r.blockedOn=s,Hm(r.priority,function(){zm(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function wl(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=pd(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var c=new l.constructor(l.type,l);td=c,l.target.dispatchEvent(c),td=null}else return s=$o(l),s!==null&&dd(s),r.blockedOn=l,!1;s.shift()}return!0}function Gm(r,s,l){wl(r)&&l.delete(s)}function wC(){fd=!1,kr!==null&&wl(kr)&&(kr=null),Pr!==null&&wl(Pr)&&(Pr=null),Nr!==null&&wl(Nr)&&(Nr=null),Co.forEach(Gm),So.forEach(Gm)}function To(r,s){r.blockedOn===s&&(r.blockedOn=null,fd||(fd=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wC)))}function Io(r){function s(f){return To(f,r)}if(0<yl.length){To(yl[0],r);for(var l=1;l<yl.length;l++){var c=yl[l];c.blockedOn===r&&(c.blockedOn=null)}}for(kr!==null&&To(kr,r),Pr!==null&&To(Pr,r),Nr!==null&&To(Nr,r),Co.forEach(s),So.forEach(s),l=0;l<Rr.length;l++)c=Rr[l],c.blockedOn===r&&(c.blockedOn=null);for(;0<Rr.length&&(l=Rr[0],l.blockedOn===null);)qm(l),l.blockedOn===null&&Rr.shift()}var cs=ee.ReactCurrentBatchConfig,_l=!0;function _C(r,s,l,c){var f=Ae,p=cs.transition;cs.transition=null;try{Ae=1,hd(r,s,l,c)}finally{Ae=f,cs.transition=p}}function EC(r,s,l,c){var f=Ae,p=cs.transition;cs.transition=null;try{Ae=4,hd(r,s,l,c)}finally{Ae=f,cs.transition=p}}function hd(r,s,l,c){if(_l){var f=pd(r,s,l,c);if(f===null)Rd(r,s,c,El,l),Wm(r,c);else if(yC(f,r,s,l,c))c.stopPropagation();else if(Wm(r,c),s&4&&-1<vC.indexOf(r)){for(;f!==null;){var p=$o(f);if(p!==null&&Bm(p),p=pd(r,s,l,c),p===null&&Rd(r,s,c,El,l),p===f)break;f=p}f!==null&&c.stopPropagation()}else Rd(r,s,c,null,l)}}var El=null;function pd(r,s,l,c){if(El=null,r=nd(c),r=xi(r),r!==null)if(s=Ei(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Rm(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return El=r,null}function Km(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lC()){case ad:return 1;case Fm:return 4;case hl:case uC:return 16;case jm:return 536870912;default:return 16}default:return 16}}var Ar=null,md=null,xl=null;function Ym(){if(xl)return xl;var r,s=md,l=s.length,c,f="value"in Ar?Ar.value:Ar.textContent,p=f.length;for(r=0;r<l&&s[r]===f[r];r++);var g=l-r;for(c=1;c<=g&&s[l-c]===f[p-c];c++);return xl=f.slice(r,1<c?1-c:void 0)}function Cl(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Sl(){return!0}function Qm(){return!1}function Jt(r){function s(l,c,f,p,g){this._reactName=l,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=g,this.currentTarget=null;for(var E in r)r.hasOwnProperty(E)&&(l=r[E],this[E]=l?l(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Sl:Qm,this.isPropagationStopped=Qm,this}return Y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Sl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Sl)},persist:function(){},isPersistent:Sl}),s}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gd=Jt(ds),ko=Y({},ds,{view:0,detail:0}),xC=Jt(ko),vd,yd,Po,bl=Y({},ko,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_d,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Po&&(Po&&r.type==="mousemove"?(vd=r.screenX-Po.screenX,yd=r.screenY-Po.screenY):yd=vd=0,Po=r),vd)},movementY:function(r){return"movementY"in r?r.movementY:yd}}),Xm=Jt(bl),CC=Y({},bl,{dataTransfer:0}),SC=Jt(CC),bC=Y({},ko,{relatedTarget:0}),wd=Jt(bC),TC=Y({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),IC=Jt(TC),kC=Y({},ds,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),PC=Jt(kC),NC=Y({},ds,{data:0}),Jm=Jt(NC),RC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},OC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LC(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=OC[r])?!!s[r]:!1}function _d(){return LC}var DC=Y({},ko,{key:function(r){if(r.key){var s=RC[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Cl(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?AC[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_d,charCode:function(r){return r.type==="keypress"?Cl(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Cl(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),MC=Jt(DC),FC=Y({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zm=Jt(FC),jC=Y({},ko,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_d}),$C=Jt(jC),UC=Y({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),BC=Jt(UC),zC=Y({},bl,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),VC=Jt(zC),HC=[9,13,27,32],Ed=d&&"CompositionEvent"in window,No=null;d&&"documentMode"in document&&(No=document.documentMode);var WC=d&&"TextEvent"in window&&!No,eg=d&&(!Ed||No&&8<No&&11>=No),tg=" ",ng=!1;function rg(r,s){switch(r){case"keyup":return HC.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ig(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var fs=!1;function qC(r,s){switch(r){case"compositionend":return ig(s);case"keypress":return s.which!==32?null:(ng=!0,tg);case"textInput":return r=s.data,r===tg&&ng?null:r;default:return null}}function GC(r,s){if(fs)return r==="compositionend"||!Ed&&rg(r,s)?(r=Ym(),xl=md=Ar=null,fs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return eg&&s.locale!=="ko"?null:s.data;default:return null}}var KC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!KC[r.type]:s==="textarea"}function og(r,s,l,c){Tm(c),s=Nl(s,"onChange"),0<s.length&&(l=new gd("onChange","change",null,l,c),r.push({event:l,listeners:s}))}var Ro=null,Ao=null;function YC(r){Sg(r,0)}function Tl(r){var s=vs(r);if(al(s))return r}function QC(r,s){if(r==="change")return s}var ag=!1;if(d){var xd;if(d){var Cd="oninput"in document;if(!Cd){var lg=document.createElement("div");lg.setAttribute("oninput","return;"),Cd=typeof lg.oninput=="function"}xd=Cd}else xd=!1;ag=xd&&(!document.documentMode||9<document.documentMode)}function ug(){Ro&&(Ro.detachEvent("onpropertychange",cg),Ao=Ro=null)}function cg(r){if(r.propertyName==="value"&&Tl(Ao)){var s=[];og(s,Ao,r,nd(r)),Nm(YC,s)}}function XC(r,s,l){r==="focusin"?(ug(),Ro=s,Ao=l,Ro.attachEvent("onpropertychange",cg)):r==="focusout"&&ug()}function JC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Tl(Ao)}function ZC(r,s){if(r==="click")return Tl(s)}function eS(r,s){if(r==="input"||r==="change")return Tl(s)}function tS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var xn=typeof Object.is=="function"?Object.is:tS;function Oo(r,s){if(xn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),c=Object.keys(s);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var f=l[c];if(!h.call(s,f)||!xn(r[f],s[f]))return!1}return!0}function dg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function fg(r,s){var l=dg(r);r=0;for(var c;l;){if(l.nodeType===3){if(c=r+l.textContent.length,r<=s&&c>=s)return{node:l,offset:s-r};r=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=dg(l)}}function hg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?hg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function pg(){for(var r=window,s=yi();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=yi(r.document)}return s}function Sd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function nS(r){var s=pg(),l=r.focusedElem,c=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&hg(l.ownerDocument.documentElement,l)){if(c!==null&&Sd(l)){if(s=c.start,r=c.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,p=Math.min(c.start,f);c=c.end===void 0?p:Math.min(c.end,f),!r.extend&&p>c&&(f=c,c=p,p=f),f=fg(l,p);var g=fg(l,c);f&&g&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==g.node||r.focusOffset!==g.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),p>c?(r.addRange(s),r.extend(g.node,g.offset)):(s.setEnd(g.node,g.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var rS=d&&"documentMode"in document&&11>=document.documentMode,hs=null,bd=null,Lo=null,Td=!1;function mg(r,s,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Td||hs==null||hs!==yi(c)||(c=hs,"selectionStart"in c&&Sd(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Lo&&Oo(Lo,c)||(Lo=c,c=Nl(bd,"onSelect"),0<c.length&&(s=new gd("onSelect","select",null,s,l),r.push({event:s,listeners:c}),s.target=hs)))}function Il(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var ps={animationend:Il("Animation","AnimationEnd"),animationiteration:Il("Animation","AnimationIteration"),animationstart:Il("Animation","AnimationStart"),transitionend:Il("Transition","TransitionEnd")},Id={},gg={};d&&(gg=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function kl(r){if(Id[r])return Id[r];if(!ps[r])return r;var s=ps[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in gg)return Id[r]=s[l];return r}var vg=kl("animationend"),yg=kl("animationiteration"),wg=kl("animationstart"),_g=kl("transitionend"),Eg=new Map,xg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(r,s){Eg.set(r,s),a(s,[r])}for(var kd=0;kd<xg.length;kd++){var Pd=xg[kd],iS=Pd.toLowerCase(),sS=Pd[0].toUpperCase()+Pd.slice(1);Or(iS,"on"+sS)}Or(vg,"onAnimationEnd"),Or(yg,"onAnimationIteration"),Or(wg,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(_g,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Do));function Cg(r,s,l){var c=r.type||"unknown-event";r.currentTarget=l,iC(c,s,void 0,r),r.currentTarget=null}function Sg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var c=r[l],f=c.event;c=c.listeners;e:{var p=void 0;if(s)for(var g=c.length-1;0<=g;g--){var E=c[g],S=E.instance,O=E.currentTarget;if(E=E.listener,S!==p&&f.isPropagationStopped())break e;Cg(f,E,O),p=S}else for(g=0;g<c.length;g++){if(E=c[g],S=E.instance,O=E.currentTarget,E=E.listener,S!==p&&f.isPropagationStopped())break e;Cg(f,E,O),p=S}}}if(fl)throw r=od,fl=!1,od=null,r}function Ve(r,s){var l=s[Fd];l===void 0&&(l=s[Fd]=new Set);var c=r+"__bubble";l.has(c)||(bg(s,r,2,!1),l.add(c))}function Nd(r,s,l){var c=0;s&&(c|=4),bg(l,r,c,s)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Mo(r){if(!r[Pl]){r[Pl]=!0,i.forEach(function(l){l!=="selectionchange"&&(oS.has(l)||Nd(l,!1,r),Nd(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Pl]||(s[Pl]=!0,Nd("selectionchange",!1,s))}}function bg(r,s,l,c){switch(Km(s)){case 1:var f=_C;break;case 4:f=EC;break;default:f=hd}l=f.bind(null,s,l,r),f=void 0,!sd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),c?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function Rd(r,s,l,c,f){var p=c;if(!(s&1)&&!(s&2)&&c!==null)e:for(;;){if(c===null)return;var g=c.tag;if(g===3||g===4){var E=c.stateNode.containerInfo;if(E===f||E.nodeType===8&&E.parentNode===f)break;if(g===4)for(g=c.return;g!==null;){var S=g.tag;if((S===3||S===4)&&(S=g.stateNode.containerInfo,S===f||S.nodeType===8&&S.parentNode===f))return;g=g.return}for(;E!==null;){if(g=xi(E),g===null)return;if(S=g.tag,S===5||S===6){c=p=g;continue e}E=E.parentNode}}c=c.return}Nm(function(){var O=p,U=nd(l),B=[];e:{var $=Eg.get(r);if($!==void 0){var G=gd,J=r;switch(r){case"keypress":if(Cl(l)===0)break e;case"keydown":case"keyup":G=MC;break;case"focusin":J="focus",G=wd;break;case"focusout":J="blur",G=wd;break;case"beforeblur":case"afterblur":G=wd;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=SC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=$C;break;case vg:case yg:case wg:G=IC;break;case _g:G=BC;break;case"scroll":G=xC;break;case"wheel":G=VC;break;case"copy":case"cut":case"paste":G=PC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Zm}var Z=(s&4)!==0,rt=!Z&&r==="scroll",N=Z?$!==null?$+"Capture":null:$;Z=[];for(var T=O,A;T!==null;){A=T;var z=A.stateNode;if(A.tag===5&&z!==null&&(A=z,N!==null&&(z=yo(T,N),z!=null&&Z.push(Fo(T,z,A)))),rt)break;T=T.return}0<Z.length&&($=new G($,J,null,l,U),B.push({event:$,listeners:Z}))}}if(!(s&7)){e:{if($=r==="mouseover"||r==="pointerover",G=r==="mouseout"||r==="pointerout",$&&l!==td&&(J=l.relatedTarget||l.fromElement)&&(xi(J)||J[Zn]))break e;if((G||$)&&($=U.window===U?U:($=U.ownerDocument)?$.defaultView||$.parentWindow:window,G?(J=l.relatedTarget||l.toElement,G=O,J=J?xi(J):null,J!==null&&(rt=Ei(J),J!==rt||J.tag!==5&&J.tag!==6)&&(J=null)):(G=null,J=O),G!==J)){if(Z=Xm,z="onMouseLeave",N="onMouseEnter",T="mouse",(r==="pointerout"||r==="pointerover")&&(Z=Zm,z="onPointerLeave",N="onPointerEnter",T="pointer"),rt=G==null?$:vs(G),A=J==null?$:vs(J),$=new Z(z,T+"leave",G,l,U),$.target=rt,$.relatedTarget=A,z=null,xi(U)===O&&(Z=new Z(N,T+"enter",J,l,U),Z.target=A,Z.relatedTarget=rt,z=Z),rt=z,G&&J)t:{for(Z=G,N=J,T=0,A=Z;A;A=ms(A))T++;for(A=0,z=N;z;z=ms(z))A++;for(;0<T-A;)Z=ms(Z),T--;for(;0<A-T;)N=ms(N),A--;for(;T--;){if(Z===N||N!==null&&Z===N.alternate)break t;Z=ms(Z),N=ms(N)}Z=null}else Z=null;G!==null&&Tg(B,$,G,Z,!1),J!==null&&rt!==null&&Tg(B,rt,J,Z,!0)}}e:{if($=O?vs(O):window,G=$.nodeName&&$.nodeName.toLowerCase(),G==="select"||G==="input"&&$.type==="file")var ne=QC;else if(sg($))if(ag)ne=eS;else{ne=JC;var se=XC}else(G=$.nodeName)&&G.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ne=ZC);if(ne&&(ne=ne(r,O))){og(B,ne,l,U);break e}se&&se(r,$,O),r==="focusout"&&(se=$._wrapperState)&&se.controlled&&$.type==="number"&&wi($,"number",$.value)}switch(se=O?vs(O):window,r){case"focusin":(sg(se)||se.contentEditable==="true")&&(hs=se,bd=O,Lo=null);break;case"focusout":Lo=bd=hs=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,mg(B,l,U);break;case"selectionchange":if(rS)break;case"keydown":case"keyup":mg(B,l,U)}var oe;if(Ed)e:{switch(r){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else fs?rg(r,l)&&(ce="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(ce="onCompositionStart");ce&&(eg&&l.locale!=="ko"&&(fs||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&fs&&(oe=Ym()):(Ar=U,md="value"in Ar?Ar.value:Ar.textContent,fs=!0)),se=Nl(O,ce),0<se.length&&(ce=new Jm(ce,r,null,l,U),B.push({event:ce,listeners:se}),oe?ce.data=oe:(oe=ig(l),oe!==null&&(ce.data=oe)))),(oe=WC?qC(r,l):GC(r,l))&&(O=Nl(O,"onBeforeInput"),0<O.length&&(U=new Jm("onBeforeInput","beforeinput",null,l,U),B.push({event:U,listeners:O}),U.data=oe))}Sg(B,s)})}function Fo(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Nl(r,s){for(var l=s+"Capture",c=[];r!==null;){var f=r,p=f.stateNode;f.tag===5&&p!==null&&(f=p,p=yo(r,l),p!=null&&c.unshift(Fo(r,p,f)),p=yo(r,s),p!=null&&c.push(Fo(r,p,f))),r=r.return}return c}function ms(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Tg(r,s,l,c,f){for(var p=s._reactName,g=[];l!==null&&l!==c;){var E=l,S=E.alternate,O=E.stateNode;if(S!==null&&S===c)break;E.tag===5&&O!==null&&(E=O,f?(S=yo(l,p),S!=null&&g.unshift(Fo(l,S,E))):f||(S=yo(l,p),S!=null&&g.push(Fo(l,S,E)))),l=l.return}g.length!==0&&r.push({event:s,listeners:g})}var aS=/\r\n?/g,lS=/\u0000|\uFFFD/g;function Ig(r){return(typeof r=="string"?r:""+r).replace(aS,`
`).replace(lS,"")}function Rl(r,s,l){if(s=Ig(s),Ig(r)!==s&&l)throw Error(n(425))}function Al(){}var Ad=null,Od=null;function Ld(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Dd=typeof setTimeout=="function"?setTimeout:void 0,uS=typeof clearTimeout=="function"?clearTimeout:void 0,kg=typeof Promise=="function"?Promise:void 0,cS=typeof queueMicrotask=="function"?queueMicrotask:typeof kg<"u"?function(r){return kg.resolve(null).then(r).catch(dS)}:Dd;function dS(r){setTimeout(function(){throw r})}function Md(r,s){var l=s,c=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(c===0){r.removeChild(f),Io(s);return}c--}else l!=="$"&&l!=="$?"&&l!=="$!"||c++;l=f}while(l);Io(s)}function Lr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Pg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var gs=Math.random().toString(36).slice(2),Mn="__reactFiber$"+gs,jo="__reactProps$"+gs,Zn="__reactContainer$"+gs,Fd="__reactEvents$"+gs,fS="__reactListeners$"+gs,hS="__reactHandles$"+gs;function xi(r){var s=r[Mn];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Zn]||l[Mn]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Pg(r);r!==null;){if(l=r[Mn])return l;r=Pg(r)}return s}r=l,l=r.parentNode}return null}function $o(r){return r=r[Mn]||r[Zn],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function vs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Ol(r){return r[jo]||null}var jd=[],ys=-1;function Dr(r){return{current:r}}function He(r){0>ys||(r.current=jd[ys],jd[ys]=null,ys--)}function $e(r,s){ys++,jd[ys]=r.current,r.current=s}var Mr={},bt=Dr(Mr),Mt=Dr(!1),Ci=Mr;function ws(r,s){var l=r.type.contextTypes;if(!l)return Mr;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var f={},p;for(p in l)f[p]=s[p];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Ft(r){return r=r.childContextTypes,r!=null}function Ll(){He(Mt),He(bt)}function Ng(r,s,l){if(bt.current!==Mr)throw Error(n(168));$e(bt,s),$e(Mt,l)}function Rg(r,s,l){var c=r.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return l;c=c.getChildContext();for(var f in c)if(!(f in s))throw Error(n(108,Ne(r)||"Unknown",f));return Y({},l,c)}function Dl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Mr,Ci=bt.current,$e(bt,r),$e(Mt,Mt.current),!0}function Ag(r,s,l){var c=r.stateNode;if(!c)throw Error(n(169));l?(r=Rg(r,s,Ci),c.__reactInternalMemoizedMergedChildContext=r,He(Mt),He(bt),$e(bt,r)):He(Mt),$e(Mt,l)}var er=null,Ml=!1,$d=!1;function Og(r){er===null?er=[r]:er.push(r)}function pS(r){Ml=!0,Og(r)}function Fr(){if(!$d&&er!==null){$d=!0;var r=0,s=Ae;try{var l=er;for(Ae=1;r<l.length;r++){var c=l[r];do c=c(!0);while(c!==null)}er=null,Ml=!1}catch(f){throw er!==null&&(er=er.slice(r+1)),Dm(ad,Fr),f}finally{Ae=s,$d=!1}}return null}var _s=[],Es=0,Fl=null,jl=0,cn=[],dn=0,Si=null,tr=1,nr="";function bi(r,s){_s[Es++]=jl,_s[Es++]=Fl,Fl=r,jl=s}function Lg(r,s,l){cn[dn++]=tr,cn[dn++]=nr,cn[dn++]=Si,Si=r;var c=tr;r=nr;var f=32-En(c)-1;c&=~(1<<f),l+=1;var p=32-En(s)+f;if(30<p){var g=f-f%5;p=(c&(1<<g)-1).toString(32),c>>=g,f-=g,tr=1<<32-En(s)+f|l<<f|c,nr=p+r}else tr=1<<p|l<<f|c,nr=r}function Ud(r){r.return!==null&&(bi(r,1),Lg(r,1,0))}function Bd(r){for(;r===Fl;)Fl=_s[--Es],_s[Es]=null,jl=_s[--Es],_s[Es]=null;for(;r===Si;)Si=cn[--dn],cn[dn]=null,nr=cn[--dn],cn[dn]=null,tr=cn[--dn],cn[dn]=null}var Zt=null,en=null,Ke=!1,Cn=null;function Dg(r,s){var l=mn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Mg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,Zt=r,en=Lr(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,Zt=r,en=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=Si!==null?{id:tr,overflow:nr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=mn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,Zt=r,en=null,!0):!1;default:return!1}}function zd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Vd(r){if(Ke){var s=en;if(s){var l=s;if(!Mg(r,s)){if(zd(r))throw Error(n(418));s=Lr(l.nextSibling);var c=Zt;s&&Mg(r,s)?Dg(c,l):(r.flags=r.flags&-4097|2,Ke=!1,Zt=r)}}else{if(zd(r))throw Error(n(418));r.flags=r.flags&-4097|2,Ke=!1,Zt=r}}}function Fg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Zt=r}function $l(r){if(r!==Zt)return!1;if(!Ke)return Fg(r),Ke=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ld(r.type,r.memoizedProps)),s&&(s=en)){if(zd(r))throw jg(),Error(n(418));for(;s;)Dg(r,s),s=Lr(s.nextSibling)}if(Fg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){en=Lr(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}en=null}}else en=Zt?Lr(r.stateNode.nextSibling):null;return!0}function jg(){for(var r=en;r;)r=Lr(r.nextSibling)}function xs(){en=Zt=null,Ke=!1}function Hd(r){Cn===null?Cn=[r]:Cn.push(r)}var mS=ee.ReactCurrentBatchConfig;function Uo(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var c=l.stateNode}if(!c)throw Error(n(147,r));var f=c,p=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===p?s.ref:(s=function(g){var E=f.refs;g===null?delete E[p]:E[p]=g},s._stringRef=p,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Ul(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function $g(r){var s=r._init;return s(r._payload)}function Ug(r){function s(N,T){if(r){var A=N.deletions;A===null?(N.deletions=[T],N.flags|=16):A.push(T)}}function l(N,T){if(!r)return null;for(;T!==null;)s(N,T),T=T.sibling;return null}function c(N,T){for(N=new Map;T!==null;)T.key!==null?N.set(T.key,T):N.set(T.index,T),T=T.sibling;return N}function f(N,T){return N=Wr(N,T),N.index=0,N.sibling=null,N}function p(N,T,A){return N.index=A,r?(A=N.alternate,A!==null?(A=A.index,A<T?(N.flags|=2,T):A):(N.flags|=2,T)):(N.flags|=1048576,T)}function g(N){return r&&N.alternate===null&&(N.flags|=2),N}function E(N,T,A,z){return T===null||T.tag!==6?(T=Mf(A,N.mode,z),T.return=N,T):(T=f(T,A),T.return=N,T)}function S(N,T,A,z){var ne=A.type;return ne===Q?U(N,T,A.props.children,z,A.key):T!==null&&(T.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Ct&&$g(ne)===T.type)?(z=f(T,A.props),z.ref=Uo(N,T,A),z.return=N,z):(z=cu(A.type,A.key,A.props,null,N.mode,z),z.ref=Uo(N,T,A),z.return=N,z)}function O(N,T,A,z){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=Ff(A,N.mode,z),T.return=N,T):(T=f(T,A.children||[]),T.return=N,T)}function U(N,T,A,z,ne){return T===null||T.tag!==7?(T=Oi(A,N.mode,z,ne),T.return=N,T):(T=f(T,A),T.return=N,T)}function B(N,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return T=Mf(""+T,N.mode,A),T.return=N,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case F:return A=cu(T.type,T.key,T.props,null,N.mode,A),A.ref=Uo(N,null,T),A.return=N,A;case W:return T=Ff(T,N.mode,A),T.return=N,T;case Ct:var z=T._init;return B(N,z(T._payload),A)}if(_i(T)||ie(T))return T=Oi(T,N.mode,A,null),T.return=N,T;Ul(N,T)}return null}function $(N,T,A,z){var ne=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return ne!==null?null:E(N,T,""+A,z);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case F:return A.key===ne?S(N,T,A,z):null;case W:return A.key===ne?O(N,T,A,z):null;case Ct:return ne=A._init,$(N,T,ne(A._payload),z)}if(_i(A)||ie(A))return ne!==null?null:U(N,T,A,z,null);Ul(N,A)}return null}function G(N,T,A,z,ne){if(typeof z=="string"&&z!==""||typeof z=="number")return N=N.get(A)||null,E(T,N,""+z,ne);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case F:return N=N.get(z.key===null?A:z.key)||null,S(T,N,z,ne);case W:return N=N.get(z.key===null?A:z.key)||null,O(T,N,z,ne);case Ct:var se=z._init;return G(N,T,A,se(z._payload),ne)}if(_i(z)||ie(z))return N=N.get(A)||null,U(T,N,z,ne,null);Ul(T,z)}return null}function J(N,T,A,z){for(var ne=null,se=null,oe=T,ce=T=0,mt=null;oe!==null&&ce<A.length;ce++){oe.index>ce?(mt=oe,oe=null):mt=oe.sibling;var Ie=$(N,oe,A[ce],z);if(Ie===null){oe===null&&(oe=mt);break}r&&oe&&Ie.alternate===null&&s(N,oe),T=p(Ie,T,ce),se===null?ne=Ie:se.sibling=Ie,se=Ie,oe=mt}if(ce===A.length)return l(N,oe),Ke&&bi(N,ce),ne;if(oe===null){for(;ce<A.length;ce++)oe=B(N,A[ce],z),oe!==null&&(T=p(oe,T,ce),se===null?ne=oe:se.sibling=oe,se=oe);return Ke&&bi(N,ce),ne}for(oe=c(N,oe);ce<A.length;ce++)mt=G(oe,N,ce,A[ce],z),mt!==null&&(r&&mt.alternate!==null&&oe.delete(mt.key===null?ce:mt.key),T=p(mt,T,ce),se===null?ne=mt:se.sibling=mt,se=mt);return r&&oe.forEach(function(qr){return s(N,qr)}),Ke&&bi(N,ce),ne}function Z(N,T,A,z){var ne=ie(A);if(typeof ne!="function")throw Error(n(150));if(A=ne.call(A),A==null)throw Error(n(151));for(var se=ne=null,oe=T,ce=T=0,mt=null,Ie=A.next();oe!==null&&!Ie.done;ce++,Ie=A.next()){oe.index>ce?(mt=oe,oe=null):mt=oe.sibling;var qr=$(N,oe,Ie.value,z);if(qr===null){oe===null&&(oe=mt);break}r&&oe&&qr.alternate===null&&s(N,oe),T=p(qr,T,ce),se===null?ne=qr:se.sibling=qr,se=qr,oe=mt}if(Ie.done)return l(N,oe),Ke&&bi(N,ce),ne;if(oe===null){for(;!Ie.done;ce++,Ie=A.next())Ie=B(N,Ie.value,z),Ie!==null&&(T=p(Ie,T,ce),se===null?ne=Ie:se.sibling=Ie,se=Ie);return Ke&&bi(N,ce),ne}for(oe=c(N,oe);!Ie.done;ce++,Ie=A.next())Ie=G(oe,N,ce,Ie.value,z),Ie!==null&&(r&&Ie.alternate!==null&&oe.delete(Ie.key===null?ce:Ie.key),T=p(Ie,T,ce),se===null?ne=Ie:se.sibling=Ie,se=Ie);return r&&oe.forEach(function(KS){return s(N,KS)}),Ke&&bi(N,ce),ne}function rt(N,T,A,z){if(typeof A=="object"&&A!==null&&A.type===Q&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case F:e:{for(var ne=A.key,se=T;se!==null;){if(se.key===ne){if(ne=A.type,ne===Q){if(se.tag===7){l(N,se.sibling),T=f(se,A.props.children),T.return=N,N=T;break e}}else if(se.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===Ct&&$g(ne)===se.type){l(N,se.sibling),T=f(se,A.props),T.ref=Uo(N,se,A),T.return=N,N=T;break e}l(N,se);break}else s(N,se);se=se.sibling}A.type===Q?(T=Oi(A.props.children,N.mode,z,A.key),T.return=N,N=T):(z=cu(A.type,A.key,A.props,null,N.mode,z),z.ref=Uo(N,T,A),z.return=N,N=z)}return g(N);case W:e:{for(se=A.key;T!==null;){if(T.key===se)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){l(N,T.sibling),T=f(T,A.children||[]),T.return=N,N=T;break e}else{l(N,T);break}else s(N,T);T=T.sibling}T=Ff(A,N.mode,z),T.return=N,N=T}return g(N);case Ct:return se=A._init,rt(N,T,se(A._payload),z)}if(_i(A))return J(N,T,A,z);if(ie(A))return Z(N,T,A,z);Ul(N,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,T!==null&&T.tag===6?(l(N,T.sibling),T=f(T,A),T.return=N,N=T):(l(N,T),T=Mf(A,N.mode,z),T.return=N,N=T),g(N)):l(N,T)}return rt}var Cs=Ug(!0),Bg=Ug(!1),Bl=Dr(null),zl=null,Ss=null,Wd=null;function qd(){Wd=Ss=zl=null}function Gd(r){var s=Bl.current;He(Bl),r._currentValue=s}function Kd(r,s,l){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===l)break;r=r.return}}function bs(r,s){zl=r,Wd=Ss=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(jt=!0),r.firstContext=null)}function fn(r){var s=r._currentValue;if(Wd!==r)if(r={context:r,memoizedValue:s,next:null},Ss===null){if(zl===null)throw Error(n(308));Ss=r,zl.dependencies={lanes:0,firstContext:r}}else Ss=Ss.next=r;return s}var Ti=null;function Yd(r){Ti===null?Ti=[r]:Ti.push(r)}function zg(r,s,l,c){var f=s.interleaved;return f===null?(l.next=l,Yd(s)):(l.next=f.next,f.next=l),s.interleaved=l,rr(r,c)}function rr(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var jr=!1;function Qd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function ir(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function $r(r,s,l){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,be&2){var f=c.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),c.pending=s,rr(r,l)}return f=c.interleaved,f===null?(s.next=s,Yd(c)):(s.next=f.next,f.next=s),c.interleaved=s,rr(r,l)}function Vl(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,cd(r,l)}}function Hg(r,s){var l=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var f=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var g={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};p===null?f=p=g:p=p.next=g,l=l.next}while(l!==null);p===null?f=p=s:p=p.next=s}else f=p=s;l={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,effects:c.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Hl(r,s,l,c){var f=r.updateQueue;jr=!1;var p=f.firstBaseUpdate,g=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var S=E,O=S.next;S.next=null,g===null?p=O:g.next=O,g=S;var U=r.alternate;U!==null&&(U=U.updateQueue,E=U.lastBaseUpdate,E!==g&&(E===null?U.firstBaseUpdate=O:E.next=O,U.lastBaseUpdate=S))}if(p!==null){var B=f.baseState;g=0,U=O=S=null,E=p;do{var $=E.lane,G=E.eventTime;if((c&$)===$){U!==null&&(U=U.next={eventTime:G,lane:0,tag:E.tag,payload:E.payload,callback:E.callback,next:null});e:{var J=r,Z=E;switch($=s,G=l,Z.tag){case 1:if(J=Z.payload,typeof J=="function"){B=J.call(G,B,$);break e}B=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=Z.payload,$=typeof J=="function"?J.call(G,B,$):J,$==null)break e;B=Y({},B,$);break e;case 2:jr=!0}}E.callback!==null&&E.lane!==0&&(r.flags|=64,$=f.effects,$===null?f.effects=[E]:$.push(E))}else G={eventTime:G,lane:$,tag:E.tag,payload:E.payload,callback:E.callback,next:null},U===null?(O=U=G,S=B):U=U.next=G,g|=$;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;$=E,E=$.next,$.next=null,f.lastBaseUpdate=$,f.shared.pending=null}}while(!0);if(U===null&&(S=B),f.baseState=S,f.firstBaseUpdate=O,f.lastBaseUpdate=U,s=f.shared.interleaved,s!==null){f=s;do g|=f.lane,f=f.next;while(f!==s)}else p===null&&(f.shared.lanes=0);Pi|=g,r.lanes=g,r.memoizedState=B}}function Wg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var c=r[s],f=c.callback;if(f!==null){if(c.callback=null,c=l,typeof f!="function")throw Error(n(191,f));f.call(c)}}}var Bo={},Fn=Dr(Bo),zo=Dr(Bo),Vo=Dr(Bo);function Ii(r){if(r===Bo)throw Error(n(174));return r}function Xd(r,s){switch($e(Vo,s),$e(zo,r),$e(Fn,Bo),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Se(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=Se(s,r)}He(Fn),$e(Fn,s)}function Ts(){He(Fn),He(zo),He(Vo)}function qg(r){Ii(Vo.current);var s=Ii(Fn.current),l=Se(s,r.type);s!==l&&($e(zo,r),$e(Fn,l))}function Jd(r){zo.current===r&&(He(Fn),He(zo))}var Xe=Dr(0);function Wl(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Zd=[];function ef(){for(var r=0;r<Zd.length;r++)Zd[r]._workInProgressVersionPrimary=null;Zd.length=0}var ql=ee.ReactCurrentDispatcher,tf=ee.ReactCurrentBatchConfig,ki=0,Je=null,ut=null,ht=null,Gl=!1,Ho=!1,Wo=0,gS=0;function Tt(){throw Error(n(321))}function nf(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!xn(r[l],s[l]))return!1;return!0}function rf(r,s,l,c,f,p){if(ki=p,Je=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ql.current=r===null||r.memoizedState===null?_S:ES,r=l(c,f),Ho){p=0;do{if(Ho=!1,Wo=0,25<=p)throw Error(n(301));p+=1,ht=ut=null,s.updateQueue=null,ql.current=xS,r=l(c,f)}while(Ho)}if(ql.current=Ql,s=ut!==null&&ut.next!==null,ki=0,ht=ut=Je=null,Gl=!1,s)throw Error(n(300));return r}function sf(){var r=Wo!==0;return Wo=0,r}function jn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Je.memoizedState=ht=r:ht=ht.next=r,ht}function hn(){if(ut===null){var r=Je.alternate;r=r!==null?r.memoizedState:null}else r=ut.next;var s=ht===null?Je.memoizedState:ht.next;if(s!==null)ht=s,ut=r;else{if(r===null)throw Error(n(310));ut=r,r={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},ht===null?Je.memoizedState=ht=r:ht=ht.next=r}return ht}function qo(r,s){return typeof s=="function"?s(r):s}function of(r){var s=hn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var c=ut,f=c.baseQueue,p=l.pending;if(p!==null){if(f!==null){var g=f.next;f.next=p.next,p.next=g}c.baseQueue=f=p,l.pending=null}if(f!==null){p=f.next,c=c.baseState;var E=g=null,S=null,O=p;do{var U=O.lane;if((ki&U)===U)S!==null&&(S=S.next={lane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),c=O.hasEagerState?O.eagerState:r(c,O.action);else{var B={lane:U,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null};S===null?(E=S=B,g=c):S=S.next=B,Je.lanes|=U,Pi|=U}O=O.next}while(O!==null&&O!==p);S===null?g=c:S.next=E,xn(c,s.memoizedState)||(jt=!0),s.memoizedState=c,s.baseState=g,s.baseQueue=S,l.lastRenderedState=c}if(r=l.interleaved,r!==null){f=r;do p=f.lane,Je.lanes|=p,Pi|=p,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function af(r){var s=hn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var c=l.dispatch,f=l.pending,p=s.memoizedState;if(f!==null){l.pending=null;var g=f=f.next;do p=r(p,g.action),g=g.next;while(g!==f);xn(p,s.memoizedState)||(jt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),l.lastRenderedState=p}return[p,c]}function Gg(){}function Kg(r,s){var l=Je,c=hn(),f=s(),p=!xn(c.memoizedState,f);if(p&&(c.memoizedState=f,jt=!0),c=c.queue,lf(Xg.bind(null,l,c,r),[r]),c.getSnapshot!==s||p||ht!==null&&ht.memoizedState.tag&1){if(l.flags|=2048,Go(9,Qg.bind(null,l,c,f,s),void 0,null),pt===null)throw Error(n(349));ki&30||Yg(l,s,f)}return f}function Yg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Je.updateQueue,s===null?(s={lastEffect:null,stores:null},Je.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Qg(r,s,l,c){s.value=l,s.getSnapshot=c,Jg(s)&&Zg(r)}function Xg(r,s,l){return l(function(){Jg(s)&&Zg(r)})}function Jg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!xn(r,l)}catch{return!0}}function Zg(r){var s=rr(r,1);s!==null&&In(s,r,1,-1)}function ev(r){var s=jn();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qo,lastRenderedState:r},s.queue=r,r=r.dispatch=wS.bind(null,Je,r),[s.memoizedState,r]}function Go(r,s,l,c){return r={tag:r,create:s,destroy:l,deps:c,next:null},s=Je.updateQueue,s===null?(s={lastEffect:null,stores:null},Je.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(c=l.next,l.next=r,r.next=c,s.lastEffect=r)),r}function tv(){return hn().memoizedState}function Kl(r,s,l,c){var f=jn();Je.flags|=r,f.memoizedState=Go(1|s,l,void 0,c===void 0?null:c)}function Yl(r,s,l,c){var f=hn();c=c===void 0?null:c;var p=void 0;if(ut!==null){var g=ut.memoizedState;if(p=g.destroy,c!==null&&nf(c,g.deps)){f.memoizedState=Go(s,l,p,c);return}}Je.flags|=r,f.memoizedState=Go(1|s,l,p,c)}function nv(r,s){return Kl(8390656,8,r,s)}function lf(r,s){return Yl(2048,8,r,s)}function rv(r,s){return Yl(4,2,r,s)}function iv(r,s){return Yl(4,4,r,s)}function sv(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ov(r,s,l){return l=l!=null?l.concat([r]):null,Yl(4,4,sv.bind(null,s,r),l)}function uf(){}function av(r,s){var l=hn();s=s===void 0?null:s;var c=l.memoizedState;return c!==null&&s!==null&&nf(s,c[1])?c[0]:(l.memoizedState=[r,s],r)}function lv(r,s){var l=hn();s=s===void 0?null:s;var c=l.memoizedState;return c!==null&&s!==null&&nf(s,c[1])?c[0]:(r=r(),l.memoizedState=[r,s],r)}function uv(r,s,l){return ki&21?(xn(l,s)||(l=$m(),Je.lanes|=l,Pi|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,jt=!0),r.memoizedState=l)}function vS(r,s){var l=Ae;Ae=l!==0&&4>l?l:4,r(!0);var c=tf.transition;tf.transition={};try{r(!1),s()}finally{Ae=l,tf.transition=c}}function cv(){return hn().memoizedState}function yS(r,s,l){var c=Vr(r);if(l={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null},dv(r))fv(s,l);else if(l=zg(r,s,l,c),l!==null){var f=Ot();In(l,r,c,f),hv(l,s,c)}}function wS(r,s,l){var c=Vr(r),f={lane:c,action:l,hasEagerState:!1,eagerState:null,next:null};if(dv(r))fv(s,f);else{var p=r.alternate;if(r.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var g=s.lastRenderedState,E=p(g,l);if(f.hasEagerState=!0,f.eagerState=E,xn(E,g)){var S=s.interleaved;S===null?(f.next=f,Yd(s)):(f.next=S.next,S.next=f),s.interleaved=f;return}}catch{}finally{}l=zg(r,s,f,c),l!==null&&(f=Ot(),In(l,r,c,f),hv(l,s,c))}}function dv(r){var s=r.alternate;return r===Je||s!==null&&s===Je}function fv(r,s){Ho=Gl=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function hv(r,s,l){if(l&4194240){var c=s.lanes;c&=r.pendingLanes,l|=c,s.lanes=l,cd(r,l)}}var Ql={readContext:fn,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useInsertionEffect:Tt,useLayoutEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useMutableSource:Tt,useSyncExternalStore:Tt,useId:Tt,unstable_isNewReconciler:!1},_S={readContext:fn,useCallback:function(r,s){return jn().memoizedState=[r,s===void 0?null:s],r},useContext:fn,useEffect:nv,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Kl(4194308,4,sv.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Kl(4194308,4,r,s)},useInsertionEffect:function(r,s){return Kl(4,2,r,s)},useMemo:function(r,s){var l=jn();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var c=jn();return s=l!==void 0?l(s):s,c.memoizedState=c.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},c.queue=r,r=r.dispatch=yS.bind(null,Je,r),[c.memoizedState,r]},useRef:function(r){var s=jn();return r={current:r},s.memoizedState=r},useState:ev,useDebugValue:uf,useDeferredValue:function(r){return jn().memoizedState=r},useTransition:function(){var r=ev(!1),s=r[0];return r=vS.bind(null,r[1]),jn().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var c=Je,f=jn();if(Ke){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),pt===null)throw Error(n(349));ki&30||Yg(c,s,l)}f.memoizedState=l;var p={value:l,getSnapshot:s};return f.queue=p,nv(Xg.bind(null,c,p,r),[r]),c.flags|=2048,Go(9,Qg.bind(null,c,p,l,s),void 0,null),l},useId:function(){var r=jn(),s=pt.identifierPrefix;if(Ke){var l=nr,c=tr;l=(c&~(1<<32-En(c)-1)).toString(32)+l,s=":"+s+"R"+l,l=Wo++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=gS++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},ES={readContext:fn,useCallback:av,useContext:fn,useEffect:lf,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:lv,useReducer:of,useRef:tv,useState:function(){return of(qo)},useDebugValue:uf,useDeferredValue:function(r){var s=hn();return uv(s,ut.memoizedState,r)},useTransition:function(){var r=of(qo)[0],s=hn().memoizedState;return[r,s]},useMutableSource:Gg,useSyncExternalStore:Kg,useId:cv,unstable_isNewReconciler:!1},xS={readContext:fn,useCallback:av,useContext:fn,useEffect:lf,useImperativeHandle:ov,useInsertionEffect:rv,useLayoutEffect:iv,useMemo:lv,useReducer:af,useRef:tv,useState:function(){return af(qo)},useDebugValue:uf,useDeferredValue:function(r){var s=hn();return ut===null?s.memoizedState=r:uv(s,ut.memoizedState,r)},useTransition:function(){var r=af(qo)[0],s=hn().memoizedState;return[r,s]},useMutableSource:Gg,useSyncExternalStore:Kg,useId:cv,unstable_isNewReconciler:!1};function Sn(r,s){if(r&&r.defaultProps){s=Y({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function cf(r,s,l,c){s=r.memoizedState,l=l(c,s),l=l==null?s:Y({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Xl={isMounted:function(r){return(r=r._reactInternals)?Ei(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var c=Ot(),f=Vr(r),p=ir(c,f);p.payload=s,l!=null&&(p.callback=l),s=$r(r,p,f),s!==null&&(In(s,r,f,c),Vl(s,r,f))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var c=Ot(),f=Vr(r),p=ir(c,f);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=$r(r,p,f),s!==null&&(In(s,r,f,c),Vl(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Ot(),c=Vr(r),f=ir(l,c);f.tag=2,s!=null&&(f.callback=s),s=$r(r,f,c),s!==null&&(In(s,r,c,l),Vl(s,r,c))}};function pv(r,s,l,c,f,p,g){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,p,g):s.prototype&&s.prototype.isPureReactComponent?!Oo(l,c)||!Oo(f,p):!0}function mv(r,s,l){var c=!1,f=Mr,p=s.contextType;return typeof p=="object"&&p!==null?p=fn(p):(f=Ft(s)?Ci:bt.current,c=s.contextTypes,p=(c=c!=null)?ws(r,f):Mr),s=new s(l,p),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Xl,r.stateNode=s,s._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=p),s}function gv(r,s,l,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,c),s.state!==r&&Xl.enqueueReplaceState(s,s.state,null)}function df(r,s,l,c){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Qd(r);var p=s.contextType;typeof p=="object"&&p!==null?f.context=fn(p):(p=Ft(s)?Ci:bt.current,f.context=ws(r,p)),f.state=r.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(cf(r,s,p,l),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&Xl.enqueueReplaceState(f,f.state,null),Hl(r,l,f,c),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Is(r,s){try{var l="",c=s;do l+=me(c),c=c.return;while(c);var f=l}catch(p){f=`
Error generating stack: `+p.message+`
`+p.stack}return{value:r,source:s,stack:f,digest:null}}function ff(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function hf(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var CS=typeof WeakMap=="function"?WeakMap:Map;function vv(r,s,l){l=ir(-1,l),l.tag=3,l.payload={element:null};var c=s.value;return l.callback=function(){iu||(iu=!0,kf=c),hf(r,s)},l}function yv(r,s,l){l=ir(-1,l),l.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=s.value;l.payload=function(){return c(f)},l.callback=function(){hf(r,s)}}var p=r.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(l.callback=function(){hf(r,s),typeof c!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var g=s.stack;this.componentDidCatch(s.value,{componentStack:g!==null?g:""})}),l}function wv(r,s,l){var c=r.pingCache;if(c===null){c=r.pingCache=new CS;var f=new Set;c.set(s,f)}else f=c.get(s),f===void 0&&(f=new Set,c.set(s,f));f.has(l)||(f.add(l),r=FS.bind(null,r,s,l),s.then(r,r))}function _v(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function Ev(r,s,l,c,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=ir(-1,1),s.tag=2,$r(l,s,1))),l.lanes|=1),r)}var SS=ee.ReactCurrentOwner,jt=!1;function At(r,s,l,c){s.child=r===null?Bg(s,null,l,c):Cs(s,r.child,l,c)}function xv(r,s,l,c,f){l=l.render;var p=s.ref;return bs(s,f),c=rf(r,s,l,c,p,f),l=sf(),r!==null&&!jt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,sr(r,s,f)):(Ke&&l&&Ud(s),s.flags|=1,At(r,s,c,f),s.child)}function Cv(r,s,l,c,f){if(r===null){var p=l.type;return typeof p=="function"&&!Df(p)&&p.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=p,Sv(r,s,p,c,f)):(r=cu(l.type,null,c,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(p=r.child,!(r.lanes&f)){var g=p.memoizedProps;if(l=l.compare,l=l!==null?l:Oo,l(g,c)&&r.ref===s.ref)return sr(r,s,f)}return s.flags|=1,r=Wr(p,c),r.ref=s.ref,r.return=s,s.child=r}function Sv(r,s,l,c,f){if(r!==null){var p=r.memoizedProps;if(Oo(p,c)&&r.ref===s.ref)if(jt=!1,s.pendingProps=c=p,(r.lanes&f)!==0)r.flags&131072&&(jt=!0);else return s.lanes=r.lanes,sr(r,s,f)}return pf(r,s,l,c,f)}function bv(r,s,l){var c=s.pendingProps,f=c.children,p=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ps,tn),tn|=l;else{if(!(l&1073741824))return r=p!==null?p.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,$e(Ps,tn),tn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:l,$e(Ps,tn),tn|=c}else p!==null?(c=p.baseLanes|l,s.memoizedState=null):c=l,$e(Ps,tn),tn|=c;return At(r,s,f,l),s.child}function Tv(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function pf(r,s,l,c,f){var p=Ft(l)?Ci:bt.current;return p=ws(s,p),bs(s,f),l=rf(r,s,l,c,p,f),c=sf(),r!==null&&!jt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,sr(r,s,f)):(Ke&&c&&Ud(s),s.flags|=1,At(r,s,l,f),s.child)}function Iv(r,s,l,c,f){if(Ft(l)){var p=!0;Dl(s)}else p=!1;if(bs(s,f),s.stateNode===null)Zl(r,s),mv(s,l,c),df(s,l,c,f),c=!0;else if(r===null){var g=s.stateNode,E=s.memoizedProps;g.props=E;var S=g.context,O=l.contextType;typeof O=="object"&&O!==null?O=fn(O):(O=Ft(l)?Ci:bt.current,O=ws(s,O));var U=l.getDerivedStateFromProps,B=typeof U=="function"||typeof g.getSnapshotBeforeUpdate=="function";B||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==c||S!==O)&&gv(s,g,c,O),jr=!1;var $=s.memoizedState;g.state=$,Hl(s,c,g,f),S=s.memoizedState,E!==c||$!==S||Mt.current||jr?(typeof U=="function"&&(cf(s,l,U,c),S=s.memoizedState),(E=jr||pv(s,l,E,c,$,S,O))?(B||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=S),g.props=c,g.state=S,g.context=O,c=E):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{g=s.stateNode,Vg(r,s),E=s.memoizedProps,O=s.type===s.elementType?E:Sn(s.type,E),g.props=O,B=s.pendingProps,$=g.context,S=l.contextType,typeof S=="object"&&S!==null?S=fn(S):(S=Ft(l)?Ci:bt.current,S=ws(s,S));var G=l.getDerivedStateFromProps;(U=typeof G=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E!==B||$!==S)&&gv(s,g,c,S),jr=!1,$=s.memoizedState,g.state=$,Hl(s,c,g,f);var J=s.memoizedState;E!==B||$!==J||Mt.current||jr?(typeof G=="function"&&(cf(s,l,G,c),J=s.memoizedState),(O=jr||pv(s,l,O,c,$,J,S)||!1)?(U||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,J,S),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,J,S)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=J),g.props=c,g.state=J,g.context=S,c=O):(typeof g.componentDidUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&$===r.memoizedState||(s.flags|=1024),c=!1)}return mf(r,s,l,c,p,f)}function mf(r,s,l,c,f,p){Tv(r,s);var g=(s.flags&128)!==0;if(!c&&!g)return f&&Ag(s,l,!1),sr(r,s,p);c=s.stateNode,SS.current=s;var E=g&&typeof l.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,r!==null&&g?(s.child=Cs(s,r.child,null,p),s.child=Cs(s,null,E,p)):At(r,s,E,p),s.memoizedState=c.state,f&&Ag(s,l,!0),s.child}function kv(r){var s=r.stateNode;s.pendingContext?Ng(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Ng(r,s.context,!1),Xd(r,s.containerInfo)}function Pv(r,s,l,c,f){return xs(),Hd(f),s.flags|=256,At(r,s,l,c),s.child}var gf={dehydrated:null,treeContext:null,retryLane:0};function vf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Nv(r,s,l){var c=s.pendingProps,f=Xe.current,p=!1,g=(s.flags&128)!==0,E;if((E=g)||(E=r!==null&&r.memoizedState===null?!1:(f&2)!==0),E?(p=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),$e(Xe,f&1),r===null)return Vd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(g=c.children,r=c.fallback,p?(c=s.mode,p=s.child,g={mode:"hidden",children:g},!(c&1)&&p!==null?(p.childLanes=0,p.pendingProps=g):p=du(g,c,0,null),r=Oi(r,c,l,null),p.return=s,r.return=s,p.sibling=r,s.child=p,s.child.memoizedState=vf(l),s.memoizedState=gf,r):yf(s,g));if(f=r.memoizedState,f!==null&&(E=f.dehydrated,E!==null))return bS(r,s,g,c,E,f,l);if(p){p=c.fallback,g=s.mode,f=r.child,E=f.sibling;var S={mode:"hidden",children:c.children};return!(g&1)&&s.child!==f?(c=s.child,c.childLanes=0,c.pendingProps=S,s.deletions=null):(c=Wr(f,S),c.subtreeFlags=f.subtreeFlags&14680064),E!==null?p=Wr(E,p):(p=Oi(p,g,l,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,g=r.child.memoizedState,g=g===null?vf(l):{baseLanes:g.baseLanes|l,cachePool:null,transitions:g.transitions},p.memoizedState=g,p.childLanes=r.childLanes&~l,s.memoizedState=gf,c}return p=r.child,r=p.sibling,c=Wr(p,{mode:"visible",children:c.children}),!(s.mode&1)&&(c.lanes=l),c.return=s,c.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=c,s.memoizedState=null,c}function yf(r,s){return s=du({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Jl(r,s,l,c){return c!==null&&Hd(c),Cs(s,r.child,null,l),r=yf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function bS(r,s,l,c,f,p,g){if(l)return s.flags&256?(s.flags&=-257,c=ff(Error(n(422))),Jl(r,s,g,c)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(p=c.fallback,f=s.mode,c=du({mode:"visible",children:c.children},f,0,null),p=Oi(p,f,g,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,s.mode&1&&Cs(s,r.child,null,g),s.child.memoizedState=vf(g),s.memoizedState=gf,p);if(!(s.mode&1))return Jl(r,s,g,null);if(f.data==="$!"){if(c=f.nextSibling&&f.nextSibling.dataset,c)var E=c.dgst;return c=E,p=Error(n(419)),c=ff(p,c,void 0),Jl(r,s,g,c)}if(E=(g&r.childLanes)!==0,jt||E){if(c=pt,c!==null){switch(g&-g){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(c.suspendedLanes|g)?0:f,f!==0&&f!==p.retryLane&&(p.retryLane=f,rr(r,f),In(c,r,f,-1))}return Lf(),c=ff(Error(n(421))),Jl(r,s,g,c)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=jS.bind(null,r),f._reactRetry=s,null):(r=p.treeContext,en=Lr(f.nextSibling),Zt=s,Ke=!0,Cn=null,r!==null&&(cn[dn++]=tr,cn[dn++]=nr,cn[dn++]=Si,tr=r.id,nr=r.overflow,Si=s),s=yf(s,c.children),s.flags|=4096,s)}function Rv(r,s,l){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Kd(r.return,s,l)}function wf(r,s,l,c,f){var p=r.memoizedState;p===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:f}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=l,p.tailMode=f)}function Av(r,s,l){var c=s.pendingProps,f=c.revealOrder,p=c.tail;if(At(r,s,c.children,l),c=Xe.current,c&2)c=c&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Rv(r,l,s);else if(r.tag===19)Rv(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if($e(Xe,c),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&Wl(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),wf(s,!1,f,l,p);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Wl(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}wf(s,!0,l,null,p);break;case"together":wf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Zl(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function sr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Pi|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=Wr(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Wr(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function TS(r,s,l){switch(s.tag){case 3:kv(s),xs();break;case 5:qg(s);break;case 1:Ft(s.type)&&Dl(s);break;case 4:Xd(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,f=s.memoizedProps.value;$e(Bl,c._currentValue),c._currentValue=f;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?($e(Xe,Xe.current&1),s.flags|=128,null):l&s.child.childLanes?Nv(r,s,l):($e(Xe,Xe.current&1),r=sr(r,s,l),r!==null?r.sibling:null);$e(Xe,Xe.current&1);break;case 19:if(c=(l&s.childLanes)!==0,r.flags&128){if(c)return Av(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$e(Xe,Xe.current),c)break;return null;case 22:case 23:return s.lanes=0,bv(r,s,l)}return sr(r,s,l)}var Ov,_f,Lv,Dv;Ov=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},_f=function(){},Lv=function(r,s,l,c){var f=r.memoizedProps;if(f!==c){r=s.stateNode,Ii(Fn.current);var p=null;switch(l){case"input":f=mo(r,f),c=mo(r,c),p=[];break;case"select":f=Y({},f,{value:void 0}),c=Y({},c,{value:void 0}),p=[];break;case"textarea":f=L(r,f),c=L(r,c),p=[];break;default:typeof f.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=Al)}Zc(l,c);var g;l=null;for(O in f)if(!c.hasOwnProperty(O)&&f.hasOwnProperty(O)&&f[O]!=null)if(O==="style"){var E=f[O];for(g in E)E.hasOwnProperty(g)&&(l||(l={}),l[g]="")}else O!=="dangerouslySetInnerHTML"&&O!=="children"&&O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&O!=="autoFocus"&&(o.hasOwnProperty(O)?p||(p=[]):(p=p||[]).push(O,null));for(O in c){var S=c[O];if(E=f!=null?f[O]:void 0,c.hasOwnProperty(O)&&S!==E&&(S!=null||E!=null))if(O==="style")if(E){for(g in E)!E.hasOwnProperty(g)||S&&S.hasOwnProperty(g)||(l||(l={}),l[g]="");for(g in S)S.hasOwnProperty(g)&&E[g]!==S[g]&&(l||(l={}),l[g]=S[g])}else l||(p||(p=[]),p.push(O,l)),l=S;else O==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,E=E?E.__html:void 0,S!=null&&E!==S&&(p=p||[]).push(O,S)):O==="children"?typeof S!="string"&&typeof S!="number"||(p=p||[]).push(O,""+S):O!=="suppressContentEditableWarning"&&O!=="suppressHydrationWarning"&&(o.hasOwnProperty(O)?(S!=null&&O==="onScroll"&&Ve("scroll",r),p||E===S||(p=[])):(p=p||[]).push(O,S))}l&&(p=p||[]).push("style",l);var O=p;(s.updateQueue=O)&&(s.flags|=4)}},Dv=function(r,s,l,c){l!==c&&(s.flags|=4)};function Ko(r,s){if(!Ke)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function It(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,c=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags&14680064,c|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=c,r.childLanes=l,s}function IS(r,s,l){var c=s.pendingProps;switch(Bd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return It(s),null;case 1:return Ft(s.type)&&Ll(),It(s),null;case 3:return c=s.stateNode,Ts(),He(Mt),He(bt),ef(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&($l(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Cn!==null&&(Rf(Cn),Cn=null))),_f(r,s),It(s),null;case 5:Jd(s);var f=Ii(Vo.current);if(l=s.type,r!==null&&s.stateNode!=null)Lv(r,s,l,c,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(n(166));return It(s),null}if(r=Ii(Fn.current),$l(s)){c=s.stateNode,l=s.type;var p=s.memoizedProps;switch(c[Mn]=s,c[jo]=p,r=(s.mode&1)!==0,l){case"dialog":Ve("cancel",c),Ve("close",c);break;case"iframe":case"object":case"embed":Ve("load",c);break;case"video":case"audio":for(f=0;f<Do.length;f++)Ve(Do[f],c);break;case"source":Ve("error",c);break;case"img":case"image":case"link":Ve("error",c),Ve("load",c);break;case"details":Ve("toggle",c);break;case"input":ll(c,p),Ve("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},Ve("invalid",c);break;case"textarea":K(c,p),Ve("invalid",c)}Zc(l,p),f=null;for(var g in p)if(p.hasOwnProperty(g)){var E=p[g];g==="children"?typeof E=="string"?c.textContent!==E&&(p.suppressHydrationWarning!==!0&&Rl(c.textContent,E,r),f=["children",E]):typeof E=="number"&&c.textContent!==""+E&&(p.suppressHydrationWarning!==!0&&Rl(c.textContent,E,r),f=["children",""+E]):o.hasOwnProperty(g)&&E!=null&&g==="onScroll"&&Ve("scroll",c)}switch(l){case"input":Tr(c),cl(c,p,!0);break;case"textarea":Tr(c),re(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Al)}c=f,s.updateQueue=c,c!==null&&(s.flags|=4)}else{g=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=he(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=g.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=g.createElement(l,{is:c.is}):(r=g.createElement(l),l==="select"&&(g=r,c.multiple?g.multiple=!0:c.size&&(g.size=c.size))):r=g.createElementNS(r,l),r[Mn]=s,r[jo]=c,Ov(r,s,!1,!1),s.stateNode=r;e:{switch(g=ed(l,c),l){case"dialog":Ve("cancel",r),Ve("close",r),f=c;break;case"iframe":case"object":case"embed":Ve("load",r),f=c;break;case"video":case"audio":for(f=0;f<Do.length;f++)Ve(Do[f],r);f=c;break;case"source":Ve("error",r),f=c;break;case"img":case"image":case"link":Ve("error",r),Ve("load",r),f=c;break;case"details":Ve("toggle",r),f=c;break;case"input":ll(r,c),f=mo(r,c),Ve("invalid",r);break;case"option":f=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},f=Y({},c,{value:void 0}),Ve("invalid",r);break;case"textarea":K(r,c),f=L(r,c),Ve("invalid",r);break;default:f=c}Zc(l,f),E=f;for(p in E)if(E.hasOwnProperty(p)){var S=E[p];p==="style"?vo(r,S):p==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&un(r,S)):p==="children"?typeof S=="string"?(l!=="textarea"||S!=="")&&Xn(r,S):typeof S=="number"&&Xn(r,""+S):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(o.hasOwnProperty(p)?S!=null&&p==="onScroll"&&Ve("scroll",r):S!=null&&V(r,p,S,g))}switch(l){case"input":Tr(r),cl(r,c,!1);break;case"textarea":Tr(r),re(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Te(c.value));break;case"select":r.multiple=!!c.multiple,p=c.value,p!=null?Ir(r,!!c.multiple,p,!1):c.defaultValue!=null&&Ir(r,!!c.multiple,c.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Al)}switch(l){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return It(s),null;case 6:if(r&&s.stateNode!=null)Dv(r,s,r.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(n(166));if(l=Ii(Vo.current),Ii(Fn.current),$l(s)){if(c=s.stateNode,l=s.memoizedProps,c[Mn]=s,(p=c.nodeValue!==l)&&(r=Zt,r!==null))switch(r.tag){case 3:Rl(c.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Rl(c.nodeValue,l,(r.mode&1)!==0)}p&&(s.flags|=4)}else c=(l.nodeType===9?l:l.ownerDocument).createTextNode(c),c[Mn]=s,s.stateNode=c}return It(s),null;case 13:if(He(Xe),c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ke&&en!==null&&s.mode&1&&!(s.flags&128))jg(),xs(),s.flags|=98560,p=!1;else if(p=$l(s),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Mn]=s}else xs(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;It(s),p=!1}else Cn!==null&&(Rf(Cn),Cn=null),p=!0;if(!p)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(s.child.flags|=8192,s.mode&1&&(r===null||Xe.current&1?ct===0&&(ct=3):Lf())),s.updateQueue!==null&&(s.flags|=4),It(s),null);case 4:return Ts(),_f(r,s),r===null&&Mo(s.stateNode.containerInfo),It(s),null;case 10:return Gd(s.type._context),It(s),null;case 17:return Ft(s.type)&&Ll(),It(s),null;case 19:if(He(Xe),p=s.memoizedState,p===null)return It(s),null;if(c=(s.flags&128)!==0,g=p.rendering,g===null)if(c)Ko(p,!1);else{if(ct!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(g=Wl(r),g!==null){for(s.flags|=128,Ko(p,!1),c=g.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=l,l=s.child;l!==null;)p=l,r=c,p.flags&=14680066,g=p.alternate,g===null?(p.childLanes=0,p.lanes=r,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=g.childLanes,p.lanes=g.lanes,p.child=g.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=g.memoizedProps,p.memoizedState=g.memoizedState,p.updateQueue=g.updateQueue,p.type=g.type,r=g.dependencies,p.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return $e(Xe,Xe.current&1|2),s.child}r=r.sibling}p.tail!==null&&nt()>Ns&&(s.flags|=128,c=!0,Ko(p,!1),s.lanes=4194304)}else{if(!c)if(r=Wl(g),r!==null){if(s.flags|=128,c=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ko(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Ke)return It(s),null}else 2*nt()-p.renderingStartTime>Ns&&l!==1073741824&&(s.flags|=128,c=!0,Ko(p,!1),s.lanes=4194304);p.isBackwards?(g.sibling=s.child,s.child=g):(l=p.last,l!==null?l.sibling=g:s.child=g,p.last=g)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=nt(),s.sibling=null,l=Xe.current,$e(Xe,c?l&1|2:l&1),s):(It(s),null);case 22:case 23:return Of(),c=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(s.flags|=8192),c&&s.mode&1?tn&1073741824&&(It(s),s.subtreeFlags&6&&(s.flags|=8192)):It(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function kS(r,s){switch(Bd(s),s.tag){case 1:return Ft(s.type)&&Ll(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ts(),He(Mt),He(bt),ef(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return Jd(s),null;case 13:if(He(Xe),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));xs()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return He(Xe),null;case 4:return Ts(),null;case 10:return Gd(s.type._context),null;case 22:case 23:return Of(),null;case 24:return null;default:return null}}var eu=!1,kt=!1,PS=typeof WeakSet=="function"?WeakSet:Set,X=null;function ks(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(c){et(r,s,c)}else l.current=null}function Ef(r,s,l){try{l()}catch(c){et(r,s,c)}}var Mv=!1;function NS(r,s){if(Ad=_l,r=pg(),Sd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var g=0,E=-1,S=-1,O=0,U=0,B=r,$=null;t:for(;;){for(var G;B!==l||f!==0&&B.nodeType!==3||(E=g+f),B!==p||c!==0&&B.nodeType!==3||(S=g+c),B.nodeType===3&&(g+=B.nodeValue.length),(G=B.firstChild)!==null;)$=B,B=G;for(;;){if(B===r)break t;if($===l&&++O===f&&(E=g),$===p&&++U===c&&(S=g),(G=B.nextSibling)!==null)break;B=$,$=B.parentNode}B=G}l=E===-1||S===-1?null:{start:E,end:S}}else l=null}l=l||{start:0,end:0}}else l=null;for(Od={focusedElem:r,selectionRange:l},_l=!1,X=s;X!==null;)if(s=X,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,X=r;else for(;X!==null;){s=X;try{var J=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var Z=J.memoizedProps,rt=J.memoizedState,N=s.stateNode,T=N.getSnapshotBeforeUpdate(s.elementType===s.type?Z:Sn(s.type,Z),rt);N.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var A=s.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(z){et(s,s.return,z)}if(r=s.sibling,r!==null){r.return=s.return,X=r;break}X=s.return}return J=Mv,Mv=!1,J}function Yo(r,s,l){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var f=c=c.next;do{if((f.tag&r)===r){var p=f.destroy;f.destroy=void 0,p!==void 0&&Ef(s,l,p)}f=f.next}while(f!==c)}}function tu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var c=l.create;l.destroy=c()}l=l.next}while(l!==s)}}function xf(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Fv(r){var s=r.alternate;s!==null&&(r.alternate=null,Fv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[Mn],delete s[jo],delete s[Fd],delete s[fS],delete s[hS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function jv(r){return r.tag===5||r.tag===3||r.tag===4}function $v(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||jv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Cf(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Al));else if(c!==4&&(r=r.child,r!==null))for(Cf(r,s,l),r=r.sibling;r!==null;)Cf(r,s,l),r=r.sibling}function Sf(r,s,l){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Sf(r,s,l),r=r.sibling;r!==null;)Sf(r,s,l),r=r.sibling}var _t=null,bn=!1;function Ur(r,s,l){for(l=l.child;l!==null;)Uv(r,s,l),l=l.sibling}function Uv(r,s,l){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(pl,l)}catch{}switch(l.tag){case 5:kt||ks(l,s);case 6:var c=_t,f=bn;_t=null,Ur(r,s,l),_t=c,bn=f,_t!==null&&(bn?(r=_t,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):_t.removeChild(l.stateNode));break;case 18:_t!==null&&(bn?(r=_t,l=l.stateNode,r.nodeType===8?Md(r.parentNode,l):r.nodeType===1&&Md(r,l),Io(r)):Md(_t,l.stateNode));break;case 4:c=_t,f=bn,_t=l.stateNode.containerInfo,bn=!0,Ur(r,s,l),_t=c,bn=f;break;case 0:case 11:case 14:case 15:if(!kt&&(c=l.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){f=c=c.next;do{var p=f,g=p.destroy;p=p.tag,g!==void 0&&(p&2||p&4)&&Ef(l,s,g),f=f.next}while(f!==c)}Ur(r,s,l);break;case 1:if(!kt&&(ks(l,s),c=l.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=l.memoizedProps,c.state=l.memoizedState,c.componentWillUnmount()}catch(E){et(l,s,E)}Ur(r,s,l);break;case 21:Ur(r,s,l);break;case 22:l.mode&1?(kt=(c=kt)||l.memoizedState!==null,Ur(r,s,l),kt=c):Ur(r,s,l);break;default:Ur(r,s,l)}}function Bv(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new PS),s.forEach(function(c){var f=$S.bind(null,r,c);l.has(c)||(l.add(c),c.then(f,f))})}}function Tn(r,s){var l=s.deletions;if(l!==null)for(var c=0;c<l.length;c++){var f=l[c];try{var p=r,g=s,E=g;e:for(;E!==null;){switch(E.tag){case 5:_t=E.stateNode,bn=!1;break e;case 3:_t=E.stateNode.containerInfo,bn=!0;break e;case 4:_t=E.stateNode.containerInfo,bn=!0;break e}E=E.return}if(_t===null)throw Error(n(160));Uv(p,g,f),_t=null,bn=!1;var S=f.alternate;S!==null&&(S.return=null),f.return=null}catch(O){et(f,s,O)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)zv(s,r),s=s.sibling}function zv(r,s){var l=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Tn(s,r),$n(r),c&4){try{Yo(3,r,r.return),tu(3,r)}catch(Z){et(r,r.return,Z)}try{Yo(5,r,r.return)}catch(Z){et(r,r.return,Z)}}break;case 1:Tn(s,r),$n(r),c&512&&l!==null&&ks(l,l.return);break;case 5:if(Tn(s,r),$n(r),c&512&&l!==null&&ks(l,l.return),r.flags&32){var f=r.stateNode;try{Xn(f,"")}catch(Z){et(r,r.return,Z)}}if(c&4&&(f=r.stateNode,f!=null)){var p=r.memoizedProps,g=l!==null?l.memoizedProps:p,E=r.type,S=r.updateQueue;if(r.updateQueue=null,S!==null)try{E==="input"&&p.type==="radio"&&p.name!=null&&ul(f,p),ed(E,g);var O=ed(E,p);for(g=0;g<S.length;g+=2){var U=S[g],B=S[g+1];U==="style"?vo(f,B):U==="dangerouslySetInnerHTML"?un(f,B):U==="children"?Xn(f,B):V(f,U,B,O)}switch(E){case"input":go(f,p);break;case"textarea":te(f,p);break;case"select":var $=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!p.multiple;var G=p.value;G!=null?Ir(f,!!p.multiple,G,!1):$!==!!p.multiple&&(p.defaultValue!=null?Ir(f,!!p.multiple,p.defaultValue,!0):Ir(f,!!p.multiple,p.multiple?[]:"",!1))}f[jo]=p}catch(Z){et(r,r.return,Z)}}break;case 6:if(Tn(s,r),$n(r),c&4){if(r.stateNode===null)throw Error(n(162));f=r.stateNode,p=r.memoizedProps;try{f.nodeValue=p}catch(Z){et(r,r.return,Z)}}break;case 3:if(Tn(s,r),$n(r),c&4&&l!==null&&l.memoizedState.isDehydrated)try{Io(s.containerInfo)}catch(Z){et(r,r.return,Z)}break;case 4:Tn(s,r),$n(r);break;case 13:Tn(s,r),$n(r),f=r.child,f.flags&8192&&(p=f.memoizedState!==null,f.stateNode.isHidden=p,!p||f.alternate!==null&&f.alternate.memoizedState!==null||(If=nt())),c&4&&Bv(r);break;case 22:if(U=l!==null&&l.memoizedState!==null,r.mode&1?(kt=(O=kt)||U,Tn(s,r),kt=O):Tn(s,r),$n(r),c&8192){if(O=r.memoizedState!==null,(r.stateNode.isHidden=O)&&!U&&r.mode&1)for(X=r,U=r.child;U!==null;){for(B=X=U;X!==null;){switch($=X,G=$.child,$.tag){case 0:case 11:case 14:case 15:Yo(4,$,$.return);break;case 1:ks($,$.return);var J=$.stateNode;if(typeof J.componentWillUnmount=="function"){c=$,l=$.return;try{s=c,J.props=s.memoizedProps,J.state=s.memoizedState,J.componentWillUnmount()}catch(Z){et(c,l,Z)}}break;case 5:ks($,$.return);break;case 22:if($.memoizedState!==null){Wv(B);continue}}G!==null?(G.return=$,X=G):Wv(B)}U=U.sibling}e:for(U=null,B=r;;){if(B.tag===5){if(U===null){U=B;try{f=B.stateNode,O?(p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(E=B.stateNode,S=B.memoizedProps.style,g=S!=null&&S.hasOwnProperty("display")?S.display:null,E.style.display=Xc("display",g))}catch(Z){et(r,r.return,Z)}}}else if(B.tag===6){if(U===null)try{B.stateNode.nodeValue=O?"":B.memoizedProps}catch(Z){et(r,r.return,Z)}}else if((B.tag!==22&&B.tag!==23||B.memoizedState===null||B===r)&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===r)break e;for(;B.sibling===null;){if(B.return===null||B.return===r)break e;U===B&&(U=null),B=B.return}U===B&&(U=null),B.sibling.return=B.return,B=B.sibling}}break;case 19:Tn(s,r),$n(r),c&4&&Bv(r);break;case 21:break;default:Tn(s,r),$n(r)}}function $n(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(jv(l)){var c=l;break e}l=l.return}throw Error(n(160))}switch(c.tag){case 5:var f=c.stateNode;c.flags&32&&(Xn(f,""),c.flags&=-33);var p=$v(r);Sf(r,p,f);break;case 3:case 4:var g=c.stateNode.containerInfo,E=$v(r);Cf(r,E,g);break;default:throw Error(n(161))}}catch(S){et(r,r.return,S)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function RS(r,s,l){X=r,Vv(r)}function Vv(r,s,l){for(var c=(r.mode&1)!==0;X!==null;){var f=X,p=f.child;if(f.tag===22&&c){var g=f.memoizedState!==null||eu;if(!g){var E=f.alternate,S=E!==null&&E.memoizedState!==null||kt;E=eu;var O=kt;if(eu=g,(kt=S)&&!O)for(X=f;X!==null;)g=X,S=g.child,g.tag===22&&g.memoizedState!==null?qv(f):S!==null?(S.return=g,X=S):qv(f);for(;p!==null;)X=p,Vv(p),p=p.sibling;X=f,eu=E,kt=O}Hv(r)}else f.subtreeFlags&8772&&p!==null?(p.return=f,X=p):Hv(r)}}function Hv(r){for(;X!==null;){var s=X;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:kt||tu(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!kt)if(l===null)c.componentDidMount();else{var f=s.elementType===s.type?l.memoizedProps:Sn(s.type,l.memoizedProps);c.componentDidUpdate(f,l.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=s.updateQueue;p!==null&&Wg(s,p,c);break;case 3:var g=s.updateQueue;if(g!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Wg(s,g,l)}break;case 5:var E=s.stateNode;if(l===null&&s.flags&4){l=E;var S=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&l.focus();break;case"img":S.src&&(l.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var O=s.alternate;if(O!==null){var U=O.memoizedState;if(U!==null){var B=U.dehydrated;B!==null&&Io(B)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}kt||s.flags&512&&xf(s)}catch($){et(s,s.return,$)}}if(s===r){X=null;break}if(l=s.sibling,l!==null){l.return=s.return,X=l;break}X=s.return}}function Wv(r){for(;X!==null;){var s=X;if(s===r){X=null;break}var l=s.sibling;if(l!==null){l.return=s.return,X=l;break}X=s.return}}function qv(r){for(;X!==null;){var s=X;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{tu(4,s)}catch(S){et(s,l,S)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var f=s.return;try{c.componentDidMount()}catch(S){et(s,f,S)}}var p=s.return;try{xf(s)}catch(S){et(s,p,S)}break;case 5:var g=s.return;try{xf(s)}catch(S){et(s,g,S)}}}catch(S){et(s,s.return,S)}if(s===r){X=null;break}var E=s.sibling;if(E!==null){E.return=s.return,X=E;break}X=s.return}}var AS=Math.ceil,nu=ee.ReactCurrentDispatcher,bf=ee.ReactCurrentOwner,pn=ee.ReactCurrentBatchConfig,be=0,pt=null,lt=null,Et=0,tn=0,Ps=Dr(0),ct=0,Qo=null,Pi=0,ru=0,Tf=0,Xo=null,$t=null,If=0,Ns=1/0,or=null,iu=!1,kf=null,Br=null,su=!1,zr=null,ou=0,Jo=0,Pf=null,au=-1,lu=0;function Ot(){return be&6?nt():au!==-1?au:au=nt()}function Vr(r){return r.mode&1?be&2&&Et!==0?Et&-Et:mS.transition!==null?(lu===0&&(lu=$m()),lu):(r=Ae,r!==0||(r=window.event,r=r===void 0?16:Km(r.type)),r):1}function In(r,s,l,c){if(50<Jo)throw Jo=0,Pf=null,Error(n(185));xo(r,l,c),(!(be&2)||r!==pt)&&(r===pt&&(!(be&2)&&(ru|=l),ct===4&&Hr(r,Et)),Ut(r,c),l===1&&be===0&&!(s.mode&1)&&(Ns=nt()+500,Ml&&Fr()))}function Ut(r,s){var l=r.callbackNode;mC(r,s);var c=vl(r,r===pt?Et:0);if(c===0)l!==null&&Mm(l),r.callbackNode=null,r.callbackPriority=0;else if(s=c&-c,r.callbackPriority!==s){if(l!=null&&Mm(l),s===1)r.tag===0?pS(Kv.bind(null,r)):Og(Kv.bind(null,r)),cS(function(){!(be&6)&&Fr()}),l=null;else{switch(Um(c)){case 1:l=ad;break;case 4:l=Fm;break;case 16:l=hl;break;case 536870912:l=jm;break;default:l=hl}l=ny(l,Gv.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Gv(r,s){if(au=-1,lu=0,be&6)throw Error(n(327));var l=r.callbackNode;if(Rs()&&r.callbackNode!==l)return null;var c=vl(r,r===pt?Et:0);if(c===0)return null;if(c&30||c&r.expiredLanes||s)s=uu(r,c);else{s=c;var f=be;be|=2;var p=Qv();(pt!==r||Et!==s)&&(or=null,Ns=nt()+500,Ri(r,s));do try{DS();break}catch(E){Yv(r,E)}while(!0);qd(),nu.current=p,be=f,lt!==null?s=0:(pt=null,Et=0,s=ct)}if(s!==0){if(s===2&&(f=ld(r),f!==0&&(c=f,s=Nf(r,f))),s===1)throw l=Qo,Ri(r,0),Hr(r,c),Ut(r,nt()),l;if(s===6)Hr(r,c);else{if(f=r.current.alternate,!(c&30)&&!OS(f)&&(s=uu(r,c),s===2&&(p=ld(r),p!==0&&(c=p,s=Nf(r,p))),s===1))throw l=Qo,Ri(r,0),Hr(r,c),Ut(r,nt()),l;switch(r.finishedWork=f,r.finishedLanes=c,s){case 0:case 1:throw Error(n(345));case 2:Ai(r,$t,or);break;case 3:if(Hr(r,c),(c&130023424)===c&&(s=If+500-nt(),10<s)){if(vl(r,0)!==0)break;if(f=r.suspendedLanes,(f&c)!==c){Ot(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Dd(Ai.bind(null,r,$t,or),s);break}Ai(r,$t,or);break;case 4:if(Hr(r,c),(c&4194240)===c)break;for(s=r.eventTimes,f=-1;0<c;){var g=31-En(c);p=1<<g,g=s[g],g>f&&(f=g),c&=~p}if(c=f,c=nt()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*AS(c/1960))-c,10<c){r.timeoutHandle=Dd(Ai.bind(null,r,$t,or),c);break}Ai(r,$t,or);break;case 5:Ai(r,$t,or);break;default:throw Error(n(329))}}}return Ut(r,nt()),r.callbackNode===l?Gv.bind(null,r):null}function Nf(r,s){var l=Xo;return r.current.memoizedState.isDehydrated&&(Ri(r,s).flags|=256),r=uu(r,s),r!==2&&(s=$t,$t=l,s!==null&&Rf(s)),r}function Rf(r){$t===null?$t=r:$t.push.apply($t,r)}function OS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var c=0;c<l.length;c++){var f=l[c],p=f.getSnapshot;f=f.value;try{if(!xn(p(),f))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hr(r,s){for(s&=~Tf,s&=~ru,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-En(s),c=1<<l;r[l]=-1,s&=~c}}function Kv(r){if(be&6)throw Error(n(327));Rs();var s=vl(r,0);if(!(s&1))return Ut(r,nt()),null;var l=uu(r,s);if(r.tag!==0&&l===2){var c=ld(r);c!==0&&(s=c,l=Nf(r,c))}if(l===1)throw l=Qo,Ri(r,0),Hr(r,s),Ut(r,nt()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,Ai(r,$t,or),Ut(r,nt()),null}function Af(r,s){var l=be;be|=1;try{return r(s)}finally{be=l,be===0&&(Ns=nt()+500,Ml&&Fr())}}function Ni(r){zr!==null&&zr.tag===0&&!(be&6)&&Rs();var s=be;be|=1;var l=pn.transition,c=Ae;try{if(pn.transition=null,Ae=1,r)return r()}finally{Ae=c,pn.transition=l,be=s,!(be&6)&&Fr()}}function Of(){tn=Ps.current,He(Ps)}function Ri(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,uS(l)),lt!==null)for(l=lt.return;l!==null;){var c=l;switch(Bd(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Ll();break;case 3:Ts(),He(Mt),He(bt),ef();break;case 5:Jd(c);break;case 4:Ts();break;case 13:He(Xe);break;case 19:He(Xe);break;case 10:Gd(c.type._context);break;case 22:case 23:Of()}l=l.return}if(pt=r,lt=r=Wr(r.current,null),Et=tn=s,ct=0,Qo=null,Tf=ru=Pi=0,$t=Xo=null,Ti!==null){for(s=0;s<Ti.length;s++)if(l=Ti[s],c=l.interleaved,c!==null){l.interleaved=null;var f=c.next,p=l.pending;if(p!==null){var g=p.next;p.next=f,c.next=g}l.pending=c}Ti=null}return r}function Yv(r,s){do{var l=lt;try{if(qd(),ql.current=Ql,Gl){for(var c=Je.memoizedState;c!==null;){var f=c.queue;f!==null&&(f.pending=null),c=c.next}Gl=!1}if(ki=0,ht=ut=Je=null,Ho=!1,Wo=0,bf.current=null,l===null||l.return===null){ct=1,Qo=s,lt=null;break}e:{var p=r,g=l.return,E=l,S=s;if(s=Et,E.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var O=S,U=E,B=U.tag;if(!(U.mode&1)&&(B===0||B===11||B===15)){var $=U.alternate;$?(U.updateQueue=$.updateQueue,U.memoizedState=$.memoizedState,U.lanes=$.lanes):(U.updateQueue=null,U.memoizedState=null)}var G=_v(g);if(G!==null){G.flags&=-257,Ev(G,g,E,p,s),G.mode&1&&wv(p,O,s),s=G,S=O;var J=s.updateQueue;if(J===null){var Z=new Set;Z.add(S),s.updateQueue=Z}else J.add(S);break e}else{if(!(s&1)){wv(p,O,s),Lf();break e}S=Error(n(426))}}else if(Ke&&E.mode&1){var rt=_v(g);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),Ev(rt,g,E,p,s),Hd(Is(S,E));break e}}p=S=Is(S,E),ct!==4&&(ct=2),Xo===null?Xo=[p]:Xo.push(p),p=g;do{switch(p.tag){case 3:p.flags|=65536,s&=-s,p.lanes|=s;var N=vv(p,S,s);Hg(p,N);break e;case 1:E=S;var T=p.type,A=p.stateNode;if(!(p.flags&128)&&(typeof T.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Br===null||!Br.has(A)))){p.flags|=65536,s&=-s,p.lanes|=s;var z=yv(p,E,s);Hg(p,z);break e}}p=p.return}while(p!==null)}Jv(l)}catch(ne){s=ne,lt===l&&l!==null&&(lt=l=l.return);continue}break}while(!0)}function Qv(){var r=nu.current;return nu.current=Ql,r===null?Ql:r}function Lf(){(ct===0||ct===3||ct===2)&&(ct=4),pt===null||!(Pi&268435455)&&!(ru&268435455)||Hr(pt,Et)}function uu(r,s){var l=be;be|=2;var c=Qv();(pt!==r||Et!==s)&&(or=null,Ri(r,s));do try{LS();break}catch(f){Yv(r,f)}while(!0);if(qd(),be=l,nu.current=c,lt!==null)throw Error(n(261));return pt=null,Et=0,ct}function LS(){for(;lt!==null;)Xv(lt)}function DS(){for(;lt!==null&&!oC();)Xv(lt)}function Xv(r){var s=ty(r.alternate,r,tn);r.memoizedProps=r.pendingProps,s===null?Jv(r):lt=s,bf.current=null}function Jv(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=kS(l,s),l!==null){l.flags&=32767,lt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{ct=6,lt=null;return}}else if(l=IS(l,s,tn),l!==null){lt=l;return}if(s=s.sibling,s!==null){lt=s;return}lt=s=r}while(s!==null);ct===0&&(ct=5)}function Ai(r,s,l){var c=Ae,f=pn.transition;try{pn.transition=null,Ae=1,MS(r,s,l,c)}finally{pn.transition=f,Ae=c}return null}function MS(r,s,l,c){do Rs();while(zr!==null);if(be&6)throw Error(n(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var p=l.lanes|l.childLanes;if(gC(r,p),r===pt&&(lt=pt=null,Et=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||su||(su=!0,ny(hl,function(){return Rs(),null})),p=(l.flags&15990)!==0,l.subtreeFlags&15990||p){p=pn.transition,pn.transition=null;var g=Ae;Ae=1;var E=be;be|=4,bf.current=null,NS(r,l),zv(l,r),nS(Od),_l=!!Ad,Od=Ad=null,r.current=l,RS(l),aC(),be=E,Ae=g,pn.transition=p}else r.current=l;if(su&&(su=!1,zr=r,ou=f),p=r.pendingLanes,p===0&&(Br=null),cC(l.stateNode),Ut(r,nt()),s!==null)for(c=r.onRecoverableError,l=0;l<s.length;l++)f=s[l],c(f.value,{componentStack:f.stack,digest:f.digest});if(iu)throw iu=!1,r=kf,kf=null,r;return ou&1&&r.tag!==0&&Rs(),p=r.pendingLanes,p&1?r===Pf?Jo++:(Jo=0,Pf=r):Jo=0,Fr(),null}function Rs(){if(zr!==null){var r=Um(ou),s=pn.transition,l=Ae;try{if(pn.transition=null,Ae=16>r?16:r,zr===null)var c=!1;else{if(r=zr,zr=null,ou=0,be&6)throw Error(n(331));var f=be;for(be|=4,X=r.current;X!==null;){var p=X,g=p.child;if(X.flags&16){var E=p.deletions;if(E!==null){for(var S=0;S<E.length;S++){var O=E[S];for(X=O;X!==null;){var U=X;switch(U.tag){case 0:case 11:case 15:Yo(8,U,p)}var B=U.child;if(B!==null)B.return=U,X=B;else for(;X!==null;){U=X;var $=U.sibling,G=U.return;if(Fv(U),U===O){X=null;break}if($!==null){$.return=G,X=$;break}X=G}}}var J=p.alternate;if(J!==null){var Z=J.child;if(Z!==null){J.child=null;do{var rt=Z.sibling;Z.sibling=null,Z=rt}while(Z!==null)}}X=p}}if(p.subtreeFlags&2064&&g!==null)g.return=p,X=g;else e:for(;X!==null;){if(p=X,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Yo(9,p,p.return)}var N=p.sibling;if(N!==null){N.return=p.return,X=N;break e}X=p.return}}var T=r.current;for(X=T;X!==null;){g=X;var A=g.child;if(g.subtreeFlags&2064&&A!==null)A.return=g,X=A;else e:for(g=T;X!==null;){if(E=X,E.flags&2048)try{switch(E.tag){case 0:case 11:case 15:tu(9,E)}}catch(ne){et(E,E.return,ne)}if(E===g){X=null;break e}var z=E.sibling;if(z!==null){z.return=E.return,X=z;break e}X=E.return}}if(be=f,Fr(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(pl,r)}catch{}c=!0}return c}finally{Ae=l,pn.transition=s}}return!1}function Zv(r,s,l){s=Is(l,s),s=vv(r,s,1),r=$r(r,s,1),s=Ot(),r!==null&&(xo(r,1,s),Ut(r,s))}function et(r,s,l){if(r.tag===3)Zv(r,r,l);else for(;s!==null;){if(s.tag===3){Zv(s,r,l);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Br===null||!Br.has(c))){r=Is(l,r),r=yv(s,r,1),s=$r(s,r,1),r=Ot(),s!==null&&(xo(s,1,r),Ut(s,r));break}}s=s.return}}function FS(r,s,l){var c=r.pingCache;c!==null&&c.delete(s),s=Ot(),r.pingedLanes|=r.suspendedLanes&l,pt===r&&(Et&l)===l&&(ct===4||ct===3&&(Et&130023424)===Et&&500>nt()-If?Ri(r,0):Tf|=l),Ut(r,s)}function ey(r,s){s===0&&(r.mode&1?(s=gl,gl<<=1,!(gl&130023424)&&(gl=4194304)):s=1);var l=Ot();r=rr(r,s),r!==null&&(xo(r,s,l),Ut(r,l))}function jS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),ey(r,l)}function $S(r,s){var l=0;switch(r.tag){case 13:var c=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(s),ey(r,l)}var ty;ty=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||Mt.current)jt=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return jt=!1,TS(r,s,l);jt=!!(r.flags&131072)}else jt=!1,Ke&&s.flags&1048576&&Lg(s,jl,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Zl(r,s),r=s.pendingProps;var f=ws(s,bt.current);bs(s,l),f=rf(null,s,c,r,f,l);var p=sf();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ft(c)?(p=!0,Dl(s)):p=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Qd(s),f.updater=Xl,s.stateNode=f,f._reactInternals=s,df(s,c,r,l),s=mf(null,s,c,!0,p,l)):(s.tag=0,Ke&&p&&Ud(s),At(null,s,f,l),s=s.child),s;case 16:c=s.elementType;e:{switch(Zl(r,s),r=s.pendingProps,f=c._init,c=f(c._payload),s.type=c,f=s.tag=BS(c),r=Sn(c,r),f){case 0:s=pf(null,s,c,r,l);break e;case 1:s=Iv(null,s,c,r,l);break e;case 11:s=xv(null,s,c,r,l);break e;case 14:s=Cv(null,s,c,Sn(c.type,r),l);break e}throw Error(n(306,c,""))}return s;case 0:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Sn(c,f),pf(r,s,c,f,l);case 1:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Sn(c,f),Iv(r,s,c,f,l);case 3:e:{if(kv(s),r===null)throw Error(n(387));c=s.pendingProps,p=s.memoizedState,f=p.element,Vg(r,s),Hl(s,c,null,l);var g=s.memoizedState;if(c=g.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){f=Is(Error(n(423)),s),s=Pv(r,s,c,l,f);break e}else if(c!==f){f=Is(Error(n(424)),s),s=Pv(r,s,c,l,f);break e}else for(en=Lr(s.stateNode.containerInfo.firstChild),Zt=s,Ke=!0,Cn=null,l=Bg(s,null,c,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(xs(),c===f){s=sr(r,s,l);break e}At(r,s,c,l)}s=s.child}return s;case 5:return qg(s),r===null&&Vd(s),c=s.type,f=s.pendingProps,p=r!==null?r.memoizedProps:null,g=f.children,Ld(c,f)?g=null:p!==null&&Ld(c,p)&&(s.flags|=32),Tv(r,s),At(r,s,g,l),s.child;case 6:return r===null&&Vd(s),null;case 13:return Nv(r,s,l);case 4:return Xd(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Cs(s,null,c,l):At(r,s,c,l),s.child;case 11:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Sn(c,f),xv(r,s,c,f,l);case 7:return At(r,s,s.pendingProps,l),s.child;case 8:return At(r,s,s.pendingProps.children,l),s.child;case 12:return At(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(c=s.type._context,f=s.pendingProps,p=s.memoizedProps,g=f.value,$e(Bl,c._currentValue),c._currentValue=g,p!==null)if(xn(p.value,g)){if(p.children===f.children&&!Mt.current){s=sr(r,s,l);break e}}else for(p=s.child,p!==null&&(p.return=s);p!==null;){var E=p.dependencies;if(E!==null){g=p.child;for(var S=E.firstContext;S!==null;){if(S.context===c){if(p.tag===1){S=ir(-1,l&-l),S.tag=2;var O=p.updateQueue;if(O!==null){O=O.shared;var U=O.pending;U===null?S.next=S:(S.next=U.next,U.next=S),O.pending=S}}p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),Kd(p.return,l,s),E.lanes|=l;break}S=S.next}}else if(p.tag===10)g=p.type===s.type?null:p.child;else if(p.tag===18){if(g=p.return,g===null)throw Error(n(341));g.lanes|=l,E=g.alternate,E!==null&&(E.lanes|=l),Kd(g,l,s),g=p.sibling}else g=p.child;if(g!==null)g.return=p;else for(g=p;g!==null;){if(g===s){g=null;break}if(p=g.sibling,p!==null){p.return=g.return,g=p;break}g=g.return}p=g}At(r,s,f.children,l),s=s.child}return s;case 9:return f=s.type,c=s.pendingProps.children,bs(s,l),f=fn(f),c=c(f),s.flags|=1,At(r,s,c,l),s.child;case 14:return c=s.type,f=Sn(c,s.pendingProps),f=Sn(c.type,f),Cv(r,s,c,f,l);case 15:return Sv(r,s,s.type,s.pendingProps,l);case 17:return c=s.type,f=s.pendingProps,f=s.elementType===c?f:Sn(c,f),Zl(r,s),s.tag=1,Ft(c)?(r=!0,Dl(s)):r=!1,bs(s,l),mv(s,c,f),df(s,c,f,l),mf(null,s,c,!0,r,l);case 19:return Av(r,s,l);case 22:return bv(r,s,l)}throw Error(n(156,s.tag))};function ny(r,s){return Dm(r,s)}function US(r,s,l,c){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(r,s,l,c){return new US(r,s,l,c)}function Df(r){return r=r.prototype,!(!r||!r.isReactComponent)}function BS(r){if(typeof r=="function")return Df(r)?1:0;if(r!=null){if(r=r.$$typeof,r===ot)return 11;if(r===Xt)return 14}return 2}function Wr(r,s){var l=r.alternate;return l===null?(l=mn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function cu(r,s,l,c,f,p){var g=2;if(c=r,typeof r=="function")Df(r)&&(g=1);else if(typeof r=="string")g=5;else e:switch(r){case Q:return Oi(l.children,f,p,s);case _e:g=8,f|=8;break;case pe:return r=mn(12,l,s,f|2),r.elementType=pe,r.lanes=p,r;case Le:return r=mn(13,l,s,f),r.elementType=Le,r.lanes=p,r;case at:return r=mn(19,l,s,f),r.elementType=at,r.lanes=p,r;case Ge:return du(l,f,p,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case je:g=10;break e;case Ce:g=9;break e;case ot:g=11;break e;case Xt:g=14;break e;case Ct:g=16,c=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=mn(g,l,s,f),s.elementType=r,s.type=c,s.lanes=p,s}function Oi(r,s,l,c){return r=mn(7,r,c,s),r.lanes=l,r}function du(r,s,l,c){return r=mn(22,r,c,s),r.elementType=Ge,r.lanes=l,r.stateNode={isHidden:!1},r}function Mf(r,s,l){return r=mn(6,r,null,s),r.lanes=l,r}function Ff(r,s,l){return s=mn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function zS(r,s,l,c,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ud(0),this.expirationTimes=ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ud(0),this.identifierPrefix=c,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function jf(r,s,l,c,f,p,g,E,S){return r=new zS(r,s,l,E,S),s===1?(s=1,p===!0&&(s|=8)):s=0,p=mn(3,null,null,s),r.current=p,p.stateNode=r,p.memoizedState={element:c,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qd(p),r}function VS(r,s,l){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:c==null?null:""+c,children:r,containerInfo:s,implementation:l}}function ry(r){if(!r)return Mr;r=r._reactInternals;e:{if(Ei(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ft(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(Ft(l))return Rg(r,l,s)}return s}function iy(r,s,l,c,f,p,g,E,S){return r=jf(l,c,!0,r,f,p,g,E,S),r.context=ry(null),l=r.current,c=Ot(),f=Vr(l),p=ir(c,f),p.callback=s??null,$r(l,p,f),r.current.lanes=f,xo(r,f,c),Ut(r,c),r}function fu(r,s,l,c){var f=s.current,p=Ot(),g=Vr(f);return l=ry(l),s.context===null?s.context=l:s.pendingContext=l,s=ir(p,g),s.payload={element:r},c=c===void 0?null:c,c!==null&&(s.callback=c),r=$r(f,s,g),r!==null&&(In(r,f,g,p),Vl(r,f,g)),g}function hu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function sy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function $f(r,s){sy(r,s),(r=r.alternate)&&sy(r,s)}function HS(){return null}var oy=typeof reportError=="function"?reportError:function(r){console.error(r)};function Uf(r){this._internalRoot=r}pu.prototype.render=Uf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));fu(r,s,null,null)},pu.prototype.unmount=Uf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Ni(function(){fu(null,r,null,null)}),s[Zn]=null}};function pu(r){this._internalRoot=r}pu.prototype.unstable_scheduleHydration=function(r){if(r){var s=Vm();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Rr.length&&s!==0&&s<Rr[l].priority;l++);Rr.splice(l,0,r),l===0&&qm(r)}};function Bf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function mu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ay(){}function WS(r,s,l,c,f){if(f){if(typeof c=="function"){var p=c;c=function(){var O=hu(g);p.call(O)}}var g=iy(s,c,r,0,null,!1,!1,"",ay);return r._reactRootContainer=g,r[Zn]=g.current,Mo(r.nodeType===8?r.parentNode:r),Ni(),g}for(;f=r.lastChild;)r.removeChild(f);if(typeof c=="function"){var E=c;c=function(){var O=hu(S);E.call(O)}}var S=jf(r,0,!1,null,null,!1,!1,"",ay);return r._reactRootContainer=S,r[Zn]=S.current,Mo(r.nodeType===8?r.parentNode:r),Ni(function(){fu(s,S,l,c)}),S}function gu(r,s,l,c,f){var p=l._reactRootContainer;if(p){var g=p;if(typeof f=="function"){var E=f;f=function(){var S=hu(g);E.call(S)}}fu(s,g,r,f)}else g=WS(l,s,r,f,c);return hu(g)}Bm=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Eo(s.pendingLanes);l!==0&&(cd(s,l|1),Ut(s,nt()),!(be&6)&&(Ns=nt()+500,Fr()))}break;case 13:Ni(function(){var c=rr(r,1);if(c!==null){var f=Ot();In(c,r,1,f)}}),$f(r,1)}},dd=function(r){if(r.tag===13){var s=rr(r,134217728);if(s!==null){var l=Ot();In(s,r,134217728,l)}$f(r,134217728)}},zm=function(r){if(r.tag===13){var s=Vr(r),l=rr(r,s);if(l!==null){var c=Ot();In(l,r,s,c)}$f(r,s)}},Vm=function(){return Ae},Hm=function(r,s){var l=Ae;try{return Ae=r,s()}finally{Ae=l}},rd=function(r,s,l){switch(s){case"input":if(go(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var c=l[s];if(c!==r&&c.form===r.form){var f=Ol(c);if(!f)throw Error(n(90));al(c),go(c,f)}}}break;case"textarea":te(r,l);break;case"select":s=l.value,s!=null&&Ir(r,!!l.multiple,s,!1)}},km=Af,Pm=Ni;var qS={usingClientEntryPoint:!1,Events:[$o,vs,Ol,Tm,Im,Af]},Zo={findFiberByHostInstance:xi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},GS={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Om(r),r===null?null:r.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||HS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vu.isDisabled&&vu.supportsFiber)try{pl=vu.inject(GS),Dn=vu}catch{}}return Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qS,Bt.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bf(s))throw Error(n(200));return VS(r,s,null,l)},Bt.createRoot=function(r,s){if(!Bf(r))throw Error(n(299));var l=!1,c="",f=oy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=jf(r,1,!1,null,null,l,!1,c,f),r[Zn]=s.current,Mo(r.nodeType===8?r.parentNode:r),new Uf(s)},Bt.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=Om(s),r=r===null?null:r.stateNode,r},Bt.flushSync=function(r){return Ni(r)},Bt.hydrate=function(r,s,l){if(!mu(s))throw Error(n(200));return gu(null,r,s,!0,l)},Bt.hydrateRoot=function(r,s,l){if(!Bf(r))throw Error(n(405));var c=l!=null&&l.hydratedSources||null,f=!1,p="",g=oy;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onRecoverableError!==void 0&&(g=l.onRecoverableError)),s=iy(s,null,r,1,l??null,f,!1,p,g),r[Zn]=s.current,Mo(r),c)for(r=0;r<c.length;r++)l=c[r],f=l._getVersion,f=f(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,f]:s.mutableSourceEagerHydrationData.push(l,f);return new pu(s)},Bt.render=function(r,s,l){if(!mu(s))throw Error(n(200));return gu(null,r,s,!1,l)},Bt.unmountComponentAtNode=function(r){if(!mu(r))throw Error(n(40));return r._reactRootContainer?(Ni(function(){gu(null,null,r,!1,function(){r._reactRootContainer=null,r[Zn]=null})}),!0):!1},Bt.unstable_batchedUpdates=Af,Bt.unstable_renderSubtreeIntoContainer=function(r,s,l,c){if(!mu(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return gu(r,s,l,!1,c)},Bt.version="18.3.1-next-f1338f8080-20240426",Bt}var Ey;function S2(){if(Ey)return qf.exports;Ey=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),qf.exports=C2(),qf.exports}var wu={},xy;function b2(){if(xy)return wu;xy=1;var t=S2();return wu.createRoot=t.createRoot,wu.hydrateRoot=t.hydrateRoot,wu}var T2=b2();const I2=La(T2);var Cy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H=function(t,e){if(!t)throw no(e)},no=function(t){return new Error("Firebase Database ("+Y_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},k2=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],d=t[n++],h=((o&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(h>>10)),e[i++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},op={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,d=u?t[o+1]:0,h=o+2<t.length,m=h?t[o+2]:0,y=a>>2,w=(a&3)<<4|d>>4;let v=(d&15)<<2|m>>6,C=m&63;h||(C=64,u||(v=64)),i.push(n[y],n[w],n[v],n[C])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Q_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):k2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],d=o<t.length?n[t.charAt(o)]:0;++o;const m=o<t.length?n[t.charAt(o)]:64;++o;const w=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||d==null||m==null||w==null)throw new P2;const v=a<<2|d>>4;if(i.push(v),m!==64){const C=d<<4&240|m>>2;if(i.push(C),w!==64){const x=m<<6&192|w;i.push(x)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X_=function(t){const e=Q_(t);return op.encodeByteArray(e,!0)},$u=function(t){return X_(t).replace(/\./g,"")},Uu=function(t){try{return op.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){return J_(void 0,t)}function J_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!R2(n)||(t[n]=J_(t[n],e[n]));return t}function R2(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=()=>A2().__FIREBASE_DEFAULTS__,L2=()=>{if(typeof process>"u"||typeof Cy>"u")return;const t=Cy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},D2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Uu(t[1]);return e&&JSON.parse(e)},ap=()=>{try{return O2()||L2()||D2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Z_=t=>{var e,n;return(n=(e=ap())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},M2=t=>{const e=Z_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},e0=()=>{var t;return(t=ap())===null||t===void 0?void 0:t.config},t0=t=>{var e;return(e=ap())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$u(JSON.stringify(n)),$u(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Dt())}function j2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function n0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function U2(){const t=Dt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function r0(){return Y_.NODE_ADMIN===!0}function B2(){try{return typeof indexedDB=="object"}catch{return!1}}function z2(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="FirebaseError";class mi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=V2,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ua.prototype.create)}}class Ua{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?H2(a,i):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new mi(o,d,i)}}function H2(t,e){return t.replace(W2,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const W2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t){return JSON.parse(t)}function dt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=function(t){let e={},n={},i={},o="";try{const a=t.split(".");e=_a(Uu(a[0])||""),n=_a(Uu(a[1])||""),o=a[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:o}},q2=function(t){const e=i0(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},G2=function(t){const e=i0(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xr(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ws(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Sh(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bu(t,e,n){const i={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=e.call(n,t[o],o,t));return i}function zu(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],u=e[o];if(Sy(a)&&Sy(u)){if(!zu(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function Sy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function la(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,a]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(a)}}),e}function ua(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let w=0;w<16;w++)i[w]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let w=0;w<16;w++)i[w]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let w=16;w<80;w++){const v=i[w-3]^i[w-8]^i[w-14]^i[w-16];i[w]=(v<<1|v>>>31)&4294967295}let o=this.chain_[0],a=this.chain_[1],u=this.chain_[2],d=this.chain_[3],h=this.chain_[4],m,y;for(let w=0;w<80;w++){w<40?w<20?(m=d^a&(u^d),y=1518500249):(m=a^u^d,y=1859775393):w<60?(m=a&u|d&(a|u),y=2400959708):(m=a^u^d,y=3395469782);const v=(o<<5|o>>>27)+m+h+y+i[w]&4294967295;h=d,d=u,u=(a<<30|a>>>2)&4294967295,a=o,o=v}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let o=0;const a=this.buf_;let u=this.inbuf_;for(;o<n;){if(u===0)for(;o<=i;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(a[u]=e.charCodeAt(o),++u,++o,u===this.blockSize){this.compress_(a),u=0;break}}else for(;o<n;)if(a[u]=e[o],++u,++o,u===this.blockSize){this.compress_(a),u=0;break}}this.inbuf_=u,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let o=0;o<5;o++)for(let a=24;a>=0;a-=8)e[i]=this.chain_[o]>>a&255,++i;return e}}function Y2(t,e){const n=new Q2(t,e);return n.subscribe.bind(n)}class Q2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let o;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");X2(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:i},o.next===void 0&&(o.next=Yf),o.error===void 0&&(o.error=Yf),o.complete===void 0&&(o.complete=Yf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function X2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Yf(){}function up(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);if(o>=55296&&o<=56319){const a=o-55296;i++,H(i<t.length,"Surrogate pair missing trail surrogate.");const u=t.charCodeAt(i)-56320;o=65536+(a<<10)+u}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},bc=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(t){return t&&t._delegate?t._delegate:t}class Vi{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Sc;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tT(e))try{this.getOrInitializeService({instanceIdentifier:Mi})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=Mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mi){return this.instances.has(e)}getOptions(e=Mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);i===d&&u.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:eT(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Mi){return this.component?this.component.multipleInstances?e:Mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eT(t){return t===Mi?void 0:t}function tT(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Z2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const rT={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},iT=De.INFO,sT={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},oT=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=sT[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cp{constructor(e){this.name=e,this._logLevel=iT,this._logHandler=oT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const aT=(t,e)=>e.some(n=>t instanceof n);let by,Ty;function lT(){return by||(by=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uT(){return Ty||(Ty=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const s0=new WeakMap,bh=new WeakMap,o0=new WeakMap,Qf=new WeakMap,dp=new WeakMap;function cT(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(ri(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&s0.set(n,t)}).catch(()=>{}),dp.set(e,t),e}function dT(t){if(bh.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});bh.set(t,e)}let Th={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return bh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||o0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function fT(t){Th=t(Th)}function hT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Xf(this),e,...n);return o0.set(i,e.sort?e.sort():[e]),ri(i)}:uT().includes(t)?function(...e){return t.apply(Xf(this),e),ri(s0.get(this))}:function(...e){return ri(t.apply(Xf(this),e))}}function pT(t){return typeof t=="function"?hT(t):(t instanceof IDBTransaction&&dT(t),aT(t,lT())?new Proxy(t,Th):t)}function ri(t){if(t instanceof IDBRequest)return cT(t);if(Qf.has(t))return Qf.get(t);const e=pT(t);return e!==t&&(Qf.set(t,e),dp.set(e,t)),e}const Xf=t=>dp.get(t);function mT(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),d=ri(u);return i&&u.addEventListener("upgradeneeded",h=>{i(ri(u.result),h.oldVersion,h.newVersion,ri(u.transaction),h)}),n&&u.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),d.then(h=>{a&&h.addEventListener("close",()=>a()),o&&h.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const gT=["get","getKey","getAll","getAllKeys","count"],vT=["put","add","delete","clear"],Jf=new Map;function Iy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jf.get(e))return Jf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=vT.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||gT.includes(n)))return;const a=async function(u,...d){const h=this.transaction(u,o?"readwrite":"readonly");let m=h.store;return i&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),o&&h.done]))[0]};return Jf.set(e,a),a}fT(t=>({...t,get:(e,n,i)=>Iy(e,n)||t.get(e,n,i),has:(e,n)=>!!Iy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(wT(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function wT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ih="@firebase/app",ky="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new cp("@firebase/app"),_T="@firebase/app-compat",ET="@firebase/analytics-compat",xT="@firebase/analytics",CT="@firebase/app-check-compat",ST="@firebase/app-check",bT="@firebase/auth",TT="@firebase/auth-compat",IT="@firebase/database",kT="@firebase/data-connect",PT="@firebase/database-compat",NT="@firebase/functions",RT="@firebase/functions-compat",AT="@firebase/installations",OT="@firebase/installations-compat",LT="@firebase/messaging",DT="@firebase/messaging-compat",MT="@firebase/performance",FT="@firebase/performance-compat",jT="@firebase/remote-config",$T="@firebase/remote-config-compat",UT="@firebase/storage",BT="@firebase/storage-compat",zT="@firebase/firestore",VT="@firebase/vertexai",HT="@firebase/firestore-compat",WT="firebase",qT="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="[DEFAULT]",GT={[Ih]:"fire-core",[_T]:"fire-core-compat",[xT]:"fire-analytics",[ET]:"fire-analytics-compat",[ST]:"fire-app-check",[CT]:"fire-app-check-compat",[bT]:"fire-auth",[TT]:"fire-auth-compat",[IT]:"fire-rtdb",[kT]:"fire-data-connect",[PT]:"fire-rtdb-compat",[NT]:"fire-fn",[RT]:"fire-fn-compat",[AT]:"fire-iid",[OT]:"fire-iid-compat",[LT]:"fire-fcm",[DT]:"fire-fcm-compat",[MT]:"fire-perf",[FT]:"fire-perf-compat",[jT]:"fire-rc",[$T]:"fire-rc-compat",[UT]:"fire-gcs",[BT]:"fire-gcs-compat",[zT]:"fire-fst",[HT]:"fire-fst-compat",[VT]:"fire-vertex","fire-js":"fire-js",[WT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=new Map,KT=new Map,Ph=new Map;function Py(t,e){try{t.container.addComponent(e)}catch(n){yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qs(t){const e=t.name;if(Ph.has(e))return yr.debug(`There were multiple attempts to register component ${e}.`),!1;Ph.set(e,t);for(const n of Vu.values())Py(n,t);for(const n of KT.values())Py(n,t);return!0}function fp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ii=new Ua("app","Firebase",YT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Vi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=qT;function a0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:kh,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw ii.create("bad-app-name",{appName:String(o)});if(n||(n=e0()),!n)throw ii.create("no-options");const a=Vu.get(o);if(a){if(zu(n,a.options)&&zu(i,a.config))return a;throw ii.create("duplicate-app",{appName:o})}const u=new nT(o);for(const h of Ph.values())u.addComponent(h);const d=new QT(n,i,u);return Vu.set(o,d),d}function l0(t=kh){const e=Vu.get(t);if(!e&&t===kh&&e0())return a0();if(!e)throw ii.create("no-app",{appName:t});return e}function si(t,e,n){var i;let o=(i=GT[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${o}" with version "${e}":`];a&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yr.warn(d.join(" "));return}qs(new Vi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="firebase-heartbeat-database",JT=1,Ea="firebase-heartbeat-store";let Zf=null;function u0(){return Zf||(Zf=mT(XT,JT,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ea)}catch(n){console.warn(n)}}}}).catch(t=>{throw ii.create("idb-open",{originalErrorMessage:t.message})})),Zf}async function ZT(t){try{const n=(await u0()).transaction(Ea),i=await n.objectStore(Ea).get(c0(t));return await n.done,i}catch(e){if(e instanceof mi)yr.warn(e.message);else{const n=ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yr.warn(n.message)}}}async function Ny(t,e){try{const i=(await u0()).transaction(Ea,"readwrite");await i.objectStore(Ea).put(e,c0(t)),await i.done}catch(n){if(n instanceof mi)yr.warn(n.message);else{const i=ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yr.warn(i.message)}}}function c0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=1024,tI=30*24*60*60*1e3;class nI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new iI(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Ry();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const d=new Date(u.date).valueOf();return Date.now()-d<=tI}),this._storage.overwrite(this._heartbeatsCache))}catch(i){yr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ry(),{heartbeatsToSend:i,unsentEntries:o}=rI(this._heartbeatsCache.heartbeats),a=$u(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return yr.warn(n),""}}}function Ry(){return new Date().toISOString().substring(0,10)}function rI(t,e=eI){const n=[];let i=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Ay(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ay(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class iI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B2()?z2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ZT(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ay(t){return $u(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t){qs(new Vi("platform-logger",e=>new yT(e),"PRIVATE")),qs(new Vi("heartbeat",e=>new nI(e),"PRIVATE")),si(Ih,ky,t),si(Ih,ky,"esm2017"),si("fire-js","")}sI("");var Oy={};const Ly="@firebase/database",Dy="1.0.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d0="";function oI(t){d0=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:_a(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return xr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new aI(e)}}catch{}return new lI},ji=f0("localStorage"),uI=f0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const js=new cp("@firebase/database"),cI=function(){let t=1;return function(){return t++}}(),h0=function(t){const e=J2(t),n=new K2;n.update(e);const i=n.digest();return op.encodeByteArray(i)},Ba=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ba.apply(null,i):typeof i=="object"?e+=dt(i):e+=i,e+=" "}return e};let da=null,My=!0;const dI=function(t,e){H(!e,"Can't turn on custom loggers persistently."),js.logLevel=De.VERBOSE,da=js.log.bind(js)},Pt=function(...t){if(My===!0&&(My=!1,da===null&&uI.get("logging_enabled")===!0&&dI()),da){const e=Ba.apply(null,t);da(e)}},za=function(t){return function(...e){Pt(t,...e)}},Nh=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ba(...t);js.error(e)},wr=function(...t){const e=`FIREBASE FATAL ERROR: ${Ba(...t)}`;throw js.error(e),new Error(e)},Wt=function(...t){const e="FIREBASE WARNING: "+Ba(...t);js.warn(e)},fI=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},p0=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},hI=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Gs="[MIN_NAME]",Hi="[MAX_NAME]",so=function(t,e){if(t===e)return 0;if(t===Gs||e===Hi)return-1;if(e===Gs||t===Hi)return 1;{const n=Fy(t),i=Fy(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},pI=function(t,e){return t===e?0:t<e?-1:1},ra=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+dt(e))},hp=function(t){if(typeof t!="object"||t===null)return dt(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=dt(e[i]),n+=":",n+=hp(t[e[i]]);return n+="}",n},m0=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let o=0;o<n;o+=e)o+e>n?i.push(t.substring(o,n)):i.push(t.substring(o,o+e));return i};function Gt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const g0=function(t){H(!p0(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let o,a,u,d,h;t===0?(a=0,u=0,o=1/t===-1/0?1:0):(o=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(t)/Math.LN2),i),a=d+i,u=Math.round(t*Math.pow(2,n-d)-Math.pow(2,n))):(a=0,u=Math.round(t/Math.pow(2,1-i-n))));const m=[];for(h=n;h;h-=1)m.push(u%2?1:0),u=Math.floor(u/2);for(h=e;h;h-=1)m.push(a%2?1:0),a=Math.floor(a/2);m.push(o?1:0),m.reverse();const y=m.join("");let w="";for(h=0;h<64;h+=8){let v=parseInt(y.substr(h,8),2).toString(16);v.length===1&&(v="0"+v),w=w+v}return w.toLowerCase()},mI=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gI=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function vI(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const yI=new RegExp("^-?(0*)\\d{1,10}$"),wI=-2147483648,_I=2147483647,Fy=function(t){if(yI.test(t)){const e=Number(t);if(e>=wI&&e<=_I)return e}return null},oo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},EI=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fa=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Pt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wt(e)}}class Pu{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Pu.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp="5",v0="v",y0="s",w0="r",_0="f",E0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,x0="ls",C0="p",Rh="ac",S0="websocket",b0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e,n,i,o,a=!1,u="",d=!1,h=!1){this.secure=n,this.namespace=i,this.webSocketOnly=o,this.nodeAdmin=a,this.persistenceKey=u,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=h,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ji.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ji.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function SI(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function I0(t,e,n){H(typeof e=="string","typeof type must == string"),H(typeof n=="object","typeof params must == object");let i;if(e===S0)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===b0)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);SI(t)&&(n.ns=t.namespace);const o=[];return Gt(n,(a,u)=>{o.push(a+"="+u)}),i+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.counters_={}}incrementCounter(e,n=1){xr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return N2(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh={},th={};function mp(t){const e=t.toString();return eh[e]||(eh[e]=new bI),eh[e]}function TI(t,e){const n=t.toString();return th[n]||(th[n]=e()),th[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<i.length;++o)i[o]&&oo(()=>{this.onMessage_(i[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="start",kI="close",PI="pLPCommand",NI="pRTLPCB",k0="id",P0="pw",N0="ser",RI="cb",AI="seg",OI="ts",LI="d",DI="dframe",R0=1870,A0=30,MI=R0-A0,FI=25e3,jI=3e4;class Ds{constructor(e,n,i,o,a,u,d){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=o,this.authToken=a,this.transportSessionId=u,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=za(e),this.stats_=mp(n),this.urlFn=h=>(this.appCheckToken&&(h[Rh]=this.appCheckToken),I0(n,b0,h))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new II(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(jI)),hI(()=>{if(this.isClosed_)return;this.scriptTagHolder=new gp((...a)=>{const[u,d,h,m,y]=a;if(this.incrementIncomingBytes_(a),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===jy)this.id=d,this.password=h;else if(u===kI)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...a)=>{const[u,d]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(u,d)},()=>{this.onClosed_()},this.urlFn);const i={};i[jy]="t",i[N0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[RI]=this.scriptTagHolder.uniqueCallbackIdentifier),i[v0]=pp,this.transportSessionId&&(i[y0]=this.transportSessionId),this.lastSessionId&&(i[x0]=this.lastSessionId),this.applicationId&&(i[C0]=this.applicationId),this.appCheckToken&&(i[Rh]=this.appCheckToken),typeof location<"u"&&location.hostname&&E0.test(location.hostname)&&(i[w0]=_0);const o=this.urlFn(i);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ds.forceAllow_=!0}static forceDisallow(){Ds.forceDisallow_=!0}static isAvailable(){return Ds.forceAllow_?!0:!Ds.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!mI()&&!gI()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=X_(n),o=m0(i,MI);for(let a=0;a<o.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[a]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[DI]="t",i[k0]=e,i[P0]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class gp{constructor(e,n,i,o){this.onDisconnect=i,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=cI(),window[PI+this.uniqueCallbackIdentifier]=e,window[NI+this.uniqueCallbackIdentifier]=n,this.myIFrame=gp.createIFrame_();let a="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(a='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(d){Pt("frame writing exception"),d.stack&&Pt(d.stack),Pt(d)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Pt("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[k0]=this.myID,e[P0]=this.myPW,e[N0]=this.currentSerial;let n=this.urlFn(e),i="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+A0+i.length<=R0;){const u=this.pendingSegs.shift();i=i+"&"+AI+o+"="+u.seg+"&"+OI+o+"="+u.ts+"&"+LI+o+"="+u.d,o++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(i,Math.floor(FI)),a=()=>{clearTimeout(o),i()};this.addTag(e,a)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const o=i.readyState;(!o||o==="loaded"||o==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Pt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=16384,UI=45e3;let Hu=null;typeof MozWebSocket<"u"?Hu=MozWebSocket:typeof WebSocket<"u"&&(Hu=WebSocket);class Pn{constructor(e,n,i,o,a,u,d){this.connId=e,this.applicationId=i,this.appCheckToken=o,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=za(this.connId),this.stats_=mp(n),this.connURL=Pn.connectionURL_(n,u,d,o,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,o,a){const u={};return u[v0]=pp,typeof location<"u"&&location.hostname&&E0.test(location.hostname)&&(u[w0]=_0),n&&(u[y0]=n),i&&(u[x0]=i),o&&(u[Rh]=o),a&&(u[C0]=a),I0(e,S0,u)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ji.set("previous_websocket_failure",!0);try{let i;r0(),this.mySock=new Hu(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){Pn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Hu!==null&&!Pn.forceDisallow_}static previouslyFailed(){return ji.isInMemoryStorage||ji.get("previous_websocket_failure")===!0}markConnectionHealthy(){ji.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=_a(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(H(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=m0(n,$I);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(UI))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Pn.responsesRequiredToBeHealthy=2;Pn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{static get ALL_TRANSPORTS(){return[Ds,Pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=Pn&&Pn.isAvailable();let i=n&&!Pn.previouslyFailed();if(e.webSocketOnly&&(n||Wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Pn];else{const o=this.transports_=[];for(const a of xa.ALL_TRANSPORTS)a&&a.isAvailable()&&o.push(a);xa.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}xa.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=6e4,zI=5e3,VI=10*1024,HI=100*1024,nh="t",$y="d",WI="s",Uy="r",qI="e",By="o",zy="a",Vy="n",Hy="p",GI="h";class KI{constructor(e,n,i,o,a,u,d,h,m,y){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=o,this.authToken_=a,this.onMessage_=u,this.onReady_=d,this.onDisconnect_=h,this.onKill_=m,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=za("c:"+this.id+":"),this.transportManager_=new xa(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=fa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>HI?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>VI?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(nh in e){const n=e[nh];n===zy?this.upgradeIfSecondaryHealthy_():n===Uy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===By&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=ra("t",e),i=ra("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Hy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:zy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Vy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=ra("t",e),i=ra("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=ra(nh,e);if($y in e){const i=e[$y];if(n===GI){const o=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===Vy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===WI?this.onConnectionShutdown_(i):n===Uy?this.onReset_(i):n===qI?Nh("Server Error: "+i):n===By?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),pp!==i&&Wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),fa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BI))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(zI))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Hy,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ji.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{put(e,n,i,o){}merge(e,n,i,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L0=class{constructor(e){this.allowedEvents_=e,this.listeners_={},H(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let o=0;o<i.length;o++)i[o].callback.apply(i[o].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const o=this.getInitialEvent(e);o&&n.apply(i,o)}off(e,n,i){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let a=0;a<o.length;a++)if(o[a].callback===n&&(!i||i===o[a].context)){o.splice(a,1);return}}validateEventType_(e){H(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends L0{static getInstance(){return new Wu}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return H(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=32,qy=768;class Fe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[i]=this.pieces_[o],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ke(){return new Fe("")}function we(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ci(t){return t.pieces_.length-t.pieceNum_}function Be(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Fe(t.pieces_,e)}function D0(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function YI(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function M0(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function F0(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Fe(e,0)}function ft(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof Fe)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let o=0;o<i.length;o++)i[o].length>0&&n.push(i[o])}return new Fe(n,0)}function ye(t){return t.pieceNum_>=t.pieces_.length}function Lt(t,e){const n=we(t),i=we(e);if(n===null)return e;if(n===i)return Lt(Be(t),Be(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function j0(t,e){if(ci(t)!==ci(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Nn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(ci(t)>ci(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class QI{constructor(e,n){this.errorPrefix_=n,this.parts_=M0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=bc(this.parts_[i]);$0(this)}}function XI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=bc(e),$0(t)}function JI(t){const e=t.parts_.pop();t.byteLength_-=bc(e),t.parts_.length>0&&(t.byteLength_-=1)}function $0(t){if(t.byteLength_>qy)throw new Error(t.errorPrefix_+"has a key path longer than "+qy+" bytes ("+t.byteLength_+").");if(t.parts_.length>Wy)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Wy+") or object contains a cycle "+Fi(t))}function Fi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp extends L0{static getInstance(){return new vp}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}getInitialEvent(e){return H(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=1e3,ZI=60*5*1e3,Gy=30*1e3,ek=1.3,tk=3e4,nk="server_kill",Ky=3;class mr extends O0{constructor(e,n,i,o,a,u,d,h){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=a,this.authTokenProvider_=u,this.appCheckTokenProvider_=d,this.authOverride_=h,this.id=mr.nextPersistentConnectionId_++,this.log_=za("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ia,this.maxReconnectDelay_=ZI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,h&&!r0())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");vp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Wu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const o=++this.requestNumber_,a={r:o,a:e,b:n};this.log_(dt(a)),H(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(a),i&&(this.requestCBHash_[o]=i)}get(e){this.initConnection_();const n=new Sc,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const d=u.d;u.s==="ok"?n.resolve(d):n.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const a=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(a),n.promise}listen(e,n,i,o){this.initConnection_();const a=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+a),this.listens.has(u)||this.listens.set(u,new Map),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),H(!this.listens.get(u).has(a),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:n,query:e,tag:i};this.listens.get(u).set(a,d),this.connected_&&this.sendListen_(d)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+i+" for "+o);const a={p:i},u="q";e.tag&&(a.q=n._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest(u,a,d=>{const h=d.d,m=d.s;mr.warnOnListenWarnings_(h,n),(this.listens.get(i)&&this.listens.get(i).get(o))===e&&(this.log_("listen response",d),m!=="ok"&&this.removeListen_(i,o),e.onComplete&&e.onComplete(m,h))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&xr(e,"w")){const i=Ws(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',a=n._path.toString();Wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${a} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||G2(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Gy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=q2(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,o=>{const a=o.s,u=o.d||"error";this.authToken_===e&&(a==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(a,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),H(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,e._queryObject,n)}sendUnlisten_(e,n,i,o){this.log_("Unlisten on "+e+" for "+n);const a={p:e},u="n";o&&(a.q=i,a.t=o),this.sendRequest(u,a)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,o){const a={p:n,d:i};this.log_("onDisconnect "+e,a),this.sendRequest(e,a,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,n,i,o){this.putInternal("p",e,n,i,o)}merge(e,n,i,o){this.putInternal("m",e,n,i,o)}putInternal(e,n,i,o,a){this.initConnection_();const u={p:n,d:i};a!==void 0&&(u.h=a),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,a=>{this.log_(n+" response",a),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(a.s,a.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const a=i.d;this.log_("reportStats","Error sending stats: "+a)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+dt(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Nh("Unrecognized action received from server: "+dt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){H(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ia,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ia,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tk&&(this.reconnectDelay_=ia),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ek)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+mr.nextConnectionId_++,a=this.lastSessionId;let u=!1,d=null;const h=function(){d?d.close():(u=!0,i())},m=function(w){H(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(w)};this.realtime_={close:h,sendRequest:m};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[w,v]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);u?Pt("getToken() completed but was canceled"):(Pt("getToken() completed. Creating connection."),this.authToken_=w&&w.accessToken,this.appCheckToken_=v&&v.token,d=new KI(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,C=>{Wt(C+" ("+this.repoInfo_.toString()+")"),this.interrupt(nk)},a))}catch(w){this.log_("Failed to get token: "+w),u||(this.repoInfo_.nodeAdmin&&Wt(w),h())}}}interrupt(e){Pt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Pt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Sh(this.interruptReasons_)&&(this.reconnectDelay_=ia,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(a=>hp(a)).join("$"):i="default";const o=this.removeListen_(e,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const i=new Fe(e).toString();let o;if(this.listens.has(i)){const a=this.listens.get(i);o=a.get(n),a.delete(n),a.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(e,n){Pt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Ky&&(this.reconnectDelay_=Gy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Pt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Ky&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+d0.replace(/\./g,"-")]=1,lp()?e["framework.cordova"]=1:n0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Wu.getInstance().currentlyOnline();return Sh(this.interruptReasons_)&&e}}mr.nextPersistentConnectionId_=0;mr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ve(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ve(Gs,e),o=new ve(Gs,n);return this.compare(i,o)!==0}minPost(){return ve.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _u;class U0 extends Tc{static get __EMPTY_NODE(){return _u}static set __EMPTY_NODE(e){_u=e}compare(e,n){return so(e.name,n.name)}isDefinedOn(e){throw no("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ve.MIN}maxPost(){return new ve(Hi,_u)}makePost(e,n){return H(typeof e=="string","KeyIndex indexValue must always be a string."),new ve(e,_u)}toString(){return".key"}}const $s=new U0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n,i,o,a=null){this.isReverse_=o,this.resultGenerator_=a,this.nodeStack_=[];let u=1;for(;!e.isEmpty();)if(e=e,u=n?i(e.key,n):1,o&&(u*=-1),u<0)this.isReverse_?e=e.left:e=e.right;else if(u===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class vt{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??vt.RED,this.left=o??Ht.EMPTY_NODE,this.right=a??Ht.EMPTY_NODE}copy(e,n,i,o,a){return new vt(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return a<0?o=o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ht.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,o;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return Ht.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}vt.RED=!0;vt.BLACK=!1;class rk{copy(e,n,i,o,a){return this}insert(e,n,i){return new vt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ht{constructor(e,n=Ht.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ht(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,vt.BLACK,null,null))}remove(e){return new Ht(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vt.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,o=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return o?o.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(o=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Eu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Eu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Eu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Eu(this.root_,null,this.comparator_,!0,e)}}Ht.EMPTY_NODE=new rk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e){return so(t.name,e.name)}function yp(t,e){return so(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ah;function sk(t){Ah=t}const B0=function(t){return typeof t=="number"?"number:"+g0(t):"string:"+t},z0=function(t){if(t.isLeafNode()){const e=t.val();H(typeof e=="string"||typeof e=="number"||typeof e=="object"&&xr(e,".sv"),"Priority must be a string or number.")}else H(t===Ah||t.isEmpty(),"priority of unexpected type.");H(t===Ah||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yy;class gt{static set __childrenNodeConstructor(e){Yy=e}static get __childrenNodeConstructor(){return Yy}constructor(e,n=gt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,H(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),z0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new gt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:gt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ye(e)?this:we(e)===".priority"?this.priorityNode_:gt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:gt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=we(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(H(i!==".priority"||ci(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,gt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Be(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+B0(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=g0(this.value_):e+=this.value_,this.lazyHash_=h0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===gt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof gt.__childrenNodeConstructor?-1:(H(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,o=gt.VALUE_TYPE_ORDER.indexOf(n),a=gt.VALUE_TYPE_ORDER.indexOf(i);return H(o>=0,"Unknown leaf type: "+n),H(a>=0,"Unknown leaf type: "+i),o===a?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}gt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let V0,H0;function ok(t){V0=t}function ak(t){H0=t}class lk extends Tc{compare(e,n){const i=e.node.getPriority(),o=n.node.getPriority(),a=i.compareTo(o);return a===0?so(e.name,n.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ve.MIN}maxPost(){return new ve(Hi,new gt("[PRIORITY-POST]",H0))}makePost(e,n){const i=V0(e);return new ve(n,new gt("[PRIORITY-POST]",i))}toString(){return".priority"}}const tt=new lk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=Math.log(2);class ck{constructor(e){const n=a=>parseInt(Math.log(a)/uk,10),i=a=>parseInt(Array(a+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=i(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const qu=function(t,e,n,i){t.sort(e);const o=function(h,m){const y=m-h;let w,v;if(y===0)return null;if(y===1)return w=t[h],v=n?n(w):w,new vt(v,w.node,vt.BLACK,null,null);{const C=parseInt(y/2,10)+h,x=o(h,C),P=o(C+1,m);return w=t[C],v=n?n(w):w,new vt(v,w.node,vt.BLACK,x,P)}},a=function(h){let m=null,y=null,w=t.length;const v=function(x,P){const R=w-x,k=w;w-=x;const M=o(R+1,k),V=t[R],ee=n?n(V):V;C(new vt(ee,V.node,P,null,M))},C=function(x){m?(m.left=x,m=x):(y=x,m=x)};for(let x=0;x<h.count;++x){const P=h.nextBitIsOne(),R=Math.pow(2,h.count-(x+1));P?v(R,vt.BLACK):(v(R,vt.BLACK),v(R,vt.RED))}return y},u=new ck(t.length),d=a(u);return new Ht(i||e,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh;const As={};class ur{static get Default(){return H(As&&tt,"ChildrenNode.ts has not been loaded"),rh=rh||new ur({".priority":As},{".priority":tt}),rh}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Ws(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ht?n:null}hasIndex(e){return xr(this.indexSet_,e.toString())}addIndex(e,n){H(e!==$s,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let o=!1;const a=n.getIterator(ve.Wrap);let u=a.getNext();for(;u;)o=o||e.isDefinedOn(u.node),i.push(u),u=a.getNext();let d;o?d=qu(i,e.getCompare()):d=As;const h=e.toString(),m=Object.assign({},this.indexSet_);m[h]=e;const y=Object.assign({},this.indexes_);return y[h]=d,new ur(y,m)}addToIndexes(e,n){const i=Bu(this.indexes_,(o,a)=>{const u=Ws(this.indexSet_,a);if(H(u,"Missing index implementation for "+a),o===As)if(u.isDefinedOn(e.node)){const d=[],h=n.getIterator(ve.Wrap);let m=h.getNext();for(;m;)m.name!==e.name&&d.push(m),m=h.getNext();return d.push(e),qu(d,u.getCompare())}else return As;else{const d=n.get(e.name);let h=o;return d&&(h=h.remove(new ve(e.name,d))),h.insert(e,e.node)}});return new ur(i,this.indexSet_)}removeFromIndexes(e,n){const i=Bu(this.indexes_,o=>{if(o===As)return o;{const a=n.get(e.name);return a?o.remove(new ve(e.name,a)):o}});return new ur(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sa;class le{static get EMPTY_NODE(){return sa||(sa=new le(new Ht(yp),null,ur.Default))}constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&z0(this.priorityNode_),this.children_.isEmpty()&&H(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||sa}updatePriority(e){return this.children_.isEmpty()?this:new le(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?sa:n}}getChild(e){const n=we(e);return n===null?this:this.getImmediateChild(n).getChild(Be(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(H(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ve(e,n);let o,a;n.isEmpty()?(o=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_));const u=o.isEmpty()?sa:this.priorityNode_;return new le(o,u,a)}}updateChild(e,n){const i=we(e);if(i===null)return n;{H(we(e)!==".priority"||ci(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(i).updateChild(Be(e),n);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,o=0,a=!0;if(this.forEachChild(tt,(u,d)=>{n[u]=d.val(e),i++,a&&le.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):a=!1}),!e&&a&&o<2*i){const u=[];for(const d in n)u[d]=n[d];return u}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+B0(this.getPriority().val())+":"),this.forEachChild(tt,(n,i)=>{const o=i.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":h0(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const o=this.resolveIndex_(i);if(o){const a=o.getPredecessorKey(new ve(e,n));return a?a.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ve(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ve(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,ve.Wrap);let a=o.peek();for(;a!=null&&n.compare(a,e)<0;)o.getNext(),a=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,ve.Wrap);let a=o.peek();for(;a!=null&&n.compare(a,e)>0;)o.getNext(),a=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Va?-1:0}withIndex(e){if(e===$s||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new le(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===$s||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(tt),o=n.getIterator(tt);let a=i.getNext(),u=o.getNext();for(;a&&u;){if(a.name!==u.name||!a.node.equals(u.node))return!1;a=i.getNext(),u=o.getNext()}return a===null&&u===null}else return!1;else return!1}}resolveIndex_(e){return e===$s?null:this.indexMap_.get(e.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class dk extends le{constructor(){super(new Ht(yp),le.EMPTY_NODE,ur.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return le.EMPTY_NODE}isEmpty(){return!1}}const Va=new dk;Object.defineProperties(ve,{MIN:{value:new ve(Gs,le.EMPTY_NODE)},MAX:{value:new ve(Hi,Va)}});U0.__EMPTY_NODE=le.EMPTY_NODE;gt.__childrenNodeConstructor=le;sk(Va);ak(Va);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=!0;function yt(t,e=null){if(t===null)return le.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),H(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new gt(n,yt(e))}if(!(t instanceof Array)&&fk){const n=[];let i=!1;if(Gt(t,(u,d)=>{if(u.substring(0,1)!=="."){const h=yt(d);h.isEmpty()||(i=i||!h.getPriority().isEmpty(),n.push(new ve(u,h)))}}),n.length===0)return le.EMPTY_NODE;const a=qu(n,ik,u=>u.name,yp);if(i){const u=qu(n,tt.getCompare());return new le(a,yt(e),new ur({".priority":u},{".priority":tt}))}else return new le(a,yt(e),ur.Default)}else{let n=le.EMPTY_NODE;return Gt(t,(i,o)=>{if(xr(t,i)&&i.substring(0,1)!=="."){const a=yt(o);(a.isLeafNode()||!a.isEmpty())&&(n=n.updateImmediateChild(i,a))}}),n.updatePriority(yt(e))}}ok(yt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk extends Tc{constructor(e){super(),this.indexPath_=e,H(!ye(e)&&we(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),o=this.extractChild(n.node),a=i.compareTo(o);return a===0?so(e.name,n.name):a}makePost(e,n){const i=yt(e),o=le.EMPTY_NODE.updateChild(this.indexPath_,i);return new ve(n,o)}maxPost(){const e=le.EMPTY_NODE.updateChild(this.indexPath_,Va);return new ve(Hi,e)}toString(){return M0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk extends Tc{compare(e,n){const i=e.node.compareTo(n.node);return i===0?so(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ve.MIN}maxPost(){return ve.MAX}makePost(e,n){const i=yt(e);return new ve(n,i)}toString(){return".value"}}const mk=new pk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(t){return{type:"value",snapshotNode:t}}function Ks(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ca(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Sa(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function gk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){this.index_=e}updateChild(e,n,i,o,a,u){H(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=e.getImmediateChild(n);return d.getChild(o).equals(i.getChild(o))&&d.isEmpty()===i.isEmpty()||(u!=null&&(i.isEmpty()?e.hasChild(n)?u.trackChildChange(Ca(n,d)):H(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?u.trackChildChange(Ks(n,i)):u.trackChildChange(Sa(n,i,d))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(tt,(o,a)=>{n.hasChild(o)||i.trackChildChange(Ca(o,a))}),n.isLeafNode()||n.forEachChild(tt,(o,a)=>{if(e.hasChild(o)){const u=e.getImmediateChild(o);u.equals(a)||i.trackChildChange(Sa(o,a,u))}else i.trackChildChange(Ks(o,a))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?le.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.indexedFilter_=new wp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ba.getStartPost_(e),this.endPost_=ba.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,o,a,u){return this.matches(new ve(n,i))||(i=le.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,o,a,u)}updateFullNode(e,n,i){n.isLeafNode()&&(n=le.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(le.EMPTY_NODE);const a=this;return n.forEachChild(tt,(u,d)=>{a.matches(new ve(u,d))||(o=o.updateImmediateChild(u,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new ba(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,o,a,u){return this.rangedFilter_.matches(new ve(n,i))||(i=le.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,o,a,u):this.fullLimitUpdateChild_(e,n,i,a,u)}updateFullNode(e,n,i){let o;if(n.isLeafNode()||n.isEmpty())o=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=le.EMPTY_NODE.withIndex(this.index_);let a;this.reverse_?a=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):a=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;a.hasNext()&&u<this.limit_;){const d=a.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),u++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(le.EMPTY_NODE);let a;this.reverse_?a=o.getReverseIterator(this.index_):a=o.getIterator(this.index_);let u=0;for(;a.hasNext();){const d=a.getNext();u<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?u++:o=o.updateImmediateChild(d.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,o,a){let u;if(this.reverse_){const w=this.index_.getCompare();u=(v,C)=>w(C,v)}else u=this.index_.getCompare();const d=e;H(d.numChildren()===this.limit_,"");const h=new ve(n,i),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),y=this.rangedFilter_.matches(h);if(d.hasChild(n)){const w=d.getImmediateChild(n);let v=o.getChildAfterChild(this.index_,m,this.reverse_);for(;v!=null&&(v.name===n||d.hasChild(v.name));)v=o.getChildAfterChild(this.index_,v,this.reverse_);const C=v==null?1:u(v,h);if(y&&!i.isEmpty()&&C>=0)return a!=null&&a.trackChildChange(Sa(n,i,w)),d.updateImmediateChild(n,i);{a!=null&&a.trackChildChange(Ca(n,w));const P=d.updateImmediateChild(n,le.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(a!=null&&a.trackChildChange(Ks(v.name,v.node)),P.updateImmediateChild(v.name,v.node)):P}}else return i.isEmpty()?e:y&&u(m,h)>=0?(a!=null&&(a.trackChildChange(Ca(m.name,m.node)),a.trackChildChange(Ks(n,i))),d.updateImmediateChild(n,i).updateImmediateChild(m.name,le.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=tt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return H(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return H(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Gs}hasEnd(){return this.endSet_}getIndexEndValue(){return H(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return H(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Hi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return H(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===tt}copy(){const e=new _p;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yk(t){return t.loadsAllData()?new wp(t.getIndex()):t.hasLimit()?new vk(t):new ba(t)}function Qy(t){const e={};if(t.isDefault())return e;let n;if(t.index_===tt?n="$priority":t.index_===mk?n="$value":t.index_===$s?n="$key":(H(t.index_ instanceof hk,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=dt(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=dt(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+dt(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=dt(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Xy(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==tt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu extends O0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(H(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,i,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=o,this.log_=za("p:rest:"),this.listens_={}}listen(e,n,i,o){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const u=Gu.getListenId_(e,i),d={};this.listens_[u]=d;const h=Qy(e._queryParams);this.restRequest_(a+".json",h,(m,y)=>{let w=y;if(m===404&&(w=null,m=null),m===null&&this.onDataUpdate_(a,w,!1,i),Ws(this.listens_,u)===d){let v;m?m===401?v="permission_denied":v="rest_error:"+m:v="ok",o(v,null)}})}unlisten(e,n){const i=Gu.getListenId_(e,n);delete this.listens_[i]}get(e){const n=Qy(e._queryParams),i=e._path.toString(),o=new Sc;return this.restRequest_(i+".json",n,(a,u)=>{let d=u;a===404&&(d=null,a=null),a===null?(this.onDataUpdate_(i,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,a])=>{o&&o.accessToken&&(n.auth=o.accessToken),a&&a.token&&(n.ac=a.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ro(n);this.log_("Sending REST request for "+u);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&d.readyState===4){this.log_("REST Response for "+u+" received. status:",d.status,"response:",d.responseText);let h=null;if(d.status>=200&&d.status<300){try{h=_a(d.responseText)}catch{Wt("Failed to parse JSON response for "+u+": "+d.responseText)}i(null,h)}else d.status!==401&&d.status!==404&&Wt("Got unsuccessful REST response for "+u+" Status: "+d.status),i(d.status);i=null}},d.open("GET",u,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ku(){return{value:null,children:new Map}}function q0(t,e,n){if(ye(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=we(e);t.children.has(i)||t.children.set(i,Ku());const o=t.children.get(i);e=Be(e),q0(o,e,n)}}function Oh(t,e,n){t.value!==null?n(e,t.value):_k(t,(i,o)=>{const a=new Fe(e.toString()+"/"+i);Oh(o,a,n)})}function _k(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Gt(this.last_,(i,o)=>{n[i]=n[i]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=10*1e3,xk=30*1e3,Ck=5*60*1e3;class Sk{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Ek(e);const i=Jy+(xk-Jy)*Math.random();fa(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Gt(e,(o,a)=>{a>0&&xr(this.statsToReport_,o)&&(n[o]=a,i=!0)}),i&&this.server_.reportStats(n),fa(this.reportStats_.bind(this),Math.floor(Math.random()*2*Ck))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Rn||(Rn={}));function G0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ep(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function xp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Rn.ACK_USER_WRITE,this.source=G0()}operationForChild(e){if(ye(this.path)){if(this.affectedTree.value!=null)return H(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Fe(e));return new Yu(ke(),n,this.revert)}}else return H(we(this.path)===e,"operationForChild called for unrelated child."),new Yu(Be(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){this.source=e,this.path=n,this.type=Rn.LISTEN_COMPLETE}operationForChild(e){return ye(this.path)?new Ta(this.source,ke()):new Ta(this.source,Be(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Rn.OVERWRITE}operationForChild(e){return ye(this.path)?new Wi(this.source,ke(),this.snap.getImmediateChild(e)):new Wi(this.source,Be(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Rn.MERGE}operationForChild(e){if(ye(this.path)){const n=this.children.subtree(new Fe(e));return n.isEmpty()?null:n.value?new Wi(this.source,ke(),n.value):new Ia(this.source,ke(),n)}else return H(we(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ia(this.source,Be(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ye(e))return this.isFullyInitialized()&&!this.filtered_;const n=we(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function Tk(t,e,n,i){const o=[],a=[];return e.forEach(u=>{u.type==="child_changed"&&t.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&a.push(gk(u.childName,u.snapshotNode))}),oa(t,o,"child_removed",e,i,n),oa(t,o,"child_added",e,i,n),oa(t,o,"child_moved",a,i,n),oa(t,o,"child_changed",e,i,n),oa(t,o,"value",e,i,n),o}function oa(t,e,n,i,o,a){const u=i.filter(d=>d.type===n);u.sort((d,h)=>kk(t,d,h)),u.forEach(d=>{const h=Ik(t,d,a);o.forEach(m=>{m.respondsTo(d.type)&&e.push(m.createEvent(h,t.query_))})})}function Ik(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function kk(t,e,n){if(e.childName==null||n.childName==null)throw no("Should only compare child_ events.");const i=new ve(e.childName,e.snapshotNode),o=new ve(n.childName,n.snapshotNode);return t.index_.compare(i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ic(t,e){return{eventCache:t,serverCache:e}}function ha(t,e,n,i){return Ic(new di(e,n,i),t.serverCache)}function K0(t,e,n,i){return Ic(t.eventCache,new di(e,n,i))}function Qu(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih;const Pk=()=>(ih||(ih=new Ht(pI)),ih);class qe{static fromObject(e){let n=new qe(null);return Gt(e,(i,o)=>{n=n.set(new Fe(i),o)}),n}constructor(e,n=Pk()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ke(),value:this.value};if(ye(e))return null;{const i=we(e),o=this.children.get(i);if(o!==null){const a=o.findRootMostMatchingPathAndValue(Be(e),n);return a!=null?{path:ft(new Fe(i),a.path),value:a.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ye(e))return this;{const n=we(e),i=this.children.get(n);return i!==null?i.subtree(Be(e)):new qe(null)}}set(e,n){if(ye(e))return new qe(n,this.children);{const i=we(e),a=(this.children.get(i)||new qe(null)).set(Be(e),n),u=this.children.insert(i,a);return new qe(this.value,u)}}remove(e){if(ye(e))return this.children.isEmpty()?new qe(null):new qe(null,this.children);{const n=we(e),i=this.children.get(n);if(i){const o=i.remove(Be(e));let a;return o.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,o),this.value===null&&a.isEmpty()?new qe(null):new qe(this.value,a)}else return this}}get(e){if(ye(e))return this.value;{const n=we(e),i=this.children.get(n);return i?i.get(Be(e)):null}}setTree(e,n){if(ye(e))return n;{const i=we(e),a=(this.children.get(i)||new qe(null)).setTree(Be(e),n);let u;return a.isEmpty()?u=this.children.remove(i):u=this.children.insert(i,a),new qe(this.value,u)}}fold(e){return this.fold_(ke(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((o,a)=>{i[o]=a.fold_(ft(e,o),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,ke(),n)}findOnPath_(e,n,i){const o=this.value?i(n,this.value):!1;if(o)return o;if(ye(e))return null;{const a=we(e),u=this.children.get(a);return u?u.findOnPath_(Be(e),ft(n,a),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ke(),n)}foreachOnPath_(e,n,i){if(ye(e))return this;{this.value&&i(n,this.value);const o=we(e),a=this.children.get(o);return a?a.foreachOnPath_(Be(e),ft(n,o),i):new qe(null)}}foreach(e){this.foreach_(ke(),e)}foreach_(e,n){this.children.inorderTraversal((i,o)=>{o.foreach_(ft(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.writeTree_=e}static empty(){return new An(new qe(null))}}function pa(t,e,n){if(ye(e))return new An(new qe(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const o=i.path;let a=i.value;const u=Lt(o,e);return a=a.updateChild(u,n),new An(t.writeTree_.set(o,a))}else{const o=new qe(n),a=t.writeTree_.setTree(e,o);return new An(a)}}}function Zy(t,e,n){let i=t;return Gt(n,(o,a)=>{i=pa(i,ft(e,o),a)}),i}function ew(t,e){if(ye(e))return An.empty();{const n=t.writeTree_.setTree(e,new qe(null));return new An(n)}}function Lh(t,e){return Zi(t,e)!=null}function Zi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Lt(n.path,e)):null}function tw(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(tt,(i,o)=>{e.push(new ve(i,o))}):t.writeTree_.children.inorderTraversal((i,o)=>{o.value!=null&&e.push(new ve(i,o.value))}),e}function oi(t,e){if(ye(e))return t;{const n=Zi(t,e);return n!=null?new An(new qe(n)):new An(t.writeTree_.subtree(e))}}function Dh(t){return t.writeTree_.isEmpty()}function Ys(t,e){return Y0(ke(),t.writeTree_,e)}function Y0(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((o,a)=>{o===".priority"?(H(a.value!==null,"Priority writes must always be leaf nodes"),i=a.value):n=Y0(ft(t,o),a,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(ft(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(t,e){return Z0(e,t)}function Nk(t,e,n,i,o){H(i>t.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:o}),o&&(t.visibleWrites=pa(t.visibleWrites,e,n)),t.lastWriteId=i}function Rk(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function Ak(t,e){const n=t.allWrites.findIndex(d=>d.writeId===e);H(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let o=i.visible,a=!1,u=t.allWrites.length-1;for(;o&&u>=0;){const d=t.allWrites[u];d.visible&&(u>=n&&Ok(d,i.path)?o=!1:Nn(i.path,d.path)&&(a=!0)),u--}if(o){if(a)return Lk(t),!0;if(i.snap)t.visibleWrites=ew(t.visibleWrites,i.path);else{const d=i.children;Gt(d,h=>{t.visibleWrites=ew(t.visibleWrites,ft(i.path,h))})}return!0}else return!1}function Ok(t,e){if(t.snap)return Nn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Nn(ft(t.path,n),e))return!0;return!1}function Lk(t){t.visibleWrites=Q0(t.allWrites,Dk,ke()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Dk(t){return t.visible}function Q0(t,e,n){let i=An.empty();for(let o=0;o<t.length;++o){const a=t[o];if(e(a)){const u=a.path;let d;if(a.snap)Nn(n,u)?(d=Lt(n,u),i=pa(i,d,a.snap)):Nn(u,n)&&(d=Lt(u,n),i=pa(i,ke(),a.snap.getChild(d)));else if(a.children){if(Nn(n,u))d=Lt(n,u),i=Zy(i,d,a.children);else if(Nn(u,n))if(d=Lt(u,n),ye(d))i=Zy(i,ke(),a.children);else{const h=Ws(a.children,we(d));if(h){const m=h.getChild(Be(d));i=pa(i,ke(),m)}}}else throw no("WriteRecord should have .snap or .children")}}return i}function X0(t,e,n,i,o){if(!i&&!o){const a=Zi(t.visibleWrites,e);if(a!=null)return a;{const u=oi(t.visibleWrites,e);if(Dh(u))return n;if(n==null&&!Lh(u,ke()))return null;{const d=n||le.EMPTY_NODE;return Ys(u,d)}}}else{const a=oi(t.visibleWrites,e);if(!o&&Dh(a))return n;if(!o&&n==null&&!Lh(a,ke()))return null;{const u=function(m){return(m.visible||o)&&(!i||!~i.indexOf(m.writeId))&&(Nn(m.path,e)||Nn(e,m.path))},d=Q0(t.allWrites,u,e),h=n||le.EMPTY_NODE;return Ys(d,h)}}}function Mk(t,e,n){let i=le.EMPTY_NODE;const o=Zi(t.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(tt,(a,u)=>{i=i.updateImmediateChild(a,u)}),i;if(n){const a=oi(t.visibleWrites,e);return n.forEachChild(tt,(u,d)=>{const h=Ys(oi(a,new Fe(u)),d);i=i.updateImmediateChild(u,h)}),tw(a).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}else{const a=oi(t.visibleWrites,e);return tw(a).forEach(u=>{i=i.updateImmediateChild(u.name,u.node)}),i}}function Fk(t,e,n,i,o){H(i||o,"Either existingEventSnap or existingServerSnap must exist");const a=ft(e,n);if(Lh(t.visibleWrites,a))return null;{const u=oi(t.visibleWrites,a);return Dh(u)?o.getChild(n):Ys(u,o.getChild(n))}}function jk(t,e,n,i){const o=ft(e,n),a=Zi(t.visibleWrites,o);if(a!=null)return a;if(i.isCompleteForChild(n)){const u=oi(t.visibleWrites,o);return Ys(u,i.getNode().getImmediateChild(n))}else return null}function $k(t,e){return Zi(t.visibleWrites,e)}function Uk(t,e,n,i,o,a,u){let d;const h=oi(t.visibleWrites,e),m=Zi(h,ke());if(m!=null)d=m;else if(n!=null)d=Ys(h,n);else return[];if(d=d.withIndex(u),!d.isEmpty()&&!d.isLeafNode()){const y=[],w=u.getCompare(),v=a?d.getReverseIteratorFrom(i,u):d.getIteratorFrom(i,u);let C=v.getNext();for(;C&&y.length<o;)w(C,i)!==0&&y.push(C),C=v.getNext();return y}else return[]}function Bk(){return{visibleWrites:An.empty(),allWrites:[],lastWriteId:-1}}function Xu(t,e,n,i){return X0(t.writeTree,t.treePath,e,n,i)}function Cp(t,e){return Mk(t.writeTree,t.treePath,e)}function nw(t,e,n,i){return Fk(t.writeTree,t.treePath,e,n,i)}function Ju(t,e){return $k(t.writeTree,ft(t.treePath,e))}function zk(t,e,n,i,o,a){return Uk(t.writeTree,t.treePath,e,n,i,o,a)}function Sp(t,e,n){return jk(t.writeTree,t.treePath,e,n)}function J0(t,e){return Z0(ft(t.treePath,e),t.writeTree)}function Z0(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;H(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),H(i!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(i);if(o){const a=o.type;if(n==="child_added"&&a==="child_removed")this.changeMap.set(i,Sa(i,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&a==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&a==="child_changed")this.changeMap.set(i,Ca(i,o.oldSnap));else if(n==="child_changed"&&a==="child_added")this.changeMap.set(i,Ks(i,e.snapshotNode));else if(n==="child_changed"&&a==="child_changed")this.changeMap.set(i,Sa(i,e.snapshotNode,o.oldSnap));else throw no("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const eE=new Hk;class bp{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sp(this.writes_,e,i)}}getChildAfterChild(e,n,i){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qi(this.viewCache_),a=zk(this.writes_,o,n,1,i,e);return a.length===0?null:a[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wk(t){return{filter:t}}function qk(t,e){H(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),H(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Gk(t,e,n,i,o){const a=new Vk;let u,d;if(n.type===Rn.OVERWRITE){const m=n;m.source.fromUser?u=Mh(t,e,m.path,m.snap,i,o,a):(H(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered()&&!ye(m.path),u=Zu(t,e,m.path,m.snap,i,o,d,a))}else if(n.type===Rn.MERGE){const m=n;m.source.fromUser?u=Yk(t,e,m.path,m.children,i,o,a):(H(m.source.fromServer,"Unknown source."),d=m.source.tagged||e.serverCache.isFiltered(),u=Fh(t,e,m.path,m.children,i,o,d,a))}else if(n.type===Rn.ACK_USER_WRITE){const m=n;m.revert?u=Jk(t,e,m.path,i,o,a):u=Qk(t,e,m.path,m.affectedTree,i,o,a)}else if(n.type===Rn.LISTEN_COMPLETE)u=Xk(t,e,n.path,i,a);else throw no("Unknown operation type: "+n.type);const h=a.getChanges();return Kk(e,u,h),{viewCache:u,changes:h}}function Kk(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const o=i.getNode().isLeafNode()||i.getNode().isEmpty(),a=Qu(t);(n.length>0||!t.eventCache.isFullyInitialized()||o&&!i.getNode().equals(a)||!i.getNode().getPriority().equals(a.getPriority()))&&n.push(W0(Qu(e)))}}function tE(t,e,n,i,o,a){const u=e.eventCache;if(Ju(i,n)!=null)return e;{let d,h;if(ye(n))if(H(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=qi(e),y=m instanceof le?m:le.EMPTY_NODE,w=Cp(i,y);d=t.filter.updateFullNode(e.eventCache.getNode(),w,a)}else{const m=Xu(i,qi(e));d=t.filter.updateFullNode(e.eventCache.getNode(),m,a)}else{const m=we(n);if(m===".priority"){H(ci(n)===1,"Can't have a priority with additional path components");const y=u.getNode();h=e.serverCache.getNode();const w=nw(i,n,y,h);w!=null?d=t.filter.updatePriority(y,w):d=u.getNode()}else{const y=Be(n);let w;if(u.isCompleteForChild(m)){h=e.serverCache.getNode();const v=nw(i,n,u.getNode(),h);v!=null?w=u.getNode().getImmediateChild(m).updateChild(y,v):w=u.getNode().getImmediateChild(m)}else w=Sp(i,m,e.serverCache);w!=null?d=t.filter.updateChild(u.getNode(),m,w,y,o,a):d=u.getNode()}}return ha(e,d,u.isFullyInitialized()||ye(n),t.filter.filtersNodes())}}function Zu(t,e,n,i,o,a,u,d){const h=e.serverCache;let m;const y=u?t.filter:t.filter.getIndexedFilter();if(ye(n))m=y.updateFullNode(h.getNode(),i,null);else if(y.filtersNodes()&&!h.isFiltered()){const C=h.getNode().updateChild(n,i);m=y.updateFullNode(h.getNode(),C,null)}else{const C=we(n);if(!h.isCompleteForPath(n)&&ci(n)>1)return e;const x=Be(n),R=h.getNode().getImmediateChild(C).updateChild(x,i);C===".priority"?m=y.updatePriority(h.getNode(),R):m=y.updateChild(h.getNode(),C,R,x,eE,null)}const w=K0(e,m,h.isFullyInitialized()||ye(n),y.filtersNodes()),v=new bp(o,w,a);return tE(t,w,n,o,v,d)}function Mh(t,e,n,i,o,a,u){const d=e.eventCache;let h,m;const y=new bp(o,e,a);if(ye(n))m=t.filter.updateFullNode(e.eventCache.getNode(),i,u),h=ha(e,m,!0,t.filter.filtersNodes());else{const w=we(n);if(w===".priority")m=t.filter.updatePriority(e.eventCache.getNode(),i),h=ha(e,m,d.isFullyInitialized(),d.isFiltered());else{const v=Be(n),C=d.getNode().getImmediateChild(w);let x;if(ye(v))x=i;else{const P=y.getCompleteChild(w);P!=null?D0(v)===".priority"&&P.getChild(F0(v)).isEmpty()?x=P:x=P.updateChild(v,i):x=le.EMPTY_NODE}if(C.equals(x))h=e;else{const P=t.filter.updateChild(d.getNode(),w,x,v,y,u);h=ha(e,P,d.isFullyInitialized(),t.filter.filtersNodes())}}}return h}function rw(t,e){return t.eventCache.isCompleteForChild(e)}function Yk(t,e,n,i,o,a,u){let d=e;return i.foreach((h,m)=>{const y=ft(n,h);rw(e,we(y))&&(d=Mh(t,d,y,m,o,a,u))}),i.foreach((h,m)=>{const y=ft(n,h);rw(e,we(y))||(d=Mh(t,d,y,m,o,a,u))}),d}function iw(t,e,n){return n.foreach((i,o)=>{e=e.updateChild(i,o)}),e}function Fh(t,e,n,i,o,a,u,d){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let h=e,m;ye(n)?m=i:m=new qe(null).setTree(n,i);const y=e.serverCache.getNode();return m.children.inorderTraversal((w,v)=>{if(y.hasChild(w)){const C=e.serverCache.getNode().getImmediateChild(w),x=iw(t,C,v);h=Zu(t,h,new Fe(w),x,o,a,u,d)}}),m.children.inorderTraversal((w,v)=>{const C=!e.serverCache.isCompleteForChild(w)&&v.value===null;if(!y.hasChild(w)&&!C){const x=e.serverCache.getNode().getImmediateChild(w),P=iw(t,x,v);h=Zu(t,h,new Fe(w),P,o,a,u,d)}}),h}function Qk(t,e,n,i,o,a,u){if(Ju(o,n)!=null)return e;const d=e.serverCache.isFiltered(),h=e.serverCache;if(i.value!=null){if(ye(n)&&h.isFullyInitialized()||h.isCompleteForPath(n))return Zu(t,e,n,h.getNode().getChild(n),o,a,d,u);if(ye(n)){let m=new qe(null);return h.getNode().forEachChild($s,(y,w)=>{m=m.set(new Fe(y),w)}),Fh(t,e,n,m,o,a,d,u)}else return e}else{let m=new qe(null);return i.foreach((y,w)=>{const v=ft(n,y);h.isCompleteForPath(v)&&(m=m.set(y,h.getNode().getChild(v)))}),Fh(t,e,n,m,o,a,d,u)}}function Xk(t,e,n,i,o){const a=e.serverCache,u=K0(e,a.getNode(),a.isFullyInitialized()||ye(n),a.isFiltered());return tE(t,u,n,i,eE,o)}function Jk(t,e,n,i,o,a){let u;if(Ju(i,n)!=null)return e;{const d=new bp(i,e,o),h=e.eventCache.getNode();let m;if(ye(n)||we(n)===".priority"){let y;if(e.serverCache.isFullyInitialized())y=Xu(i,qi(e));else{const w=e.serverCache.getNode();H(w instanceof le,"serverChildren would be complete if leaf node"),y=Cp(i,w)}y=y,m=t.filter.updateFullNode(h,y,a)}else{const y=we(n);let w=Sp(i,y,e.serverCache);w==null&&e.serverCache.isCompleteForChild(y)&&(w=h.getImmediateChild(y)),w!=null?m=t.filter.updateChild(h,y,w,Be(n),d,a):e.eventCache.getNode().hasChild(y)?m=t.filter.updateChild(h,y,le.EMPTY_NODE,Be(n),d,a):m=h,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(u=Xu(i,qi(e)),u.isLeafNode()&&(m=t.filter.updateFullNode(m,u,a)))}return u=e.serverCache.isFullyInitialized()||Ju(i,ke())!=null,ha(e,m,u,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,o=new wp(i.getIndex()),a=yk(i);this.processor_=Wk(a);const u=n.serverCache,d=n.eventCache,h=o.updateFullNode(le.EMPTY_NODE,u.getNode(),null),m=a.updateFullNode(le.EMPTY_NODE,d.getNode(),null),y=new di(h,u.isFullyInitialized(),o.filtersNodes()),w=new di(m,d.isFullyInitialized(),a.filtersNodes());this.viewCache_=Ic(w,y),this.eventGenerator_=new bk(this.query_)}get query(){return this.query_}}function eP(t){return t.viewCache_.serverCache.getNode()}function tP(t){return Qu(t.viewCache_)}function nP(t,e){const n=qi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ye(e)&&!n.getImmediateChild(we(e)).isEmpty())?n.getChild(e):null}function sw(t){return t.eventRegistrations_.length===0}function rP(t,e){t.eventRegistrations_.push(e)}function ow(t,e,n){const i=[];if(n){H(e==null,"A cancel should cancel all event registrations.");const o=t.query._path;t.eventRegistrations_.forEach(a=>{const u=a.createCancelEvent(n,o);u&&i.push(u)})}if(e){let o=[];for(let a=0;a<t.eventRegistrations_.length;++a){const u=t.eventRegistrations_[a];if(!u.matches(e))o.push(u);else if(e.hasAnyCallback()){o=o.concat(t.eventRegistrations_.slice(a+1));break}}t.eventRegistrations_=o}else t.eventRegistrations_=[];return i}function aw(t,e,n,i){e.type===Rn.MERGE&&e.source.queryId!==null&&(H(qi(t.viewCache_),"We should always have a full cache before handling merges"),H(Qu(t.viewCache_),"Missing event cache, even though we have a server cache"));const o=t.viewCache_,a=Gk(t.processor_,o,e,n,i);return qk(t.processor_,a.viewCache),H(a.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=a.viewCache,nE(t,a.changes,a.viewCache.eventCache.getNode(),null)}function iP(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(tt,(a,u)=>{i.push(Ks(a,u))}),n.isFullyInitialized()&&i.push(W0(n.getNode())),nE(t,i,n.getNode(),e)}function nE(t,e,n,i){const o=i?[i]:t.eventRegistrations_;return Tk(t.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec;class rE{constructor(){this.views=new Map}}function sP(t){H(!ec,"__referenceConstructor has already been defined"),ec=t}function oP(){return H(ec,"Reference.ts has not been loaded"),ec}function aP(t){return t.views.size===0}function Tp(t,e,n,i){const o=e.source.queryId;if(o!==null){const a=t.views.get(o);return H(a!=null,"SyncTree gave us an op for an invalid query."),aw(a,e,n,i)}else{let a=[];for(const u of t.views.values())a=a.concat(aw(u,e,n,i));return a}}function iE(t,e,n,i,o){const a=e._queryIdentifier,u=t.views.get(a);if(!u){let d=Xu(n,o?i:null),h=!1;d?h=!0:i instanceof le?(d=Cp(n,i),h=!1):(d=le.EMPTY_NODE,h=!1);const m=Ic(new di(d,h,!1),new di(i,o,!1));return new Zk(e,m)}return u}function lP(t,e,n,i,o,a){const u=iE(t,e,i,o,a);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,u),rP(u,n),iP(u,n)}function uP(t,e,n,i){const o=e._queryIdentifier,a=[];let u=[];const d=fi(t);if(o==="default")for(const[h,m]of t.views.entries())u=u.concat(ow(m,n,i)),sw(m)&&(t.views.delete(h),m.query._queryParams.loadsAllData()||a.push(m.query));else{const h=t.views.get(o);h&&(u=u.concat(ow(h,n,i)),sw(h)&&(t.views.delete(o),h.query._queryParams.loadsAllData()||a.push(h.query)))}return d&&!fi(t)&&a.push(new(oP())(e._repo,e._path)),{removed:a,events:u}}function sE(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ai(t,e){let n=null;for(const i of t.views.values())n=n||nP(i,e);return n}function oE(t,e){if(e._queryParams.loadsAllData())return Pc(t);{const i=e._queryIdentifier;return t.views.get(i)}}function aE(t,e){return oE(t,e)!=null}function fi(t){return Pc(t)!=null}function Pc(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tc;function cP(t){H(!tc,"__referenceConstructor has already been defined"),tc=t}function dP(){return H(tc,"Reference.ts has not been loaded"),tc}let fP=1;class lw{constructor(e){this.listenProvider_=e,this.syncPointTree_=new qe(null),this.pendingWriteTree_=Bk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function lE(t,e,n,i,o){return Nk(t.pendingWriteTree_,e,n,i,o),o?Wa(t,new Wi(G0(),e,n)):[]}function $i(t,e,n=!1){const i=Rk(t.pendingWriteTree_,e);if(Ak(t.pendingWriteTree_,e)){let a=new qe(null);return i.snap!=null?a=a.set(ke(),!0):Gt(i.children,u=>{a=a.set(new Fe(u),!0)}),Wa(t,new Yu(i.path,a,n))}else return[]}function Ha(t,e,n){return Wa(t,new Wi(Ep(),e,n))}function hP(t,e,n){const i=qe.fromObject(n);return Wa(t,new Ia(Ep(),e,i))}function pP(t,e){return Wa(t,new Ta(Ep(),e))}function mP(t,e,n){const i=kp(t,n);if(i){const o=Pp(i),a=o.path,u=o.queryId,d=Lt(a,e),h=new Ta(xp(u),d);return Np(t,a,h)}else return[]}function uE(t,e,n,i,o=!1){const a=e._path,u=t.syncPointTree_.get(a);let d=[];if(u&&(e._queryIdentifier==="default"||aE(u,e))){const h=uP(u,e,n,i);aP(u)&&(t.syncPointTree_=t.syncPointTree_.remove(a));const m=h.removed;if(d=h.events,!o){const y=m.findIndex(v=>v._queryParams.loadsAllData())!==-1,w=t.syncPointTree_.findOnPath(a,(v,C)=>fi(C));if(y&&!w){const v=t.syncPointTree_.subtree(a);if(!v.isEmpty()){const C=wP(v);for(let x=0;x<C.length;++x){const P=C[x],R=P.query,k=hE(t,P);t.listenProvider_.startListening(ma(R),ka(t,R),k.hashFn,k.onComplete)}}}!w&&m.length>0&&!i&&(y?t.listenProvider_.stopListening(ma(e),null):m.forEach(v=>{const C=t.queryToTagMap.get(Nc(v));t.listenProvider_.stopListening(ma(v),C)}))}_P(t,m)}return d}function cE(t,e,n,i){const o=kp(t,i);if(o!=null){const a=Pp(o),u=a.path,d=a.queryId,h=Lt(u,e),m=new Wi(xp(d),h,n);return Np(t,u,m)}else return[]}function gP(t,e,n,i){const o=kp(t,i);if(o){const a=Pp(o),u=a.path,d=a.queryId,h=Lt(u,e),m=qe.fromObject(n),y=new Ia(xp(d),h,m);return Np(t,u,y)}else return[]}function vP(t,e,n,i=!1){const o=e._path;let a=null,u=!1;t.syncPointTree_.foreachOnPath(o,(v,C)=>{const x=Lt(v,o);a=a||ai(C,x),u=u||fi(C)});let d=t.syncPointTree_.get(o);d?(u=u||fi(d),a=a||ai(d,ke())):(d=new rE,t.syncPointTree_=t.syncPointTree_.set(o,d));let h;a!=null?h=!0:(h=!1,a=le.EMPTY_NODE,t.syncPointTree_.subtree(o).foreachChild((C,x)=>{const P=ai(x,ke());P&&(a=a.updateImmediateChild(C,P))}));const m=aE(d,e);if(!m&&!e._queryParams.loadsAllData()){const v=Nc(e);H(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const C=EP();t.queryToTagMap.set(v,C),t.tagToQueryMap.set(C,v)}const y=kc(t.pendingWriteTree_,o);let w=lP(d,e,n,y,a,h);if(!m&&!u&&!i){const v=oE(d,e);w=w.concat(xP(t,e,v))}return w}function Ip(t,e,n){const o=t.pendingWriteTree_,a=t.syncPointTree_.findOnPath(e,(u,d)=>{const h=Lt(u,e),m=ai(d,h);if(m)return m});return X0(o,e,a,n,!0)}function yP(t,e){const n=e._path;let i=null;t.syncPointTree_.foreachOnPath(n,(m,y)=>{const w=Lt(m,n);i=i||ai(y,w)});let o=t.syncPointTree_.get(n);o?i=i||ai(o,ke()):(o=new rE,t.syncPointTree_=t.syncPointTree_.set(n,o));const a=i!=null,u=a?new di(i,!0,!1):null,d=kc(t.pendingWriteTree_,e._path),h=iE(o,e,d,a?u.getNode():le.EMPTY_NODE,a);return tP(h)}function Wa(t,e){return dE(e,t.syncPointTree_,null,kc(t.pendingWriteTree_,ke()))}function dE(t,e,n,i){if(ye(t.path))return fE(t,e,n,i);{const o=e.get(ke());n==null&&o!=null&&(n=ai(o,ke()));let a=[];const u=we(t.path),d=t.operationForChild(u),h=e.children.get(u);if(h&&d){const m=n?n.getImmediateChild(u):null,y=J0(i,u);a=a.concat(dE(d,h,m,y))}return o&&(a=a.concat(Tp(o,t,i,n))),a}}function fE(t,e,n,i){const o=e.get(ke());n==null&&o!=null&&(n=ai(o,ke()));let a=[];return e.children.inorderTraversal((u,d)=>{const h=n?n.getImmediateChild(u):null,m=J0(i,u),y=t.operationForChild(u);y&&(a=a.concat(fE(y,d,h,m)))}),o&&(a=a.concat(Tp(o,t,i,n))),a}function hE(t,e){const n=e.query,i=ka(t,n);return{hashFn:()=>(eP(e)||le.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return i?mP(t,n._path,i):pP(t,n._path);{const a=vI(o,n);return uE(t,n,null,a)}}}}function ka(t,e){const n=Nc(e);return t.queryToTagMap.get(n)}function Nc(t){return t._path.toString()+"$"+t._queryIdentifier}function kp(t,e){return t.tagToQueryMap.get(e)}function Pp(t){const e=t.indexOf("$");return H(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Fe(t.substr(0,e))}}function Np(t,e,n){const i=t.syncPointTree_.get(e);H(i,"Missing sync point for query tag that we're tracking");const o=kc(t.pendingWriteTree_,e);return Tp(i,n,o,null)}function wP(t){return t.fold((e,n,i)=>{if(n&&fi(n))return[Pc(n)];{let o=[];return n&&(o=sE(n)),Gt(i,(a,u)=>{o=o.concat(u)}),o}})}function ma(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(dP())(t._repo,t._path):t}function _P(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const o=Nc(i),a=t.queryToTagMap.get(o);t.queryToTagMap.delete(o),t.tagToQueryMap.delete(a)}}}function EP(){return fP++}function xP(t,e,n){const i=e._path,o=ka(t,e),a=hE(t,n),u=t.listenProvider_.startListening(ma(e),o,a.hashFn,a.onComplete),d=t.syncPointTree_.subtree(i);if(o)H(!fi(d.value),"If we're adding a query, it shouldn't be shadowed");else{const h=d.fold((m,y,w)=>{if(!ye(m)&&y&&fi(y))return[Pc(y).query];{let v=[];return y&&(v=v.concat(sE(y).map(C=>C.query))),Gt(w,(C,x)=>{v=v.concat(x)}),v}});for(let m=0;m<h.length;++m){const y=h[m];t.listenProvider_.stopListening(ma(y),ka(t,y))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Rp(n)}node(){return this.node_}}class Ap{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ft(this.path_,e);return new Ap(this.syncTree_,n)}node(){return Ip(this.syncTree_,this.path_)}}const CP=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},uw=function(t,e,n){if(!t||typeof t!="object")return t;if(H(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return SP(t[".sv"],e,n);if(typeof t[".sv"]=="object")return bP(t[".sv"],e);H(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},SP=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:H(!1,"Unexpected server value: "+t)}},bP=function(t,e,n){t.hasOwnProperty("increment")||H(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&H(!1,"Unexpected increment value: "+i);const o=e.node();if(H(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return i;const u=o.getValue();return typeof u!="number"?i:u+i},TP=function(t,e,n,i){return Op(e,new Ap(n,t),i)},pE=function(t,e,n){return Op(t,new Rp(e),n)};function Op(t,e,n){const i=t.getPriority().val(),o=uw(i,e.getImmediateChild(".priority"),n);let a;if(t.isLeafNode()){const u=t,d=uw(u.getValue(),e,n);return d!==u.getValue()||o!==u.getPriority().val()?new gt(d,yt(o)):t}else{const u=t;return a=u,o!==u.getPriority().val()&&(a=a.updatePriority(new gt(o))),u.forEachChild(tt,(d,h)=>{const m=Op(h,e.getImmediateChild(d),n);m!==h&&(a=a.updateImmediateChild(d,m))}),a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Dp(t,e){let n=e instanceof Fe?e:new Fe(e),i=t,o=we(n);for(;o!==null;){const a=Ws(i.node.children,o)||{children:{},childCount:0};i=new Lp(o,i,a),n=Be(n),o=we(n)}return i}function ao(t){return t.node.value}function mE(t,e){t.node.value=e,jh(t)}function gE(t){return t.node.childCount>0}function IP(t){return ao(t)===void 0&&!gE(t)}function Rc(t,e){Gt(t.node.children,(n,i)=>{e(new Lp(n,t,i))})}function vE(t,e,n,i){n&&!i&&e(t),Rc(t,o=>{vE(o,e,!0,i)}),n&&i&&e(t)}function kP(t,e,n){let i=t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function qa(t){return new Fe(t.parent===null?t.name:qa(t.parent)+"/"+t.name)}function jh(t){t.parent!==null&&PP(t.parent,t.name,t)}function PP(t,e,n){const i=IP(n),o=xr(t.node.children,e);i&&o?(delete t.node.children[e],t.node.childCount--,jh(t)):!i&&!o&&(t.node.children[e]=n.node,t.node.childCount++,jh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP=/[\[\].#$\/\u0000-\u001F\u007F]/,RP=/[\[\].#$\u0000-\u001F\u007F]/,sh=10*1024*1024,yE=function(t){return typeof t=="string"&&t.length!==0&&!NP.test(t)},wE=function(t){return typeof t=="string"&&t.length!==0&&!RP.test(t)},AP=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wE(t)},OP=function(t,e,n,i){Mp(up(t,"value"),e,n)},Mp=function(t,e,n){const i=n instanceof Fe?new QI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fi(i));if(typeof e=="function")throw new Error(t+"contains a function "+Fi(i)+" with contents = "+e.toString());if(p0(e))throw new Error(t+"contains "+e.toString()+" "+Fi(i));if(typeof e=="string"&&e.length>sh/3&&bc(e)>sh)throw new Error(t+"contains a string greater than "+sh+" utf8 bytes "+Fi(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,a=!1;if(Gt(e,(u,d)=>{if(u===".value")o=!0;else if(u!==".priority"&&u!==".sv"&&(a=!0,!yE(u)))throw new Error(t+" contains an invalid key ("+u+") "+Fi(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);XI(i,u),Mp(t,d,i),JI(i)}),o&&a)throw new Error(t+' contains ".value" child '+Fi(i)+" in addition to actual children.")}},_E=function(t,e,n,i){if(!wE(n))throw new Error(up(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},LP=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),_E(t,e,n)},DP=function(t,e){if(we(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},MP=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!yE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!AP(n))throw new Error(up(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function EE(t,e){let n=null;for(let i=0;i<e.length;i++){const o=e[i],a=o.getPath();n!==null&&!j0(a,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:a}),n.events.push(o)}n&&t.eventLists_.push(n)}function Gn(t,e,n){EE(t,n),jP(t,i=>Nn(i,e)||Nn(e,i))}function jP(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const o=t.eventLists_[i];if(o){const a=o.path;e(a)?($P(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function $P(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();da&&Pt("event: "+n.toString()),oo(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UP="repo_interrupt",BP=25;class zP{constructor(e,n,i,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new FP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ku(),this.transactionQueueTree_=new Lp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function VP(t,e,n){if(t.stats_=mp(t.repoInfo_),t.forceRestClient_||EI())t.server_=new Gu(t.repoInfo_,(i,o,a,u)=>{cw(t,i,o,a,u)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>dw(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{dt(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new mr(t.repoInfo_,e,(i,o,a,u)=>{cw(t,i,o,a,u)},i=>{dw(t,i)},i=>{WP(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=TI(t.repoInfo_,()=>new Sk(t.stats_,t.server_)),t.infoData_=new wk,t.infoSyncTree_=new lw({startListening:(i,o,a,u)=>{let d=[];const h=t.infoData_.getNode(i._path);return h.isEmpty()||(d=Ha(t.infoSyncTree_,i._path,h),setTimeout(()=>{u("ok")},0)),d},stopListening:()=>{}}),jp(t,"connected",!1),t.serverSyncTree_=new lw({startListening:(i,o,a,u)=>(t.server_.listen(i,a,o,(d,h)=>{const m=u(d,h);Gn(t.eventQueue_,i._path,m)}),[]),stopListening:(i,o)=>{t.server_.unlisten(i,o)}})}function HP(t){const n=t.infoData_.getNode(new Fe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Fp(t){return CP({timestamp:HP(t)})}function cw(t,e,n,i,o){t.dataUpdateCount++;const a=new Fe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let u=[];if(o)if(i){const h=Bu(n,m=>yt(m));u=gP(t.serverSyncTree_,a,h,o)}else{const h=yt(n);u=cE(t.serverSyncTree_,a,h,o)}else if(i){const h=Bu(n,m=>yt(m));u=hP(t.serverSyncTree_,a,h)}else{const h=yt(n);u=Ha(t.serverSyncTree_,a,h)}let d=a;u.length>0&&(d=Oc(t,a)),Gn(t.eventQueue_,d,u)}function dw(t,e){jp(t,"connected",e),e===!1&&KP(t)}function WP(t,e){Gt(e,(n,i)=>{jp(t,n,i)})}function jp(t,e,n){const i=new Fe("/.info/"+e),o=yt(n);t.infoData_.updateSnapshot(i,o);const a=Ha(t.infoSyncTree_,i,o);Gn(t.eventQueue_,i,a)}function xE(t){return t.nextWriteId_++}function qP(t,e,n){const i=yP(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(o=>{const a=yt(o).withIndex(e._queryParams.getIndex());vP(t.serverSyncTree_,e,n,!0);let u;if(e._queryParams.loadsAllData())u=Ha(t.serverSyncTree_,e._path,a);else{const d=ka(t.serverSyncTree_,e);u=cE(t.serverSyncTree_,e._path,a,d)}return Gn(t.eventQueue_,e._path,u),uE(t.serverSyncTree_,e,n,null,!0),a},o=>(Ac(t,"get for query "+dt(e)+" failed: "+o),Promise.reject(new Error(o))))}function GP(t,e,n,i,o){Ac(t,"set",{path:e.toString(),value:n,priority:i});const a=Fp(t),u=yt(n,i),d=Ip(t.serverSyncTree_,e),h=pE(u,d,a),m=xE(t),y=lE(t.serverSyncTree_,e,h,m,!0);EE(t.eventQueue_,y),t.server_.put(e.toString(),u.val(!0),(v,C)=>{const x=v==="ok";x||Wt("set at "+e+" failed: "+v);const P=$i(t.serverSyncTree_,m,!x);Gn(t.eventQueue_,e,P),QP(t,o,v,C)});const w=IE(t,e);Oc(t,w),Gn(t.eventQueue_,w,[])}function KP(t){Ac(t,"onDisconnectEvents");const e=Fp(t),n=Ku();Oh(t.onDisconnect_,ke(),(o,a)=>{const u=TP(o,a,t.serverSyncTree_,e);q0(n,o,u)});let i=[];Oh(n,ke(),(o,a)=>{i=i.concat(Ha(t.serverSyncTree_,o,a));const u=IE(t,o);Oc(t,u)}),t.onDisconnect_=Ku(),Gn(t.eventQueue_,ke(),i)}function YP(t){t.persistentConnection_&&t.persistentConnection_.interrupt(UP)}function Ac(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Pt(n,...e)}function QP(t,e,n,i){e&&oo(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let a=o;i&&(a+=": "+i);const u=new Error(a);u.code=o,e(u)}})}function CE(t,e,n){return Ip(t.serverSyncTree_,e,n)||le.EMPTY_NODE}function $p(t,e=t.transactionQueueTree_){if(e||Lc(t,e),ao(e)){const n=bE(t,e);H(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&XP(t,qa(e),n)}else gE(e)&&Rc(e,n=>{$p(t,n)})}function XP(t,e,n){const i=n.map(m=>m.currentWriteId),o=CE(t,e,i);let a=o;const u=o.hash();for(let m=0;m<n.length;m++){const y=n[m];H(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const w=Lt(e,y.path);a=a.updateChild(w,y.currentOutputSnapshotRaw)}const d=a.val(!0),h=e;t.server_.put(h.toString(),d,m=>{Ac(t,"transaction put response",{path:h.toString(),status:m});let y=[];if(m==="ok"){const w=[];for(let v=0;v<n.length;v++)n[v].status=2,y=y.concat($i(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&w.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();Lc(t,Dp(t.transactionQueueTree_,e)),$p(t,t.transactionQueueTree_),Gn(t.eventQueue_,e,y);for(let v=0;v<w.length;v++)oo(w[v])}else{if(m==="datastale")for(let w=0;w<n.length;w++)n[w].status===3?n[w].status=4:n[w].status=0;else{Wt("transaction at "+h.toString()+" failed: "+m);for(let w=0;w<n.length;w++)n[w].status=4,n[w].abortReason=m}Oc(t,e)}},u)}function Oc(t,e){const n=SE(t,e),i=qa(n),o=bE(t,n);return JP(t,o,i),i}function JP(t,e,n){if(e.length===0)return;const i=[];let o=[];const u=e.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<e.length;d++){const h=e[d],m=Lt(n,h.path);let y=!1,w;if(H(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),h.status===4)y=!0,w=h.abortReason,o=o.concat($i(t.serverSyncTree_,h.currentWriteId,!0));else if(h.status===0)if(h.retryCount>=BP)y=!0,w="maxretry",o=o.concat($i(t.serverSyncTree_,h.currentWriteId,!0));else{const v=CE(t,h.path,u);h.currentInputSnapshot=v;const C=e[d].update(v.val());if(C!==void 0){Mp("transaction failed: Data returned ",C,h.path);let x=yt(C);typeof C=="object"&&C!=null&&xr(C,".priority")||(x=x.updatePriority(v.getPriority()));const R=h.currentWriteId,k=Fp(t),M=pE(x,v,k);h.currentOutputSnapshotRaw=x,h.currentOutputSnapshotResolved=M,h.currentWriteId=xE(t),u.splice(u.indexOf(R),1),o=o.concat(lE(t.serverSyncTree_,h.path,M,h.currentWriteId,h.applyLocally)),o=o.concat($i(t.serverSyncTree_,R,!0))}else y=!0,w="nodata",o=o.concat($i(t.serverSyncTree_,h.currentWriteId,!0))}Gn(t.eventQueue_,n,o),o=[],y&&(e[d].status=2,function(v){setTimeout(v,Math.floor(0))}(e[d].unwatcher),e[d].onComplete&&(w==="nodata"?i.push(()=>e[d].onComplete(null,!1,e[d].currentInputSnapshot)):i.push(()=>e[d].onComplete(new Error(w),!1,null))))}Lc(t,t.transactionQueueTree_);for(let d=0;d<i.length;d++)oo(i[d]);$p(t,t.transactionQueueTree_)}function SE(t,e){let n,i=t.transactionQueueTree_;for(n=we(e);n!==null&&ao(i)===void 0;)i=Dp(i,n),e=Be(e),n=we(e);return i}function bE(t,e){const n=[];return TE(t,e,n),n.sort((i,o)=>i.order-o.order),n}function TE(t,e,n){const i=ao(e);if(i)for(let o=0;o<i.length;o++)n.push(i[o]);Rc(e,o=>{TE(t,o,n)})}function Lc(t,e){const n=ao(e);if(n){let i=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[i]=n[o],i++);n.length=i,mE(e,n.length>0?n:void 0)}Rc(e,i=>{Lc(t,i)})}function IE(t,e){const n=qa(SE(t,e)),i=Dp(t.transactionQueueTree_,e);return kP(i,o=>{oh(t,o)}),oh(t,i),vE(i,o=>{oh(t,o)}),n}function oh(t,e){const n=ao(e);if(n){const i=[];let o=[],a=-1;for(let u=0;u<n.length;u++)n[u].status===3||(n[u].status===1?(H(a===u-1,"All SENT items should be at beginning of queue."),a=u,n[u].status=3,n[u].abortReason="set"):(H(n[u].status===0,"Unexpected transaction status in abort"),n[u].unwatcher(),o=o.concat($i(t.serverSyncTree_,n[u].currentWriteId,!0)),n[u].onComplete&&i.push(n[u].onComplete.bind(null,new Error("set"),!1,null))));a===-1?mE(e,void 0):n.length=a+1,Gn(t.eventQueue_,qa(e),o);for(let u=0;u<i.length;u++)oo(i[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let o=n[i];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function eN(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const fw=function(t,e){const n=tN(t),i=n.namespace;n.domain==="firebase.com"&&wr(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&wr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||fI();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new T0(n.host,n.secure,i,o,e,"",i!==n.subdomain),path:new Fe(n.pathString)}},tN=function(t){let e="",n="",i="",o="",a="",u=!0,d="https",h=443;if(typeof t=="string"){let m=t.indexOf("//");m>=0&&(d=t.substring(0,m-1),t=t.substring(m+2));let y=t.indexOf("/");y===-1&&(y=t.length);let w=t.indexOf("?");w===-1&&(w=t.length),e=t.substring(0,Math.min(y,w)),y<w&&(o=ZP(t.substring(y,w)));const v=eN(t.substring(Math.min(t.length,w)));m=e.indexOf(":"),m>=0?(u=d==="https"||d==="wss",h=parseInt(e.substring(m+1),10)):m=e.length;const C=e.slice(0,m);if(C.toLowerCase()==="localhost")n="localhost";else if(C.split(".").length<=2)n=C;else{const x=e.indexOf(".");i=e.substring(0,x).toLowerCase(),n=e.substring(x+1),a=i}"ns"in v&&(a=v.ns)}return{host:e,port:h,domain:n,subdomain:i,secure:u,scheme:d,pathString:o,namespace:a}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,i,o){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+dt(this.snapshot.exportVal())}}class rN{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return H(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,i,o){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=o}get key(){return ye(this._path)?null:D0(this._path)}get ref(){return new Cr(this._repo,this._path)}get _queryIdentifier(){const e=Xy(this._queryParams),n=hp(e);return n==="{}"?"default":n}get _queryObject(){return Xy(this._queryParams)}isEqual(e){if(e=Rt(e),!(e instanceof Up))return!1;const n=this._repo===e._repo,i=j0(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&i&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+YI(this._path)}}class Cr extends Up{constructor(e,n){super(e,n,new _p,!1)}get parent(){const e=F0(this._path);return e===null?null:new Cr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Pa{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Fe(e),i=nc(this.ref,e);return new Pa(this._node.getChild(n),i,tt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,o)=>e(new Pa(o,nc(this.ref,i),tt)))}hasChild(e){const n=new Fe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Nu(t,e){return t=Rt(t),t._checkNotDeleted("ref"),e!==void 0?nc(t._root,e):t._root}function nc(t,e){return t=Rt(t),we(t._path)===null?LP("child","path",e):_E("child","path",e),new Cr(t._repo,ft(t._path,e))}function hw(t,e){t=Rt(t),DP("set",t._path),OP("set",e,t._path);const n=new Sc;return GP(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function kE(t){t=Rt(t);const e=new iN(()=>{}),n=new Bp(e);return qP(t._repo,t,n).then(i=>new Pa(i,new Cr(t._repo,t._path),t._queryParams.getIndex()))}class Bp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new nN("value",this,new Pa(e.snapshotNode,new Cr(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new rN(this,e,n):null}matches(e){return e instanceof Bp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}sP(Cr);cP(Cr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="FIREBASE_DATABASE_EMULATOR_HOST",$h={};let oN=!1;function aN(t,e,n,i){t.repoInfo_=new T0(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function lN(t,e,n,i,o){let a=i||t.options.databaseURL;a===void 0&&(t.options.projectId||wr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pt("Using default host for project ",t.options.projectId),a=`${t.options.projectId}-default-rtdb.firebaseio.com`);let u=fw(a,o),d=u.repoInfo,h;typeof process<"u"&&Oy&&(h=Oy[sN]),h?(a=`http://${h}?ns=${d.namespace}`,u=fw(a,o),d=u.repoInfo):u.repoInfo.secure;const m=new CI(t.name,t.options,e);MP("Invalid Firebase Database URL",u),ye(u.path)||wr("Database URL must point to the root of a Firebase Database (not including a child path).");const y=cN(d,t,m,new xI(t.name,n));return new dN(y,t)}function uN(t,e){const n=$h[e];(!n||n[t.key]!==t)&&wr(`Database ${e}(${t.repoInfo_}) has already been deleted.`),YP(t),delete n[t.key]}function cN(t,e,n,i){let o=$h[e.name];o||(o={},$h[e.name]=o);let a=o[t.toURLString()];return a&&wr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new zP(t,oN,n,i),o[t.toURLString()]=a,a}class dN{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(VP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cr(this._repo,ke())),this._rootInternal}_delete(){return this._rootInternal!==null&&(uN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&wr("Cannot call "+e+" on a deleted database.")}}function Ru(t=l0(),e){const n=fp(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=M2("database");i&&fN(n,...i)}return n}function fN(t,e,n,i={}){t=Rt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&wr("Cannot call useEmulator() after instance has already been initialized.");const o=t._repoInternal;let a;if(o.repoInfo_.nodeAdmin)i.mockUserToken&&wr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Pu(Pu.OWNER);else if(i.mockUserToken){const u=typeof i.mockUserToken=="string"?i.mockUserToken:F2(i.mockUserToken,t.app.options.projectId);a=new Pu(u)}aN(o,e,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){oI(io),qs(new Vi("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return lN(i,o,a,n)},"PUBLIC").setMultipleInstances(!0)),si(Ly,Dy,t),si(Ly,Dy,"esm2017")}mr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};mr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};hN();function zp(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n}function PE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pN=PE,NE=new Ua("auth","Firebase",PE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new cp("@firebase/auth");function mN(t,...e){rc.logLevel<=De.WARN&&rc.warn(`Auth (${io}): ${t}`,...e)}function Au(t,...e){rc.logLevel<=De.ERROR&&rc.error(`Auth (${io}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(t,...e){throw Vp(t,...e)}function Vn(t,...e){return Vp(t,...e)}function RE(t,e,n){const i=Object.assign(Object.assign({},pN()),{[e]:n});return new Ua("auth","Firebase",i).create(e,{appName:t.name})}function gr(t){return RE(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vp(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return NE.create(t,...e)}function ue(t,e,...n){if(!t)throw Vp(e,...n)}function cr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Au(e),new Error(e)}function _r(t,e){t||cr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gN(){return pw()==="http:"||pw()==="https:"}function pw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gN()||$2()||"connection"in navigator)?navigator.onLine:!0}function yN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.shortDelay=e,this.longDelay=n,_r(n>e,"Short delay should be less than long delay!"),this.isMobile=lp()||n0()}get(){return vN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(t,e){_r(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;cr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;cr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;cr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new Ga(3e4,6e4);function gi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Sr(t,e,n,i,o={}){return OE(t,o,async()=>{let a={},u={};i&&(e==="GET"?u=i:a={body:JSON.stringify(i)});const d=ro(Object.assign({key:t.config.apiKey},u)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:h},a);return j2()||(m.referrerPolicy="no-referrer"),AE.fetch()(LE(t,t.config.apiHost,n,d),m)})}async function OE(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},wN),e);try{const o=new xN(t),a=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw xu(t,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[h,m]=d.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw xu(t,"credential-already-in-use",u);if(h==="EMAIL_EXISTS")throw xu(t,"email-already-in-use",u);if(h==="USER_DISABLED")throw xu(t,"user-disabled",u);const y=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw RE(t,y,m);On(t,y)}}catch(o){if(o instanceof mi)throw o;On(t,"network-request-failed",{message:String(o)})}}async function Ka(t,e,n,i,o={}){const a=await Sr(t,e,n,i,o);return"mfaPendingCredential"in a&&On(t,"multi-factor-auth-required",{_serverResponse:a}),a}function LE(t,e,n,i){const o=`${e}${n}?${i}`;return t.config.emulator?Hp(t.config,o):`${t.config.apiScheme}://${o}`}function EN(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Vn(this.auth,"network-request-failed")),_N.get())})}}function xu(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const o=Vn(t,e,i);return o.customData._tokenResponse=n,o}function mw(t){return t!==void 0&&t.enterprise!==void 0}class CN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SN(t,e){return Sr(t,"GET","/v2/recaptchaConfig",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(t,e){return Sr(t,"POST","/v1/accounts:delete",e)}async function DE(t,e){return Sr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ga(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TN(t,e=!1){const n=Rt(t),i=await n.getIdToken(e),o=Wp(i);ue(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const a=typeof o.firebase=="object"?o.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:o,token:i,authTime:ga(ah(o.auth_time)),issuedAtTime:ga(ah(o.iat)),expirationTime:ga(ah(o.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function ah(t){return Number(t)*1e3}function Wp(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Au("JWT malformed, contained fewer than 3 sections"),null;try{const o=Uu(n);return o?JSON.parse(o):(Au("Failed to decode base64 JWT payload"),null)}catch(o){return Au("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function gw(t){const e=Wp(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qs(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof mi&&IN(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function IN({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ga(this.lastLoginAt),this.creationTime=ga(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t){var e;const n=t.auth,i=await t.getIdToken(),o=await Qs(t,DE(n,{idToken:i}));ue(o==null?void 0:o.users.length,n,"internal-error");const a=o.users[0];t._notifyReloadListener(a);const u=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?ME(a.providerUserInfo):[],d=NN(t.providerData,u),h=t.isAnonymous,m=!(t.email&&a.passwordHash)&&!(d!=null&&d.length),y=h?m:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Bh(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(t,w)}async function PN(t){const e=Rt(t);await ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NN(t,e){return[...t.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function ME(t){return t.map(e=>{var{providerId:n}=e,i=zp(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(t,e){const n=await OE(t,{},async()=>{const i=ro({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:a}=t.config,u=LE(t,o,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",AE.fetch()(u,{method:"POST",headers:d,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AN(t,e){return Sr(t,"POST","/v2/accounts:revokeToken",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=gw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:o,expiresIn:a}=await RN(e,n);this.updateTokensAndExpiration(i,o,Number(a))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:o,expirationTime:a}=n,u=new Us;return i&&(ue(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),o&&(ue(typeof o=="string","internal-error",{appName:e}),u.accessToken=o),a&&(ue(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Us,this.toJSON())}_performRefresh(){return cr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class dr{constructor(e){var{uid:n,auth:i,stsTokenManager:o}=e,a=zp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new kN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Bh(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Qs(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return TN(this,e)}reload(){return PN(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await ic(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(gr(this.auth));const e=await this.getIdToken();return await Qs(this,bN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,o,a,u,d,h,m,y;const w=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(o=n.email)!==null&&o!==void 0?o:void 0,C=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,x=(u=n.photoURL)!==null&&u!==void 0?u:void 0,P=(d=n.tenantId)!==null&&d!==void 0?d:void 0,R=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,k=(m=n.createdAt)!==null&&m!==void 0?m:void 0,M=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:V,emailVerified:ee,isAnonymous:F,providerData:W,stsTokenManager:Q}=n;ue(V&&Q,e,"internal-error");const _e=Us.fromJSON(this.name,Q);ue(typeof V=="string",e,"internal-error"),Gr(w,e.name),Gr(v,e.name),ue(typeof ee=="boolean",e,"internal-error"),ue(typeof F=="boolean",e,"internal-error"),Gr(C,e.name),Gr(x,e.name),Gr(P,e.name),Gr(R,e.name),Gr(k,e.name),Gr(M,e.name);const pe=new dr({uid:V,auth:e,email:v,emailVerified:ee,displayName:w,isAnonymous:F,photoURL:x,phoneNumber:C,tenantId:P,stsTokenManager:_e,createdAt:k,lastLoginAt:M});return W&&Array.isArray(W)&&(pe.providerData=W.map(je=>Object.assign({},je))),R&&(pe._redirectEventId=R),pe}static async _fromIdTokenResponse(e,n,i=!1){const o=new Us;o.updateFromServerResponse(n);const a=new dr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await ic(a),a}static async _fromGetAccountInfoResponse(e,n,i){const o=n.users[0];ue(o.localId!==void 0,"internal-error");const a=o.providerUserInfo!==void 0?ME(o.providerUserInfo):[],u=!(o.email&&o.passwordHash)&&!(a!=null&&a.length),d=new Us;d.updateFromIdToken(i);const h=new dr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Bh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,m),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw=new Map;function fr(t){_r(t instanceof Function,"Expected a class definition");let e=vw.get(t);return e?(_r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,vw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}FE.type="NONE";const yw=FE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t,e,n){return`firebase:${t}:${e}:${n}`}class Bs{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:o,name:a}=this.auth;this.fullUserKey=Ou(this.userKey,o.apiKey,a),this.fullPersistenceKey=Ou("persistence",o.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Bs(fr(yw),e,i);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let a=o[0]||fr(yw);const u=Ou(i,e.config.apiKey,e.name);let d=null;for(const m of n)try{const y=await m._get(u);if(y){const w=dr._fromJSON(e,y);m!==a&&(d=w),a=m;break}}catch{}const h=o.filter(m=>m._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Bs(a,e,i):(a=h[0],d&&await a._set(u,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==a)try{await m._remove(u)}catch{}})),new Bs(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VE(e))return"Blackberry";if(HE(e))return"Webos";if($E(e))return"Safari";if((e.includes("chrome/")||UE(e))&&!e.includes("edge/"))return"Chrome";if(zE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function jE(t=Dt()){return/firefox\//i.test(t)}function $E(t=Dt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function UE(t=Dt()){return/crios\//i.test(t)}function BE(t=Dt()){return/iemobile/i.test(t)}function zE(t=Dt()){return/android/i.test(t)}function VE(t=Dt()){return/blackberry/i.test(t)}function HE(t=Dt()){return/webos/i.test(t)}function qp(t=Dt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function ON(t=Dt()){var e;return qp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function LN(){return U2()&&document.documentMode===10}function WE(t=Dt()){return qp(t)||zE(t)||HE(t)||VE(t)||/windows phone/i.test(t)||BE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t,e=[]){let n;switch(t){case"Browser":n=ww(Dt());break;case"Worker":n=`${ww(Dt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${io}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=a=>new Promise((u,d)=>{try{const h=e(a);u(h)}catch(h){d(h)}});i.onAbort=n,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(t,e={}){return Sr(t,"GET","/v2/passwordPolicy",gi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=6;class jN{constructor(e){var n,i,o,a;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:FN,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,o,a,u,d;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(i=h.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsLowercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(u=h.containsNumericCharacter)!==null&&u!==void 0?u:!0),h.isValid&&(h.isValid=(d=h.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),h}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,o,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $N{constructor(e,n,i,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _w(this),this.idTokenSubscription=new _w(this),this.beforeStateQueue=new DN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Bs.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await DE(this,{idToken:e}),i=await dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o==null?void 0:o._redirectEventId,h=await this.tryRedirectSignIn(e);(!u||u===d)&&(h!=null&&h.user)&&(o=h.user,a=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(o)}catch(u){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ic(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(gr(this));const n=e?Rt(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(gr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(gr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MN(this),n=new jN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ua("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await AN(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Bs.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,o){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,i,o);return()=>{u=!0,h()}}else{const h=e.addObserver(n);return()=>{u=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function es(t){return Rt(t)}class _w{constructor(e){this.auth=e,this.observer=null,this.addObserver=Y2(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UN(t){Dc=t}function GE(t){return Dc.loadJS(t)}function BN(){return Dc.recaptchaEnterpriseScript}function zN(){return Dc.gapiScript}function VN(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class HN{constructor(){this.enterprise=new WN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class WN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qN="recaptcha-enterprise",KE="NO_RECAPTCHA";class GN{constructor(e){this.type=qN,this.auth=es(e)}async verify(e="verify",n=!1){async function i(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{SN(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new CN(h);return a.tenantId==null?a._agentRecaptchaConfig=m:a._tenantRecaptchaConfigs[a.tenantId]=m,u(m.siteKey)}}).catch(h=>{d(h)})})}function o(a,u,d){const h=window.grecaptcha;mw(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(m=>{u(m)}).catch(()=>{u(KE)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HN().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{i(this.auth).then(d=>{if(!n&&mw(window.grecaptcha))o(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let h=BN();h.length!==0&&(h+=d),GE(h).then(()=>{o(d,a,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function Ew(t,e,n,i=!1,o=!1){const a=new GN(t);let u;if(o)u=KE;else try{u=await a.verify(n)}catch{u=await a.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const h=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const h=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function zh(t,e,n,i,o){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Ew(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Ew(t,e,n,n==="getOobCode");return i(t,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(t,e){const n=fp(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),a=n.getOptions();if(zu(a,e??{}))return o;On(o,"already-initialized")}return n.initialize({options:e})}function YN(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(fr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function QN(t,e,n){const i=es(t);ue(i._canInitEmulator,i,"emulator-config-failed"),ue(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,a=YE(e),{host:u,port:d}=XN(e),h=d===null?"":`:${d}`;i.config.emulator={url:`${a}//${u}${h}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:o})}),JN()}function YE(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function XN(t){const e=YE(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const a=o[1];return{host:a,port:xw(i.substr(a.length+1))}}else{const[a,u]=i.split(":");return{host:a,port:xw(u)}}}function xw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JN(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cr("not implemented")}_getIdTokenResponse(e){return cr("not implemented")}_linkToIdToken(e,n){return cr("not implemented")}_getReauthenticationResolver(e){return cr("not implemented")}}async function ZN(t,e){return Sr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(t,e){return Ka(t,"POST","/v1/accounts:signInWithPassword",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(t,e){return Ka(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))}async function nR(t,e){return Ka(t,"POST","/v1/accounts:signInWithEmailLink",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Gp{constructor(e,n,i,o=null){super("password",i),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Na(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Na(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zh(e,n,"signInWithPassword",eR);case"emailLink":return tR(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return zh(e,i,"signUpPassword",ZN);case"emailLink":return nR(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zs(t,e){return Ka(t,"POST","/v1/accounts:signInWithIdp",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="http://localhost";class Gi extends Gp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):On("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=n,a=zp(n,["providerId","signInMethod"]);if(!i||!o)return null;const u=new Gi(i,o);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return zs(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,zs(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zs(e,n)}buildRequest(){const e={requestUri:rR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ro(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sR(t){const e=la(ua(t)).link,n=e?la(ua(e)).deep_link_id:null,i=la(ua(t)).deep_link_id;return(i?la(ua(i)).link:null)||i||n||e||t}class Kp{constructor(e){var n,i,o,a,u,d;const h=la(ua(e)),m=(n=h.apiKey)!==null&&n!==void 0?n:null,y=(i=h.oobCode)!==null&&i!==void 0?i:null,w=iR((o=h.mode)!==null&&o!==void 0?o:null);ue(m&&y&&w,"argument-error"),this.apiKey=m,this.operation=w,this.code=y,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(u=h.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(d=h.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=sR(e);try{return new Kp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.providerId=lo.PROVIDER_ID}static credential(e,n){return Na._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Kp.parseLink(n);return ue(i,"argument-error"),Na._fromEmailAndCode(e,i.code,i.tenantId)}}lo.PROVIDER_ID="password";lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya extends QE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Ya{constructor(){super("facebook.com")}static credential(e){return Gi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Ya{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Gi._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Xr.credential(n,i)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Ya{constructor(){super("github.com")}static credential(e){return Gi._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.GITHUB_SIGN_IN_METHOD="github.com";Jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Ya{constructor(){super("twitter.com")}static credential(e,n){return Gi._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Zr.credential(n,i)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(t,e){return Ka(t,"POST","/v1/accounts:signUp",gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,o=!1){const a=await dr._fromIdTokenResponse(e,i,o),u=Cw(i);return new Ki({user:a,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const o=Cw(i);return new Ki({user:e,providerId:o,_tokenResponse:i,operationType:n})}}function Cw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends mi{constructor(e,n,i,o){var a;super(n.code,n.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,sc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,o){return new sc(e,n,i,o)}}function XE(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?sc._fromErrorAndOperation(t,a,e,i):a})}async function aR(t,e,n=!1){const i=await Qs(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ki._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e,n=!1){const{auth:i}=t;if(zn(i.app))return Promise.reject(gr(i));const o="reauthenticate";try{const a=await Qs(t,XE(i,o,e,t),n);ue(a.idToken,i,"internal-error");const u=Wp(a.idToken);ue(u,i,"internal-error");const{sub:d}=u;return ue(t.uid===d,i,"user-mismatch"),Ki._forOperation(t,o,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&On(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JE(t,e,n=!1){if(zn(t.app))return Promise.reject(gr(t));const i="signIn",o=await XE(t,i,e),a=await Ki._fromIdTokenResponse(t,i,o);return n||await t._updateCurrentUser(a.user),a}async function uR(t,e){return JE(es(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZE(t){const e=es(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cR(t,e,n){if(zn(t.app))return Promise.reject(gr(t));const i=es(t),u=await zh(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oR).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&ZE(t),h}),d=await Ki._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(d.user),d}function dR(t,e,n){return zn(t.app)?Promise.reject(gr(t)):uR(Rt(t),lo.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&ZE(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t,e){return Sr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=Rt(t),a={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await Qs(i,fR(i.auth,a));i.displayName=u.displayName||null,i.photoURL=u.photoUrl||null;const d=i.providerData.find(({providerId:h})=>h==="password");d&&(d.displayName=i.displayName,d.photoURL=i.photoURL),await i._updateTokensIfNecessary(u)}function pR(t,e,n,i){return Rt(t).onIdTokenChanged(e,n,i)}function mR(t,e,n){return Rt(t).beforeAuthStateChanged(e,n)}function gR(t,e,n,i){return Rt(t).onAuthStateChanged(e,n,i)}function e1(t){return Rt(t).signOut()}const oc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oc,"1"),this.storage.removeItem(oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=1e3,yR=10;class n1 extends t1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),o=this.localCache[n];i!==o&&e(n,o,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,h)=>{this.notifyListeners(u,h)});return}const i=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},a=this.storage.getItem(i);LN()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,yR):o()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},vR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}n1.type="LOCAL";const wR=n1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1 extends t1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}r1.type="SESSION";const i1=r1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const i=new Mc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:o,data:a}=n.data,u=this.handlersMap[o];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(u).map(async m=>m(n.origin,a)),h=await _R(d);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let a,u;return new Promise((d,h)=>{const m=Yp("",20);o.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},i);u={messageChannel:o,onMessage(w){const v=w;if(v.data.eventId===m)switch(v.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(v.data.response);break;default:clearTimeout(y),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(u),o.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(){return window}function xR(t){Hn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){return typeof Hn().WorkerGlobalScope<"u"&&typeof Hn().importScripts=="function"}async function CR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bR(){return s1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firebaseLocalStorageDb",TR=1,ac="firebaseLocalStorage",a1="fbase_key";class Qa{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Fc(t,e){return t.transaction([ac],e?"readwrite":"readonly").objectStore(ac)}function IR(){const t=indexedDB.deleteDatabase(o1);return new Qa(t).toPromise()}function Vh(){const t=indexedDB.open(o1,TR);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(ac,{keyPath:a1})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(ac)?e(i):(i.close(),await IR(),e(await Vh()))})})}async function Sw(t,e,n){const i=Fc(t,!0).put({[a1]:e,value:n});return new Qa(i).toPromise()}async function kR(t,e){const n=Fc(t,!1).get(e),i=await new Qa(n).toPromise();return i===void 0?null:i.value}function bw(t,e){const n=Fc(t,!0).delete(e);return new Qa(n).toPromise()}const PR=800,NR=3;class l1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Vh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>NR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return s1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mc._getInstance(bR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await CR(),!this.activeServiceWorker)return;this.sender=new ER(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vh();return await Sw(e,oc,"1"),await bw(e,oc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>Sw(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>kR(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>bw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const a=Fc(o,!1).getAll();return new Qa(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:a}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(a)&&(this.notifyListeners(o,a),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),PR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}l1.type="LOCAL";const RR=l1;new Ga(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t,e){return e?fr(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp extends Gp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OR(t){return JE(t.auth,new Qp(t),t.bypassAuthState)}function LR(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),lR(n,new Qp(t),t.bypassAuthState)}async function DR(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),aR(n,new Qp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,i,o,a=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:o,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const h={auth:this.auth,requestUri:n,sessionId:i,tenantId:a||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(h))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OR;case"linkViaPopup":case"linkViaRedirect":return DR;case"reauthViaPopup":case"reauthViaRedirect":return LR;default:On(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new Ga(2e3,1e4);class Ms extends u1{constructor(e,n,i,o,a){super(e,n,o,a),this.provider=i,this.authWindow=null,this.pollId=null,Ms.currentPopupAction&&Ms.currentPopupAction.cancel(),Ms.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=Yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ms.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,MR.get())};e()}}Ms.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="pendingRedirect",Lu=new Map;class jR extends u1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Lu.get(this.auth._key());if(!e){try{const i=await $R(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Lu.set(this.auth._key(),e)}return this.bypassAuthState||Lu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $R(t,e){const n=zR(e),i=BR(t);if(!await i._isAvailable())return!1;const o=await i._get(n)==="true";return await i._remove(n),o}function UR(t,e){Lu.set(t._key(),e)}function BR(t){return fr(t._redirectPersistence)}function zR(t){return Ou(FR,t.config.apiKey,t.name)}async function VR(t,e,n=!1){if(zn(t.app))return Promise.reject(gr(t));const i=es(t),o=AR(i,e),u=await new jR(i,o,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=10*60*1e3;class WR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!c1(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Vn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tw(e))}saveEventToCache(e){this.cachedEventUids.add(Tw(e)),this.lastProcessedEventTime=Date.now()}}function Tw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function c1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return c1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GR(t,e={}){return Sr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YR=/^https?/;async function QR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await GR(t);for(const n of e)try{if(XR(n))return}catch{}On(t,"unauthorized-domain")}function XR(t){const e=Uh(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!YR.test(n))return!1;if(KR.test(t))return i===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new Ga(3e4,6e4);function Iw(){const t=Hn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ZR(t){return new Promise((e,n)=>{var i,o,a;function u(){Iw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Iw(),n(Vn(t,"network-request-failed"))},timeout:JR.get()})}if(!((o=(i=Hn().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((a=Hn().gapi)===null||a===void 0)&&a.load)u();else{const d=VN("iframefcb");return Hn()[d]=()=>{gapi.load?u():n(Vn(t,"network-request-failed"))},GE(`${zN()}?onload=${d}`).catch(h=>n(h))}}).catch(e=>{throw Du=null,e})}let Du=null;function eA(t){return Du=Du||ZR(t),Du}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tA=new Ga(5e3,15e3),nA="__/auth/iframe",rA="emulator/auth/iframe",iA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oA(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Hp(e,rA):`https://${t.config.authDomain}/${nA}`,i={apiKey:e.apiKey,appName:t.name,v:io},o=sA.get(t.config.apiHost);o&&(i.eid=o);const a=t._getFrameworks();return a.length&&(i.fw=a.join(",")),`${n}?${ro(i).slice(1)}`}async function aA(t){const e=await eA(t),n=Hn().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:oA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iA,dontclear:!0},i=>new Promise(async(o,a)=>{await i.restyle({setHideOnLeave:!1});const u=Vn(t,"network-request-failed"),d=Hn().setTimeout(()=>{a(u)},tA.get());function h(){Hn().clearTimeout(d),o(i)}i.ping(h).then(h,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uA=500,cA=600,dA="_blank",fA="http://localhost";class kw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hA(t,e,n,i=uA,o=cA){const a=Math.max((window.screen.availHeight-o)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const h=Object.assign(Object.assign({},lA),{width:i.toString(),height:o.toString(),top:a,left:u}),m=Dt().toLowerCase();n&&(d=UE(m)?dA:n),jE(m)&&(e=e||fA,h.scrollbars="yes");const y=Object.entries(h).reduce((v,[C,x])=>`${v}${C}=${x},`,"");if(ON(m)&&d!=="_self")return pA(e||"",d),new kw(null);const w=window.open(e||"",d,y);ue(w,t,"popup-blocked");try{w.focus()}catch{}return new kw(w)}function pA(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mA="__/auth/handler",gA="emulator/auth/handler",vA=encodeURIComponent("fac");async function Pw(t,e,n,i,o,a){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:io,eventId:o};if(e instanceof QE){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",Sh(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,w]of Object.entries({}))u[y]=w}if(e instanceof Ya){const y=e.getScopes().filter(w=>w!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const h=await t._getAppCheckToken(),m=h?`#${vA}=${encodeURIComponent(h)}`:"";return`${yA(t)}?${ro(d).slice(1)}${m}`}function yA({config:t}){return t.emulator?Hp(t,gA):`https://${t.authDomain}/${mA}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh="webStorageSupport";class wA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=i1,this._completeRedirectFn=VR,this._overrideRedirectResult=UR}async _openPopup(e,n,i,o){var a;_r((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const u=await Pw(e,n,i,Uh(),o);return hA(e,u,Yp())}async _openRedirect(e,n,i,o){await this._originValidation(e);const a=await Pw(e,n,i,Uh(),o);return xR(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:a}=this.eventManagers[n];return o?Promise.resolve(o):(_r(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await aA(e),i=new WR(e);return n.register("authEvent",o=>(ue(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lh,{type:lh},o=>{var a;const u=(a=o==null?void 0:o[0])===null||a===void 0?void 0:a[lh];u!==void 0&&n(!!u),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=QR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return WE()||$E()||qp()}}const _A=wA;var Nw="@firebase/auth",Rw="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function CA(t){qs(new Vi("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=i.options;ue(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const h={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qE(t)},m=new $N(i,o,a,h);return YN(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),qs(new Vi("auth-internal",e=>{const n=es(e.getProvider("auth").getImmediate());return(i=>new EA(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),si(Nw,Rw,xA(t)),si(Nw,Rw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SA=5*60,bA=t0("authIdTokenMaxAge")||SA;let Aw=null;const TA=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>bA)return;const o=n==null?void 0:n.token;Aw!==o&&(Aw=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Yi(t=l0()){const e=fp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=KN(t,{popupRedirectResolver:_A,persistence:[RR,wR,i1]}),i=t0("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const u=TA(a.toString());mR(n,u,()=>u(n.currentUser)),pR(n,d=>u(d))}}const o=Z_("auth");return o&&QN(n,`http://${o}`),n}function IA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}UN({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=o=>{const a=Vn("internal-error");a.customData=o,n(a)},i.type="text/javascript",i.charset="UTF-8",IA().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});CA("Browser");const d1=b.createContext(void 0),f1=()=>{const t=b.useContext(d1);if(!t)throw new Error("useFavorites must be used within a FavoriteProvider");return t},kA=({children:t})=>{var y;const[e,n]=b.useState([]),[i,o]=b.useState(!0),u=(y=Yi().currentUser)==null?void 0:y.uid;b.useEffect(()=>{u&&d(u)},[u]),b.useEffect(()=>{const v=Yi().onAuthStateChanged(C=>{C?d(C.uid):n([])});return()=>v()},[]);const d=async w=>{if(!w)return;const v=Ru(),C=Nu(v,`users/${w}/favorites`);o(!0);try{const x=await kE(C);x.exists()?n(Object.values(x.val())):n([])}catch(x){console.error("Error fetching favorites:",x)}finally{o(!1)}},h=async(w,v)=>{const C=Ru();try{const x=v.nannyId;if(!x)throw new Error("Няня не має ID");await hw(Nu(C,`users/${w}/favorites/${x}`),v),n(P=>[...P,v])}catch(x){console.error("Помилка при додаванні няні до обраних:",x)}},m=async(w,v)=>{if(!w||!v){console.error("NannyId or UserId is missing!");return}const C=Ru(),x=Nu(C,`users/${v}/favorites/${w}`);try{await hw(x,null),d(v)}catch(P){console.error("Помилка при видаленні няні з обраних:",P)}};return _.jsx(d1.Provider,{value:{isLoading:i,favorites:e,addToFavorites:h,removeFromFavorites:m},children:t})},sn=({text:t,icon:e=null,border:n="false",backgroundColor:i="bg-[--prime]",hoverBackgroundColor:o="hover:bg-[--hover-prime]",hoverTextColor:a="hover:text-black",className:u="",...d})=>_.jsxs("button",{...d,className:`
        flex items-center justify-center px-6 py-3 font-bold 
        text-white rounded-full transition-all duration-300 
        ${i} ${o} ${a}
        ${n?"outline outline-2 outline-gray-200":""}
        ${u}
      `,children:[t,e&&_.jsx("span",{className:"ml-4",children:e})]});var h1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ow=Ui.createContext&&Ui.createContext(h1),PA=["attr","size","title"];function NA(t,e){if(t==null)return{};var n=RA(t,e),i,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(o=0;o<a.length;o++)i=a[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function RA(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},lc.apply(this,arguments)}function Lw(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function uc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lw(Object(n),!0).forEach(function(i){AA(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lw(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function AA(t,e,n){return e=OA(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function OA(t){var e=LA(t,"string");return typeof e=="symbol"?e:e+""}function LA(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function p1(t){return t&&t.map((e,n)=>Ui.createElement(e.tag,uc({key:n},e.attr),p1(e.child)))}function Kt(t){return e=>Ui.createElement(DA,lc({attr:uc({},t.attr)},e),p1(t.child))}function DA(t){var e=n=>{var{attr:i,size:o,title:a}=t,u=NA(t,PA),d=o||n.size||"1em",h;return n.className&&(h=n.className),t.className&&(h=(h?h+" ":"")+t.className),Ui.createElement("svg",lc({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,u,{className:h,style:uc(uc({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),a&&Ui.createElement("title",null,a),t.children)};return Ow!==void 0?Ui.createElement(Ow.Consumer,null,n=>e(n)):e(h1)}function MA(t){return Kt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function FA(t){return Kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(t)}function jA(t){return Kt({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function $A(t){return Kt({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function m1(t){return Kt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634 471L36 3.51A16 16 0 0 0 13.51 6l-10 12.49A16 16 0 0 0 6 41l598 467.49a16 16 0 0 0 22.49-2.49l10-12.49A16 16 0 0 0 634 471zM296.79 146.47l134.79 105.38C429.36 191.91 380.48 144 320 144a112.26 112.26 0 0 0-23.21 2.47zm46.42 219.07L208.42 260.16C210.65 320.09 259.53 368 320 368a113 113 0 0 0 23.21-2.46zM320 112c98.65 0 189.09 55 237.93 144a285.53 285.53 0 0 1-44 60.2l37.74 29.5a333.7 333.7 0 0 0 52.9-75.11 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64c-36.7 0-71.71 7-104.63 18.81l46.41 36.29c18.94-4.3 38.34-7.1 58.22-7.1zm0 288c-98.65 0-189.08-55-237.93-144a285.47 285.47 0 0 1 44.05-60.19l-37.74-29.5a333.6 333.6 0 0 0-52.89 75.1 32.35 32.35 0 0 0 0 29.19C89.72 376.41 197.08 448 320 448c36.7 0 71.71-7.05 104.63-18.81l-46.41-36.28C359.28 397.2 339.89 400 320 400z"},child:[]}]})(t)}function g1(t){return Kt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 144a110.94 110.94 0 0 0-31.24 5 55.4 55.4 0 0 1 7.24 27 56 56 0 0 1-56 56 55.4 55.4 0 0 1-27-7.24A111.71 111.71 0 1 0 288 144zm284.52 97.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400c-98.65 0-189.09-55-237.93-144C98.91 167 189.34 112 288 112s189.09 55 237.93 144C477.1 345 386.66 400 288 400z"},child:[]}]})(t)}function Xp(t){return Kt({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.25 15.5a.75.75 0 0 1-.75-.75V7.56L7.28 17.78a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L16.44 6.5H9.25a.75.75 0 0 1 0-1.5h9a.75.75 0 0 1 .75.75v9a.75.75 0 0 1-.75.75Z"},child:[]}]})(t)}/*!
* sweetalert2 v11.15.10
* Released under the MIT License.
*/function v1(t,e,n){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:n;throw new TypeError("Private element is not present on this object")}function UA(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Dw(t,e){return t.get(v1(t,e))}function BA(t,e,n){UA(t,e),e.set(t,n)}function zA(t,e,n){return t.set(v1(t,e),n),n}const VA=100,ae={},HA=()=>{ae.previousActiveElement instanceof HTMLElement?(ae.previousActiveElement.focus(),ae.previousActiveElement=null):document.body&&document.body.focus()},WA=t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,i=window.scrollY;ae.restoreFocusTimeout=setTimeout(()=>{HA(),e()},VA),window.scrollTo(n,i)}),y1="swal2-",qA=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],D=qA.reduce((t,e)=>(t[e]=y1+e,t),{}),GA=["success","warning","info","question","error"],cc=GA.reduce((t,e)=>(t[e]=y1+e,t),{}),w1="SweetAlert2:",Jp=t=>t.charAt(0).toUpperCase()+t.slice(1),Yt=t=>{console.warn(`${w1} ${typeof t=="object"?t.join(" "):t}`)},ts=t=>{console.error(`${w1} ${t}`)},Mw=[],KA=t=>{Mw.includes(t)||(Mw.push(t),Yt(t))},_1=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;KA(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},jc=t=>typeof t=="function"?t():t,Zp=t=>t&&typeof t.toPromise=="function",Xa=t=>Zp(t)?t.toPromise():Promise.resolve(t),em=t=>t&&Promise.resolve(t)===t,Qt=()=>document.body.querySelector(`.${D.container}`),Ja=t=>{const e=Qt();return e?e.querySelector(t):null},an=t=>Ja(`.${t}`),Pe=()=>an(D.popup),uo=()=>an(D.icon),YA=()=>an(D["icon-content"]),E1=()=>an(D.title),tm=()=>an(D["html-container"]),x1=()=>an(D.image),nm=()=>an(D["progress-steps"]),$c=()=>an(D["validation-message"]),Kn=()=>Ja(`.${D.actions} .${D.confirm}`),co=()=>Ja(`.${D.actions} .${D.cancel}`),ns=()=>Ja(`.${D.actions} .${D.deny}`),QA=()=>an(D["input-label"]),fo=()=>Ja(`.${D.loader}`),Za=()=>an(D.actions),C1=()=>an(D.footer),Uc=()=>an(D["timer-progress-bar"]),rm=()=>an(D.close),XA=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,im=()=>{const t=Pe();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),n=Array.from(e).sort((a,u)=>{const d=parseInt(a.getAttribute("tabindex")||"0"),h=parseInt(u.getAttribute("tabindex")||"0");return d>h?1:d<h?-1:0}),i=t.querySelectorAll(XA),o=Array.from(i).filter(a=>a.getAttribute("tabindex")!=="-1");return[...new Set(n.concat(o))].filter(a=>qt(a))},sm=()=>vr(document.body,D.shown)&&!vr(document.body,D["toast-shown"])&&!vr(document.body,D["no-backdrop"]),Bc=()=>{const t=Pe();return t?vr(t,D.toast):!1},JA=()=>{const t=Pe();return t?t.hasAttribute("data-loading"):!1},ln=(t,e)=>{if(t.textContent="",e){const i=new DOMParser().parseFromString(e,"text/html"),o=i.querySelector("head");o&&Array.from(o.childNodes).forEach(u=>{t.appendChild(u)});const a=i.querySelector("body");a&&Array.from(a.childNodes).forEach(u=>{u instanceof HTMLVideoElement||u instanceof HTMLAudioElement?t.appendChild(u.cloneNode(!0)):t.appendChild(u)})}},vr=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let i=0;i<n.length;i++)if(!t.classList.contains(n[i]))return!1;return!0},ZA=(t,e)=>{Array.from(t.classList).forEach(n=>{!Object.values(D).includes(n)&&!Object.values(cc).includes(n)&&!Object.values(e.showClass||{}).includes(n)&&t.classList.remove(n)})},on=(t,e,n)=>{if(ZA(t,e),!e.customClass)return;const i=e.customClass[n];if(i){if(typeof i!="string"&&!i.forEach){Yt(`Invalid type of customClass.${n}! Expected string or iterable object, got "${typeof i}"`);return}xe(t,i)}},zc=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${D.popup} > .${D[e]}`);case"checkbox":return t.querySelector(`.${D.popup} > .${D.checkbox} input`);case"radio":return t.querySelector(`.${D.popup} > .${D.radio} input:checked`)||t.querySelector(`.${D.popup} > .${D.radio} input:first-child`);case"range":return t.querySelector(`.${D.popup} > .${D.range} input`);default:return t.querySelector(`.${D.popup} > .${D.input}`)}},S1=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},b1=(t,e,n)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(i=>{Array.isArray(t)?t.forEach(o=>{n?o.classList.add(i):o.classList.remove(i)}):n?t.classList.add(i):t.classList.remove(i)}))},xe=(t,e)=>{b1(t,e,!0)},wn=(t,e)=>{b1(t,e,!1)},ei=(t,e)=>{const n=Array.from(t.children);for(let i=0;i<n.length;i++){const o=n[i];if(o instanceof HTMLElement&&vr(o,e))return o}},Bi=(t,e,n)=>{n===`${parseInt(n)}`&&(n=parseInt(n)),n||parseInt(n)===0?t.style.setProperty(e,typeof n=="number"?`${n}px`:n):t.style.removeProperty(e)},wt=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";t&&(t.style.display=e)},Nt=t=>{t&&(t.style.display="none")},om=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";t&&new MutationObserver(()=>{el(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},Fw=(t,e,n,i)=>{const o=t.querySelector(e);o&&o.style.setProperty(n,i)},el=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";e?wt(t,n):Nt(t)},qt=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),eO=()=>!qt(Kn())&&!qt(ns())&&!qt(co()),jw=t=>t.scrollHeight>t.clientHeight,T1=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),i=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||i>0},am=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=Uc();n&&qt(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition=`width ${t/1e3}s linear`,n.style.width="0%"},10))},tO=()=>{const t=Uc();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),i=e/n*100;t.style.width=`${i}%`},nO=()=>typeof window>"u"||typeof document>"u",rO=`
 <div aria-labelledby="${D.title}" aria-describedby="${D["html-container"]}" class="${D.popup}" tabindex="-1">
   <button type="button" class="${D.close}"></button>
   <ul class="${D["progress-steps"]}"></ul>
   <div class="${D.icon}"></div>
   <img class="${D.image}" />
   <h2 class="${D.title}" id="${D.title}"></h2>
   <div class="${D["html-container"]}" id="${D["html-container"]}"></div>
   <input class="${D.input}" id="${D.input}" />
   <input type="file" class="${D.file}" />
   <div class="${D.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${D.select}" id="${D.select}"></select>
   <div class="${D.radio}"></div>
   <label class="${D.checkbox}">
     <input type="checkbox" id="${D.checkbox}" />
     <span class="${D.label}"></span>
   </label>
   <textarea class="${D.textarea}" id="${D.textarea}"></textarea>
   <div class="${D["validation-message"]}" id="${D["validation-message"]}"></div>
   <div class="${D.actions}">
     <div class="${D.loader}"></div>
     <button type="button" class="${D.confirm}"></button>
     <button type="button" class="${D.deny}"></button>
     <button type="button" class="${D.cancel}"></button>
   </div>
   <div class="${D.footer}"></div>
   <div class="${D["timer-progress-bar-container"]}">
     <div class="${D["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),iO=()=>{const t=Qt();return t?(t.remove(),wn([document.documentElement,document.body],[D["no-backdrop"],D["toast-shown"],D["has-column"]]),!0):!1},Li=()=>{ae.currentInstance.resetValidationMessage()},sO=()=>{const t=Pe(),e=ei(t,D.input),n=ei(t,D.file),i=t.querySelector(`.${D.range} input`),o=t.querySelector(`.${D.range} output`),a=ei(t,D.select),u=t.querySelector(`.${D.checkbox} input`),d=ei(t,D.textarea);e.oninput=Li,n.onchange=Li,a.onchange=Li,u.onchange=Li,d.oninput=Li,i.oninput=()=>{Li(),o.value=i.value},i.onchange=()=>{Li(),o.value=i.value}},oO=t=>typeof t=="string"?document.querySelector(t):t,aO=t=>{const e=Pe();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},lO=t=>{window.getComputedStyle(t).direction==="rtl"&&xe(Qt(),D.rtl)},uO=t=>{const e=iO();if(nO()){ts("SweetAlert2 requires document to initialize");return}const n=document.createElement("div");n.className=D.container,e&&xe(n,D["no-transition"]),ln(n,rO);const i=oO(t.target);i.appendChild(n),aO(t),lO(i),sO()},lm=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?cO(t,e):t&&ln(e,t)},cO=(t,e)=>{t.jquery?dO(e,t):ln(e,t.toString())},dO=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},fO=(t,e)=>{const n=Za(),i=fo();!n||!i||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Nt(n):wt(n),on(n,e,"actions"),hO(n,i,e),ln(i,e.loaderHtml||""),on(i,e,"loader"))};function hO(t,e,n){const i=Kn(),o=ns(),a=co();!i||!o||!a||(uh(i,"confirm",n),uh(o,"deny",n),uh(a,"cancel",n),pO(i,o,a,n),n.reverseButtons&&(n.toast?(t.insertBefore(a,i),t.insertBefore(o,i)):(t.insertBefore(a,e),t.insertBefore(o,e),t.insertBefore(i,e))))}function pO(t,e,n,i){if(!i.buttonsStyling){wn([t,e,n],D.styled);return}xe([t,e,n],D.styled),i.confirmButtonColor&&(t.style.backgroundColor=i.confirmButtonColor,xe(t,D["default-outline"])),i.denyButtonColor&&(e.style.backgroundColor=i.denyButtonColor,xe(e,D["default-outline"])),i.cancelButtonColor&&(n.style.backgroundColor=i.cancelButtonColor,xe(n,D["default-outline"]))}function uh(t,e,n){const i=Jp(e);el(t,n[`show${i}Button`],"inline-block"),ln(t,n[`${e}ButtonText`]||""),t.setAttribute("aria-label",n[`${e}ButtonAriaLabel`]||""),t.className=D[e],on(t,n,`${e}Button`)}const mO=(t,e)=>{const n=rm();n&&(ln(n,e.closeButtonHtml||""),on(n,e,"closeButton"),el(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel||""))},gO=(t,e)=>{const n=Qt();n&&(vO(n,e.backdrop),yO(n,e.position),wO(n,e.grow),on(n,e,"container"))};function vO(t,e){typeof e=="string"?t.style.background=e:e||xe([document.documentElement,document.body],D["no-backdrop"])}function yO(t,e){e&&(e in D?xe(t,D[e]):(Yt('The "position" parameter is not valid, defaulting to "center"'),xe(t,D.center)))}function wO(t,e){e&&xe(t,D[`grow-${e}`])}var ze={innerParams:new WeakMap,domCache:new WeakMap};const _O=["input","file","range","select","radio","checkbox","textarea"],EO=(t,e)=>{const n=Pe();if(!n)return;const i=ze.innerParams.get(t),o=!i||e.input!==i.input;_O.forEach(a=>{const u=ei(n,D[a]);u&&(SO(a,e.inputAttributes),u.className=D[a],o&&Nt(u))}),e.input&&(o&&xO(e),bO(e))},xO=t=>{if(!t.input)return;if(!it[t.input]){ts(`Unexpected type of input! Expected ${Object.keys(it).join(" | ")}, got "${t.input}"`);return}const e=I1(t.input);if(!e)return;const n=it[t.input](e,t);wt(e),t.inputAutoFocus&&setTimeout(()=>{S1(n)})},CO=t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["id","type","value","style"].includes(n)||t.removeAttribute(n)}},SO=(t,e)=>{const n=Pe();if(!n)return;const i=zc(n,t);if(i){CO(i);for(const o in e)i.setAttribute(o,e[o])}},bO=t=>{if(!t.input)return;const e=I1(t.input);e&&on(e,t,"input")},um=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},tl=(t,e,n)=>{if(n.inputLabel){const i=document.createElement("label"),o=D["input-label"];i.setAttribute("for",t.id),i.className=o,typeof n.customClass=="object"&&xe(i,n.customClass.inputLabel),i.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",i)}},I1=t=>{const e=Pe();if(e)return ei(e,D[t]||D.input)},dc=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:em(e)||Yt(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},it={};it.text=it.email=it.password=it.number=it.tel=it.url=it.search=it.date=it["datetime-local"]=it.time=it.week=it.month=(t,e)=>(dc(t,e.inputValue),tl(t,t,e),um(t,e),t.type=e.input,t);it.file=(t,e)=>(tl(t,t,e),um(t,e),t);it.range=(t,e)=>{const n=t.querySelector("input"),i=t.querySelector("output");return dc(n,e.inputValue),n.type=e.input,dc(i,e.inputValue),tl(n,t,e),t};it.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");ln(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return tl(t,t,e),t};it.radio=t=>(t.textContent="",t);it.checkbox=(t,e)=>{const n=zc(Pe(),"checkbox");n.value="1",n.checked=!!e.inputValue;const i=t.querySelector("span");return ln(i,e.inputPlaceholder||e.inputLabel),n};it.textarea=(t,e)=>{dc(t,e.inputValue),um(t,e),tl(t,t,e);const n=i=>parseInt(window.getComputedStyle(i).marginLeft)+parseInt(window.getComputedStyle(i).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const i=parseInt(window.getComputedStyle(Pe()).width),o=()=>{if(!document.body.contains(t))return;const a=t.offsetWidth+n(t);a>i?Pe().style.width=`${a}px`:Bi(Pe(),"width",e.width)};new MutationObserver(o).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const TO=(t,e)=>{const n=tm();n&&(om(n),on(n,e,"htmlContainer"),e.html?(lm(e.html,n),wt(n,"block")):e.text?(n.textContent=e.text,wt(n,"block")):Nt(n),EO(t,e))},IO=(t,e)=>{const n=C1();n&&(om(n),el(n,e.footer,"block"),e.footer&&lm(e.footer,n),on(n,e,"footer"))},kO=(t,e)=>{const n=ze.innerParams.get(t),i=uo();if(i){if(n&&e.icon===n.icon){Uw(i,e),$w(i,e);return}if(!e.icon&&!e.iconHtml){Nt(i);return}if(e.icon&&Object.keys(cc).indexOf(e.icon)===-1){ts(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Nt(i);return}wt(i),Uw(i,e),$w(i,e),xe(i,e.showClass&&e.showClass.icon)}},$w=(t,e)=>{for(const[n,i]of Object.entries(cc))e.icon!==n&&wn(t,i);xe(t,e.icon&&cc[e.icon]),AO(t,e),PO(),on(t,e,"icon")},PO=()=>{const t=Pe();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let i=0;i<n.length;i++)n[i].style.backgroundColor=e},NO=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,RO=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Uw=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let n=t.innerHTML,i="";e.iconHtml?i=Bw(e.iconHtml):e.icon==="success"?(i=NO,n=n.replace(/ style=".*?"/g,"")):e.icon==="error"?i=RO:e.icon&&(i=Bw({question:"?",warning:"!",info:"i"}[e.icon])),n.trim()!==i.trim()&&ln(t,i)},AO=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])Fw(t,n,"background-color",e.iconColor);Fw(t,".swal2-success-ring","border-color",e.iconColor)}},Bw=t=>`<div class="${D["icon-content"]}">${t}</div>`,OO=(t,e)=>{const n=x1();if(n){if(!e.imageUrl){Nt(n);return}wt(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt||""),Bi(n,"width",e.imageWidth),Bi(n,"height",e.imageHeight),n.className=D.image,on(n,e,"image")}};let cm=!1,k1=0,P1=0,N1=0,R1=0;const LO=t=>{t.addEventListener("mousedown",fc),document.body.addEventListener("mousemove",hc),t.addEventListener("mouseup",pc),t.addEventListener("touchstart",fc),document.body.addEventListener("touchmove",hc),t.addEventListener("touchend",pc)},DO=t=>{t.removeEventListener("mousedown",fc),document.body.removeEventListener("mousemove",hc),t.removeEventListener("mouseup",pc),t.removeEventListener("touchstart",fc),document.body.removeEventListener("touchmove",hc),t.removeEventListener("touchend",pc)},fc=t=>{const e=Pe();if(t.target===e||uo().contains(t.target)){cm=!0;const n=A1(t);k1=n.clientX,P1=n.clientY,N1=parseInt(e.style.insetInlineStart)||0,R1=parseInt(e.style.insetBlockStart)||0,xe(e,"swal2-dragging")}},hc=t=>{const e=Pe();if(cm){let{clientX:n,clientY:i}=A1(t);e.style.insetInlineStart=`${N1+(n-k1)}px`,e.style.insetBlockStart=`${R1+(i-P1)}px`}},pc=()=>{const t=Pe();cm=!1,wn(t,"swal2-dragging")},A1=t=>{let e=0,n=0;return t.type.startsWith("mouse")?(e=t.clientX,n=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,n=t.touches[0].clientY),{clientX:e,clientY:n}},MO=(t,e)=>{const n=Qt(),i=Pe();if(!(!n||!i)){if(e.toast){Bi(n,"width",e.width),i.style.width="100%";const o=fo();o&&i.insertBefore(o,uo())}else Bi(i,"width",e.width);Bi(i,"padding",e.padding),e.color&&(i.style.color=e.color),e.background&&(i.style.background=e.background),Nt($c()),FO(i,e),e.draggable&&!e.toast?(xe(i,D.draggable),LO(i)):(wn(i,D.draggable),DO(i))}},FO=(t,e)=>{const n=e.showClass||{};t.className=`${D.popup} ${qt(t)?n.popup:""}`,e.toast?(xe([document.documentElement,document.body],D["toast-shown"]),xe(t,D.toast)):xe(t,D.modal),on(t,e,"popup"),typeof e.customClass=="string"&&xe(t,e.customClass),e.icon&&xe(t,D[`icon-${e.icon}`])},jO=(t,e)=>{const n=nm();if(!n)return;const{progressSteps:i,currentProgressStep:o}=e;if(!i||i.length===0||o===void 0){Nt(n);return}wt(n),n.textContent="",o>=i.length&&Yt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),i.forEach((a,u)=>{const d=$O(a);if(n.appendChild(d),u===o&&xe(d,D["active-progress-step"]),u!==i.length-1){const h=UO(e);n.appendChild(h)}})},$O=t=>{const e=document.createElement("li");return xe(e,D["progress-step"]),ln(e,t),e},UO=t=>{const e=document.createElement("li");return xe(e,D["progress-step-line"]),t.progressStepsDistance&&Bi(e,"width",t.progressStepsDistance),e},BO=(t,e)=>{const n=E1();n&&(om(n),el(n,e.title||e.titleText,"block"),e.title&&lm(e.title,n),e.titleText&&(n.innerText=e.titleText),on(n,e,"title"))},O1=(t,e)=>{MO(t,e),gO(t,e),jO(t,e),kO(t,e),OO(t,e),BO(t,e),mO(t,e),TO(t,e),fO(t,e),IO(t,e);const n=Pe();typeof e.didRender=="function"&&n&&e.didRender(n),ae.eventEmitter.emit("didRender",n)},zO=()=>qt(Pe()),L1=()=>{var t;return(t=Kn())===null||t===void 0?void 0:t.click()},VO=()=>{var t;return(t=ns())===null||t===void 0?void 0:t.click()},HO=()=>{var t;return(t=co())===null||t===void 0?void 0:t.click()},ho=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),D1=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},WO=(t,e,n)=>{D1(t),e.toast||(t.keydownHandler=i=>GO(e,i,n),t.keydownTarget=e.keydownListenerCapture?window:Pe(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},Hh=(t,e)=>{var n;const i=im();if(i.length){t=t+e,t===i.length?t=0:t===-1&&(t=i.length-1),i[t].focus();return}(n=Pe())===null||n===void 0||n.focus()},M1=["ArrowRight","ArrowDown"],qO=["ArrowLeft","ArrowUp"],GO=(t,e,n)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?KO(e,t):e.key==="Tab"?YO(e):[...M1,...qO].includes(e.key)?QO(e.key):e.key==="Escape"&&XO(e,t,n)))},KO=(t,e)=>{if(!jc(e.allowEnterKey))return;const n=zc(Pe(),e.input);if(t.target&&n&&t.target instanceof HTMLElement&&t.target.outerHTML===n.outerHTML){if(["textarea","file"].includes(e.input))return;L1(),t.preventDefault()}},YO=t=>{const e=t.target,n=im();let i=-1;for(let o=0;o<n.length;o++)if(e===n[o]){i=o;break}t.shiftKey?Hh(i,-1):Hh(i,1),t.stopPropagation(),t.preventDefault()},QO=t=>{const e=Za(),n=Kn(),i=ns(),o=co();if(!e||!n||!i||!o)return;const a=[n,i,o];if(document.activeElement instanceof HTMLElement&&!a.includes(document.activeElement))return;const u=M1.includes(t)?"nextElementSibling":"previousElementSibling";let d=document.activeElement;if(d){for(let h=0;h<e.children.length;h++){if(d=d[u],!d)return;if(d instanceof HTMLButtonElement&&qt(d))break}d instanceof HTMLButtonElement&&d.focus()}},XO=(t,e,n)=>{jc(e.allowEscapeKey)&&(t.preventDefault(),n(ho.esc))};var Xs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const JO=()=>{const t=Qt();Array.from(document.body.children).forEach(n=>{n.contains(t)||(n.hasAttribute("aria-hidden")&&n.setAttribute("data-previous-aria-hidden",n.getAttribute("aria-hidden")||""),n.setAttribute("aria-hidden","true"))})},F1=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},j1=typeof window<"u"&&!!window.GestureEvent,ZO=()=>{if(j1&&!vr(document.body,D.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,xe(document.body,D.iosfix),eL()}},eL=()=>{const t=Qt();if(!t)return;let e;t.ontouchstart=n=>{e=tL(n)},t.ontouchmove=n=>{e&&(n.preventDefault(),n.stopPropagation())}},tL=t=>{const e=t.target,n=Qt(),i=tm();return!n||!i||nL(t)||rL(t)?!1:e===n||!jw(n)&&e instanceof HTMLElement&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(jw(i)&&i.contains(e))},nL=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",rL=t=>t.touches&&t.touches.length>1,iL=()=>{if(vr(document.body,D.iosfix)){const t=parseInt(document.body.style.top,10);wn(document.body,D.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},sL=()=>{const t=document.createElement("div");t.className=D["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Vs=null;const oL=t=>{Vs===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Vs=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Vs+sL()}px`)},aL=()=>{Vs!==null&&(document.body.style.paddingRight=`${Vs}px`,Vs=null)};function $1(t,e,n,i){Bc()?zw(t,i):(WA(n).then(()=>zw(t,i)),D1(ae)),j1?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),sm()&&(aL(),iL(),F1()),lL()}function lL(){wn([document.documentElement,document.body],[D.shown,D["height-auto"],D["no-backdrop"],D["toast-shown"]])}function ti(t){t=cL(t);const e=Xs.swalPromiseResolve.get(this),n=uL(this);this.isAwaitingPromise?t.isDismissed||(nl(this),e(t)):n&&e(t)}const uL=t=>{const e=Pe();if(!e)return!1;const n=ze.innerParams.get(t);if(!n||vr(e,n.hideClass.popup))return!1;wn(e,n.showClass.popup),xe(e,n.hideClass.popup);const i=Qt();return wn(i,n.showClass.backdrop),xe(i,n.hideClass.backdrop),dL(t,e,n),!0};function U1(t){const e=Xs.swalPromiseReject.get(this);nl(this),e&&e(t)}const nl=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,ze.innerParams.get(t)||t._destroy())},cL=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),dL=(t,e,n)=>{var i;const o=Qt(),a=T1(e);typeof n.willClose=="function"&&n.willClose(e),(i=ae.eventEmitter)===null||i===void 0||i.emit("willClose",e),a?fL(t,e,o,n.returnFocus,n.didClose):$1(t,o,n.returnFocus,n.didClose)},fL=(t,e,n,i,o)=>{ae.swalCloseEventFinishedCallback=$1.bind(null,t,n,i,o);const a=function(u){if(u.target===e){var d;(d=ae.swalCloseEventFinishedCallback)===null||d===void 0||d.call(ae),delete ae.swalCloseEventFinishedCallback,e.removeEventListener("animationend",a),e.removeEventListener("transitionend",a)}};e.addEventListener("animationend",a),e.addEventListener("transitionend",a)},zw=(t,e)=>{setTimeout(()=>{var n;typeof e=="function"&&e.bind(t.params)(),(n=ae.eventEmitter)===null||n===void 0||n.emit("didClose"),t._destroy&&t._destroy()})},Js=t=>{let e=Pe();if(e||new _n,e=Pe(),!e)return;const n=fo();Bc()?Nt(uo()):hL(e,t),wt(n),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},hL=(t,e)=>{const n=Za(),i=fo();!n||!i||(!e&&qt(Kn())&&(e=Kn()),wt(n),e&&(Nt(e),i.setAttribute("data-button-to-replace",e.className),n.insertBefore(i,e)),xe([t,n],D.loading))},pL=(t,e)=>{e.input==="select"||e.input==="radio"?wL(t,e):["text","email","number","tel","textarea"].some(n=>n===e.input)&&(Zp(e.inputValue)||em(e.inputValue))&&(Js(Kn()),_L(t,e))},mL=(t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return gL(n);case"radio":return vL(n);case"file":return yL(n);default:return e.inputAutoTrim?n.value.trim():n.value}},gL=t=>t.checked?1:0,vL=t=>t.checked?t.value:null,yL=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,wL=(t,e)=>{const n=Pe();if(!n)return;const i=o=>{e.input==="select"?EL(n,mc(o),e):e.input==="radio"&&xL(n,mc(o),e)};Zp(e.inputOptions)||em(e.inputOptions)?(Js(Kn()),Xa(e.inputOptions).then(o=>{t.hideLoading(),i(o)})):typeof e.inputOptions=="object"?i(e.inputOptions):ts(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},_L=(t,e)=>{const n=t.getInput();n&&(Nt(n),Xa(e.inputValue).then(i=>{n.value=e.input==="number"?`${parseFloat(i)||0}`:`${i}`,wt(n),n.focus(),t.hideLoading()}).catch(i=>{ts(`Error in inputValue promise: ${i}`),n.value="",wt(n),n.focus(),t.hideLoading()}))};function EL(t,e,n){const i=ei(t,D.select);if(!i)return;const o=(a,u,d)=>{const h=document.createElement("option");h.value=d,ln(h,u),h.selected=B1(d,n.inputValue),a.appendChild(h)};e.forEach(a=>{const u=a[0],d=a[1];if(Array.isArray(d)){const h=document.createElement("optgroup");h.label=u,h.disabled=!1,i.appendChild(h),d.forEach(m=>o(h,m[1],m[0]))}else o(i,d,u)}),i.focus()}function xL(t,e,n){const i=ei(t,D.radio);if(!i)return;e.forEach(a=>{const u=a[0],d=a[1],h=document.createElement("input"),m=document.createElement("label");h.type="radio",h.name=D.radio,h.value=u,B1(u,n.inputValue)&&(h.checked=!0);const y=document.createElement("span");ln(y,d),y.className=D.label,m.appendChild(h),m.appendChild(y),i.appendChild(m)});const o=i.querySelectorAll("input");o.length&&o[0].focus()}const mc=t=>{const e=[];return t instanceof Map?t.forEach((n,i)=>{let o=n;typeof o=="object"&&(o=mc(o)),e.push([i,o])}):Object.keys(t).forEach(n=>{let i=t[n];typeof i=="object"&&(i=mc(i)),e.push([n,i])}),e},B1=(t,e)=>!!e&&e.toString()===t.toString(),CL=t=>{const e=ze.innerParams.get(t);t.disableButtons(),e.input?z1(t,"confirm"):fm(t,!0)},SL=t=>{const e=ze.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?z1(t,"deny"):dm(t,!1)},bL=(t,e)=>{t.disableButtons(),e(ho.cancel)},z1=(t,e)=>{const n=ze.innerParams.get(t);if(!n.input){ts(`The "input" parameter is needed to be set when using returnInputValueOn${Jp(e)}`);return}const i=t.getInput(),o=mL(t,n);n.inputValidator?TL(t,o,e):i&&!i.checkValidity()?(t.enableButtons(),t.showValidationMessage(n.validationMessage||i.validationMessage)):e==="deny"?dm(t,o):fm(t,o)},TL=(t,e,n)=>{const i=ze.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Xa(i.inputValidator(e,i.validationMessage))).then(a=>{t.enableButtons(),t.enableInput(),a?t.showValidationMessage(a):n==="deny"?dm(t,e):fm(t,e)})},dm=(t,e)=>{const n=ze.innerParams.get(t||void 0);n.showLoaderOnDeny&&Js(ns()),n.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Xa(n.preDeny(e,n.validationMessage))).then(o=>{o===!1?(t.hideLoading(),nl(t)):t.close({isDenied:!0,value:typeof o>"u"?e:o})}).catch(o=>V1(t||void 0,o))):t.close({isDenied:!0,value:e})},Vw=(t,e)=>{t.close({isConfirmed:!0,value:e})},V1=(t,e)=>{t.rejectPromise(e)},fm=(t,e)=>{const n=ze.innerParams.get(t||void 0);n.showLoaderOnConfirm&&Js(),n.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Xa(n.preConfirm(e,n.validationMessage))).then(o=>{qt($c())||o===!1?(t.hideLoading(),nl(t)):Vw(t,typeof o>"u"?e:o)}).catch(o=>V1(t||void 0,o))):Vw(t,e)};function gc(){const t=ze.innerParams.get(this);if(!t)return;const e=ze.domCache.get(this);Nt(e.loader),Bc()?t.icon&&wt(uo()):IL(e),wn([e.popup,e.actions],D.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const IL=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?wt(e[0],"inline-block"):eO()&&Nt(t.actions)};function H1(){const t=ze.innerParams.get(this),e=ze.domCache.get(this);return e?zc(e.popup,t.input):null}function W1(t,e,n){const i=ze.domCache.get(t);e.forEach(o=>{i[o].disabled=n})}function q1(t,e){const n=Pe();if(!(!n||!t))if(t.type==="radio"){const i=n.querySelectorAll(`[name="${D.radio}"]`);for(let o=0;o<i.length;o++)i[o].disabled=e}else t.disabled=e}function G1(){W1(this,["confirmButton","denyButton","cancelButton"],!1)}function K1(){W1(this,["confirmButton","denyButton","cancelButton"],!0)}function Y1(){q1(this.getInput(),!1)}function Q1(){q1(this.getInput(),!0)}function X1(t){const e=ze.domCache.get(this),n=ze.innerParams.get(this);ln(e.validationMessage,t),e.validationMessage.className=D["validation-message"],n.customClass&&n.customClass.validationMessage&&xe(e.validationMessage,n.customClass.validationMessage),wt(e.validationMessage);const i=this.getInput();i&&(i.setAttribute("aria-invalid","true"),i.setAttribute("aria-describedby",D["validation-message"]),S1(i),xe(i,D.inputerror))}function J1(){const t=ze.domCache.get(this);t.validationMessage&&Nt(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),wn(e,D.inputerror))}const Hs={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},kL=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],PL={allowEnterKey:void 0},NL=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Z1=t=>Object.prototype.hasOwnProperty.call(Hs,t),ex=t=>kL.indexOf(t)!==-1,tx=t=>PL[t],RL=t=>{Z1(t)||Yt(`Unknown parameter "${t}"`)},AL=t=>{NL.includes(t)&&Yt(`The parameter "${t}" is incompatible with toasts`)},OL=t=>{const e=tx(t);e&&_1(t,e)},LL=t=>{t.backdrop===!1&&t.allowOutsideClick&&Yt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const e in t)RL(e),t.toast&&AL(e),OL(e)};function nx(t){const e=Pe(),n=ze.innerParams.get(this);if(!e||vr(e,n.hideClass.popup)){Yt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=DL(t),o=Object.assign({},n,i);O1(this,o),ze.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const DL=t=>{const e={};return Object.keys(t).forEach(n=>{ex(n)?e[n]=t[n]:Yt(`Invalid parameter to update: ${n}`)}),e};function rx(){const t=ze.domCache.get(this),e=ze.innerParams.get(this);if(!e){ix(this);return}t.popup&&ae.swalCloseEventFinishedCallback&&(ae.swalCloseEventFinishedCallback(),delete ae.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),ae.eventEmitter.emit("didDestroy"),ML(this)}const ML=t=>{ix(t),delete t.params,delete ae.keydownHandler,delete ae.keydownTarget,delete ae.currentInstance},ix=t=>{t.isAwaitingPromise?(ch(ze,t),t.isAwaitingPromise=!0):(ch(Xs,t),ch(ze,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},ch=(t,e)=>{for(const n in t)t[n].delete(e)};var FL=Object.freeze({__proto__:null,_destroy:rx,close:ti,closeModal:ti,closePopup:ti,closeToast:ti,disableButtons:K1,disableInput:Q1,disableLoading:gc,enableButtons:G1,enableInput:Y1,getInput:H1,handleAwaitingPromise:nl,hideLoading:gc,rejectPromise:U1,resetValidationMessage:J1,showValidationMessage:X1,update:nx});const jL=(t,e,n)=>{t.toast?$L(t,e,n):(BL(e),zL(e),VL(t,e,n))},$L=(t,e,n)=>{e.popup.onclick=()=>{t&&(UL(t)||t.timer||t.input)||n(ho.close)}},UL=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let vc=!1;const BL=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(vc=!0)}}},zL=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(n){t.popup.onmouseup=()=>{},(n.target===t.popup||n.target instanceof HTMLElement&&t.popup.contains(n.target))&&(vc=!0)}}},VL=(t,e,n)=>{e.container.onclick=i=>{if(vc){vc=!1;return}i.target===e.container&&jc(t.allowOutsideClick)&&n(ho.backdrop)}},HL=t=>typeof t=="object"&&t.jquery,Hw=t=>t instanceof Element||HL(t),WL=t=>{const e={};return typeof t[0]=="object"&&!Hw(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((n,i)=>{const o=t[i];typeof o=="string"||Hw(o)?e[n]=o:o!==void 0&&ts(`Unexpected type of ${n}! Expected "string" or "Element", got ${typeof o}`)}),e};function qL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new this(...e)}function GL(t){class e extends this{_main(i,o){return super._main(i,Object.assign({},t,o))}}return e}const KL=()=>ae.timeout&&ae.timeout.getTimerLeft(),sx=()=>{if(ae.timeout)return tO(),ae.timeout.stop()},ox=()=>{if(ae.timeout){const t=ae.timeout.start();return am(t),t}},YL=()=>{const t=ae.timeout;return t&&(t.running?sx():ox())},QL=t=>{if(ae.timeout){const e=ae.timeout.increase(t);return am(e,!0),e}},XL=()=>!!(ae.timeout&&ae.timeout.isRunning());let Ww=!1;const Wh={};function JL(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Wh[t]=this,Ww||(document.body.addEventListener("click",ZL),Ww=!0)}const ZL=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const n in Wh){const i=e.getAttribute(n);if(i){Wh[n].fire({template:i});return}}};class eD{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,n){const i=this._getHandlersByEventName(e);i.includes(n)||i.push(n)}once(e,n){var i=this;const o=function(){i.removeListener(e,o);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];n.apply(i,u)};this.on(e,o)}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];this._getHandlersByEventName(e).forEach(a=>{try{a.apply(this,i)}catch(u){console.error(u)}})}removeListener(e,n){const i=this._getHandlersByEventName(e),o=i.indexOf(n);o>-1&&i.splice(o,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}ae.eventEmitter=new eD;const tD=(t,e)=>{ae.eventEmitter.on(t,e)},nD=(t,e)=>{ae.eventEmitter.once(t,e)},rD=(t,e)=>{if(!t){ae.eventEmitter.reset();return}e?ae.eventEmitter.removeListener(t,e):ae.eventEmitter.removeAllListeners(t)};var iD=Object.freeze({__proto__:null,argsToParams:WL,bindClickHandler:JL,clickCancel:HO,clickConfirm:L1,clickDeny:VO,enableLoading:Js,fire:qL,getActions:Za,getCancelButton:co,getCloseButton:rm,getConfirmButton:Kn,getContainer:Qt,getDenyButton:ns,getFocusableElements:im,getFooter:C1,getHtmlContainer:tm,getIcon:uo,getIconContent:YA,getImage:x1,getInputLabel:QA,getLoader:fo,getPopup:Pe,getProgressSteps:nm,getTimerLeft:KL,getTimerProgressBar:Uc,getTitle:E1,getValidationMessage:$c,increaseTimer:QL,isDeprecatedParameter:tx,isLoading:JA,isTimerRunning:XL,isUpdatableParameter:ex,isValidParameter:Z1,isVisible:zO,mixin:GL,off:rD,on:tD,once:nD,resumeTimer:ox,showLoading:Js,stopTimer:sx,toggleTimer:YL});class sD{constructor(e,n){this.callback=e,this.remaining=n,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const n=this.running;return n&&this.stop(),this.remaining+=e,n&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const ax=["swal-title","swal-html","swal-footer"],oD=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const n=e.content;return pD(n),Object.assign(aD(n),lD(n),uD(n),cD(n),dD(n),fD(n),hD(n,ax))},aD=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(i=>{Qi(i,["name","value"]);const o=i.getAttribute("name"),a=i.getAttribute("value");!o||!a||(typeof Hs[o]=="boolean"?e[o]=a!=="false":typeof Hs[o]=="object"?e[o]=JSON.parse(a):e[o]=a)}),e},lD=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(i=>{const o=i.getAttribute("name"),a=i.getAttribute("value");!o||!a||(e[o]=new Function(`return ${a}`)())}),e},uD=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(i=>{Qi(i,["type","color","aria-label"]);const o=i.getAttribute("type");!o||!["confirm","cancel","deny"].includes(o)||(e[`${o}ButtonText`]=i.innerHTML,e[`show${Jp(o)}Button`]=!0,i.hasAttribute("color")&&(e[`${o}ButtonColor`]=i.getAttribute("color")),i.hasAttribute("aria-label")&&(e[`${o}ButtonAriaLabel`]=i.getAttribute("aria-label")))}),e},cD=t=>{const e={},n=t.querySelector("swal-image");return n&&(Qi(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")||void 0),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")||void 0),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")||void 0),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt")||void 0)),e},dD=t=>{const e={},n=t.querySelector("swal-icon");return n&&(Qi(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e},fD=t=>{const e={},n=t.querySelector("swal-input");n&&(Qi(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=Array.from(t.querySelectorAll("swal-input-option"));return i.length&&(e.inputOptions={},i.forEach(o=>{Qi(o,["value"]);const a=o.getAttribute("value");if(!a)return;const u=o.innerHTML;e.inputOptions[a]=u})),e},hD=(t,e)=>{const n={};for(const i in e){const o=e[i],a=t.querySelector(o);a&&(Qi(a,[]),n[o.replace(/^swal-/,"")]=a.innerHTML.trim())}return n},pD=t=>{const e=ax.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(n=>{const i=n.tagName.toLowerCase();e.includes(i)||Yt(`Unrecognized element <${i}>`)})},Qi=(t,e)=>{Array.from(t.attributes).forEach(n=>{e.indexOf(n.name)===-1&&Yt([`Unrecognized attribute "${n.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},lx=10,mD=t=>{const e=Qt(),n=Pe();typeof t.willOpen=="function"&&t.willOpen(n),ae.eventEmitter.emit("willOpen",n);const o=window.getComputedStyle(document.body).overflowY;yD(e,n,t),setTimeout(()=>{gD(e,n)},lx),sm()&&(vD(e,t.scrollbarPadding,o),JO()),!Bc()&&!ae.previousActiveElement&&(ae.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(n)),ae.eventEmitter.emit("didOpen",n),wn(e,D["no-transition"])},yc=t=>{const e=Pe();if(t.target!==e)return;const n=Qt();e.removeEventListener("animationend",yc),e.removeEventListener("transitionend",yc),n.style.overflowY="auto"},gD=(t,e)=>{T1(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",yc),e.addEventListener("transitionend",yc)):t.style.overflowY="auto"},vD=(t,e,n)=>{ZO(),e&&n!=="hidden"&&oL(n),setTimeout(()=>{t.scrollTop=0})},yD=(t,e,n)=>{xe(t,n.showClass.backdrop),n.animation?(e.style.setProperty("opacity","0","important"),wt(e,"grid"),setTimeout(()=>{xe(e,n.showClass.popup),e.style.removeProperty("opacity")},lx)):wt(e,"grid"),xe([document.documentElement,document.body],D.shown),n.heightAuto&&n.backdrop&&!n.toast&&xe([document.documentElement,document.body],D["height-auto"])};var qw={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function wD(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=qw.email),t.input==="url"&&(t.inputValidator=qw.url))}function _D(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Yt('Target parameter is not valid, defaulting to "body"'),t.target="body")}function ED(t){wD(t),t.showLoaderOnConfirm&&!t.preConfirm&&Yt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),_D(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),uO(t)}let Un;var Cu=new WeakMap;class st{constructor(){if(BA(this,Cu,void 0),typeof window>"u")return;Un=this;for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];const o=Object.freeze(this.constructor.argsToParams(n));this.params=o,this.isAwaitingPromise=!1,zA(Cu,this,this._main(Un.params))}_main(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(LL(Object.assign({},n,e)),ae.currentInstance){const a=Xs.swalPromiseResolve.get(ae.currentInstance),{isAwaitingPromise:u}=ae.currentInstance;ae.currentInstance._destroy(),u||a({isDismissed:!0}),sm()&&F1()}ae.currentInstance=Un;const i=CD(e,n);ED(i),Object.freeze(i),ae.timeout&&(ae.timeout.stop(),delete ae.timeout),clearTimeout(ae.restoreFocusTimeout);const o=SD(Un);return O1(Un,i),ze.innerParams.set(Un,i),xD(Un,o,i)}then(e){return Dw(Cu,this).then(e)}finally(e){return Dw(Cu,this).finally(e)}}const xD=(t,e,n)=>new Promise((i,o)=>{const a=u=>{t.close({isDismissed:!0,dismiss:u})};Xs.swalPromiseResolve.set(t,i),Xs.swalPromiseReject.set(t,o),e.confirmButton.onclick=()=>{CL(t)},e.denyButton.onclick=()=>{SL(t)},e.cancelButton.onclick=()=>{bL(t,a)},e.closeButton.onclick=()=>{a(ho.close)},jL(n,e,a),WO(ae,n,a),pL(t,n),mD(n),bD(ae,n,a),TD(e,n),setTimeout(()=>{e.container.scrollTop=0})}),CD=(t,e)=>{const n=oD(t),i=Object.assign({},Hs,e,n,t);return i.showClass=Object.assign({},Hs.showClass,i.showClass),i.hideClass=Object.assign({},Hs.hideClass,i.hideClass),i.animation===!1&&(i.showClass={backdrop:"swal2-noanimation"},i.hideClass={}),i},SD=t=>{const e={popup:Pe(),container:Qt(),actions:Za(),confirmButton:Kn(),denyButton:ns(),cancelButton:co(),loader:fo(),closeButton:rm(),validationMessage:$c(),progressSteps:nm()};return ze.domCache.set(t,e),e},bD=(t,e,n)=>{const i=Uc();Nt(i),e.timer&&(t.timeout=new sD(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(wt(i),on(i,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&am(e.timer)})))},TD=(t,e)=>{if(!e.toast){if(!jc(e.allowEnterKey)){_1("allowEnterKey"),PD();return}ID(t)||kD(t,e)||Hh(-1,1)}},ID=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const n of e)if(n instanceof HTMLElement&&qt(n))return n.focus(),!0;return!1},kD=(t,e)=>e.focusDeny&&qt(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&qt(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&qt(t.confirmButton)?(t.confirmButton.focus(),!0):!1,PD=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){const t=new Date,e=localStorage.getItem("swal-initiation");e?(t.getTime()-Date.parse(e))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const n=document.createElement("audio");n.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",n.loop=!0,document.body.appendChild(n),setTimeout(()=>{n.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${t}`)}st.prototype.disableButtons=K1;st.prototype.enableButtons=G1;st.prototype.getInput=H1;st.prototype.disableInput=Q1;st.prototype.enableInput=Y1;st.prototype.hideLoading=gc;st.prototype.disableLoading=gc;st.prototype.showValidationMessage=X1;st.prototype.resetValidationMessage=J1;st.prototype.close=ti;st.prototype.closePopup=ti;st.prototype.closeModal=ti;st.prototype.closeToast=ti;st.prototype.rejectPromise=U1;st.prototype.update=nx;st.prototype._destroy=rx;Object.assign(st,iD);Object.keys(FL).forEach(t=>{st[t]=function(){return Un&&Un[t]?Un[t](...arguments):null}});st.DismissReason=ho;st.version="11.15.10";const _n=st;_n.default=_n;typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const ND=()=>{const t=pi(),e=Fa(),i=["/","/login","/register"].includes(t.pathname),[o,a]=b.useState(null),u=Yi();b.useEffect(()=>{const h=gR(u,m=>{a(m)});return()=>h()},[u]);const d=async()=>{try{await e1(u),a(null),e("/"),_n.fire({title:"Logout successful!",text:"You have been logged out.",icon:"success",confirmButtonText:"OK"})}catch(h){_n.fire({title:"Logout failed!",text:"Try again later.",icon:"error",confirmButtonText:"OK"}),console.error("Logout error:",h.message)}};return _.jsxs("header",{className:`flex justify-between items-center text-white px-3 lg:px-24 py-5 border-b border-gray-200 ${i?"fixed z-10 w-screen":"static bg-[--prime] "}`,children:[_.jsx("p",{className:"text-xl lg:text-2xl font-bold mr-4",children:"Nanny.Services"}),_.jsxs("nav",{className:"flex",children:[_.jsxs("ul",{className:"flex items-center mr-12 lg:mr-24 gap-5 lg:gap-10",children:[_.jsx("li",{children:_.jsx(kn,{to:"/",className:({isActive:h})=>`relative text-white text-lg font-medium ${h?"after:content-[''] after:absolute after:-bottom-3 after:left-1/2 after:-translate-x-1/2 after:w-2 after:h-2 after:bg-white after:rounded-full":""}`,children:"Home"})}),_.jsx("li",{children:_.jsx(kn,{to:"/nannies",className:({isActive:h})=>`relative text-white text-lg font-medium ${h?"after:content-[''] after:absolute after:-bottom-3 after:left-1/2 after:-translate-x-1/2 after:w-2 after:h-2 after:bg-white after:rounded-full":""}`,children:"Nannies"})}),o&&_.jsx("li",{children:_.jsx(kn,{to:"/favorites",className:({isActive:h})=>`relative text-white text-lg font-medium ${h?"after:content-[''] after:absolute after:-bottom-3 after:left-1/2 after:-translate-x-1/2 after:w-2 after:h-2 after:bg-white after:rounded-full":""}`,children:"Favorites"})})]}),_.jsx("div",{className:"flex gap-2",children:o?_.jsxs("div",{className:"flex",children:[_.jsxs("div",{className:"flex items-center mr-6",children:[_.jsx("div",{className:"flex items-center justify-center text-[--prime] bg-white w-10 h-10 rounded-xl mr-3",children:_.jsx($A,{})}),_.jsx("span",{className:"font-bold mr-4",children:o.displayName&&o.displayName.length>12?`${o.displayName.slice(0,10)}...`:o.displayName})]}),_.jsx(sn,{text:"Logout",onClick:d})]}):_.jsxs(_.Fragment,{children:[_.jsx(kn,{to:"/login",children:_.jsx(sn,{className:"",text:"Log In",backgroundColor:"transparent"})}),_.jsx(kn,{to:"/register",children:_.jsx(sn,{className:"",text:"Registration"})})]})})]})]})},RD=()=>{const[t,e]=b.useState(!1),n=Fa(),i=Yi(),o=i.currentUser||void 0,a=async()=>{try{await e1(i),n("/"),_n.fire({icon:"success",title:"Logged out successfully!",showConfirmButton:!1,timer:1500})}catch(h){console.error("Logout error:",h.message),_n.fire({icon:"error",title:"Oops...",text:"Logout failed. Try again later."})}},u=()=>e(h=>!h),d=()=>e(!1);return _.jsxs(_.Fragment,{children:[_.jsxs("header",{className:"flex h-16 bg-[--prime] text-white px-6 py-4 justify-between items-center",children:[_.jsx("p",{className:"text-xl font-bold",children:"Nanny.Services"}),_.jsx("button",{onClick:u,className:"text-xl",children:_.jsx(MA,{})})]}),t&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-40",onClick:d}),_.jsxs("nav",{className:"flex flex-col fixed top-0 left-0 w-full bg-[--prime] text-white px-6 py-4 z-50  ",children:[_.jsxs("div",{className:"flex justify-between  mb-6",children:[_.jsx("p",{className:"text-xl font-bold ",children:"Nanny.Services"}),_.jsx("button",{onClick:u,className:"text-xl",children:_.jsx(jA,{})})]}),_.jsxs("ul",{className:"flex flex-col gap-4",children:[_.jsx("li",{children:_.jsx(kn,{to:"/",className:({isActive:h})=>`text-lg ${h?"font-bold":"hover:underline"}`,onClick:d,children:"Home"})}),_.jsx("li",{children:_.jsx(kn,{to:"/nannies",className:({isActive:h})=>`text-lg ${h?"font-bold":"hover:underline"}`,onClick:d,children:"Nannies"})}),o&&_.jsx("li",{children:_.jsx(kn,{to:"/favorites",className:({isActive:h})=>`text-lg ${h?"font-bold":"hover:underline"}`,onClick:d,children:"Favorites"})})]}),_.jsx("div",{className:"mt-6",children:o?_.jsx(sn,{text:"Logout",onClick:()=>{a(),d()},className:"w-full bg-red-500  py-2 rounded-lg"}):_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsx(kn,{to:"/login",className:"text-center py-2 border rounded-lg",onClick:d,children:"Log In"}),_.jsx(kn,{to:"/register",className:"text-center py-2 bg-white text-[--prime] rounded-lg",onClick:d,children:"Registration"})]})})]})]})]})},rl=()=>{const[t,e]=b.useState(window.innerWidth<768);return b.useEffect(()=>{const n=()=>{e(window.innerWidth<768)};return window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),t?_.jsx(RD,{}):_.jsx(ND,{})},AD=()=>_.jsxs(_.Fragment,{children:[_.jsx(rl,{}),_.jsxs("section",{className:"flex flex-col md:flex-row text-white h-[calc(100vh-4rem)] md:h-screen",children:[_.jsxs("div",{className:"flex flex-col flex-1 justify-center px-5 md:pl-7 bg-[--prime] xl:pl-24 xl:pr-16",children:[_.jsx("h1",{className:"text-4xl font-medium pb-3 md:pb-7 md:text-5xl xl:text-7xl",children:"Make Life Easier for the Family:"}),_.jsx("p",{className:"text-xl pb-8 md:pb-16 md:text-2xl",children:"Find Babysitters Online for All Occasions"}),_.jsx($a,{to:"/nannies",className:"w-max",children:_.jsx(sn,{text:"Get Started",border:!0,icon:_.jsx(Xp,{})})})]}),_.jsx("div",{className:" relative flex-1 home-bg-img ",children:_.jsxs("div",{className:"absolute flex justify-center items-center bg-white h-16 w-48 bottom-12 right-12 rounded-2xl md:h-24 md:w-64",children:[_.jsx("div",{className:"flex w-9 h-9 mr-4 justify-center items-center rounded-xl bg-[--prime] md:w-12 md:h-12",children:_.jsx(FA,{})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-xs mb-[6px] text-gray-500 md:text-base",children:"Experienced nannies"}),_.jsx("p",{className:"text-lg font-bold text-black md:text-2xl",children:"15,000"})]})]})})]})]});var OD="firebase",LD="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(OD,LD,"app");const DD={apiKey:"AIzaSyBfzKnwI4nZkQOQgfJNeu6EYJdPC4_NsKc",authDomain:"nannies-app1.firebaseapp.com",databaseURL:"https://nannies-app1-default-rtdb.europe-west1.firebasedatabase.app",projectId:"nannies-app1",storageBucket:"nannies-app1.appspot.com",messagingSenderId:"683140715253",appId:"1:683140715253:web:b1083dff390c0e13c32bbc"},ux=a0(DD),cx=Yi(ux),MD=Ru(ux),FD=async()=>{const t=Nu(MD);try{const e=await kE(nc(t,"nannies"));return e.exists()?e.val():(console.log("No data available"),[])}catch(e){return console.error("Error fetching nannies:",e),[]}};var jD=function(e){return $D(e)&&!UD(e)};function $D(t){return!!t&&typeof t=="object"}function UD(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||VD(t)}var BD=typeof Symbol=="function"&&Symbol.for,zD=BD?Symbol.for("react.element"):60103;function VD(t){return t.$$typeof===zD}function HD(t){return Array.isArray(t)?[]:{}}function wc(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ra(HD(t),t,e):t}function WD(t,e,n){return t.concat(e).map(function(i){return wc(i,n)})}function qD(t,e,n){var i={};return n.isMergeableObject(t)&&Object.keys(t).forEach(function(o){i[o]=wc(t[o],n)}),Object.keys(e).forEach(function(o){!n.isMergeableObject(e[o])||!t[o]?i[o]=wc(e[o],n):i[o]=Ra(t[o],e[o],n)}),i}function Ra(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||WD,n.isMergeableObject=n.isMergeableObject||jD;var i=Array.isArray(e),o=Array.isArray(t),a=i===o;return a?i?n.arrayMerge(t,e,n):qD(t,e,n):wc(e,n)}Ra.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(i,o){return Ra(i,o,n)},{})};var qh=Ra,dx=typeof global=="object"&&global&&global.Object===Object&&global,GD=typeof self=="object"&&self&&self.Object===Object&&self,Qn=dx||GD||Function("return this")(),hi=Qn.Symbol,fx=Object.prototype,KD=fx.hasOwnProperty,YD=fx.toString,aa=hi?hi.toStringTag:void 0;function QD(t){var e=KD.call(t,aa),n=t[aa];try{t[aa]=void 0;var i=!0}catch{}var o=YD.call(t);return i&&(e?t[aa]=n:delete t[aa]),o}var XD=Object.prototype,JD=XD.toString;function ZD(t){return JD.call(t)}var eM="[object Null]",tM="[object Undefined]",Gw=hi?hi.toStringTag:void 0;function rs(t){return t==null?t===void 0?tM:eM:Gw&&Gw in Object(t)?QD(t):ZD(t)}function hx(t,e){return function(n){return t(e(n))}}var hm=hx(Object.getPrototypeOf,Object);function is(t){return t!=null&&typeof t=="object"}var nM="[object Object]",rM=Function.prototype,iM=Object.prototype,px=rM.toString,sM=iM.hasOwnProperty,oM=px.call(Object);function Kw(t){if(!is(t)||rs(t)!=nM)return!1;var e=hm(t);if(e===null)return!0;var n=sM.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&px.call(n)==oM}function aM(){this.__data__=[],this.size=0}function mx(t,e){return t===e||t!==t&&e!==e}function Vc(t,e){for(var n=t.length;n--;)if(mx(t[n][0],e))return n;return-1}var lM=Array.prototype,uM=lM.splice;function cM(t){var e=this.__data__,n=Vc(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():uM.call(e,n,1),--this.size,!0}function dM(t){var e=this.__data__,n=Vc(e,t);return n<0?void 0:e[n][1]}function fM(t){return Vc(this.__data__,t)>-1}function hM(t,e){var n=this.__data__,i=Vc(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function br(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}br.prototype.clear=aM;br.prototype.delete=cM;br.prototype.get=dM;br.prototype.has=fM;br.prototype.set=hM;function pM(){this.__data__=new br,this.size=0}function mM(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function gM(t){return this.__data__.get(t)}function vM(t){return this.__data__.has(t)}function il(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var yM="[object AsyncFunction]",wM="[object Function]",_M="[object GeneratorFunction]",EM="[object Proxy]";function gx(t){if(!il(t))return!1;var e=rs(t);return e==wM||e==_M||e==yM||e==EM}var dh=Qn["__core-js_shared__"],Yw=function(){var t=/[^.]+$/.exec(dh&&dh.keys&&dh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function xM(t){return!!Yw&&Yw in t}var CM=Function.prototype,SM=CM.toString;function ss(t){if(t!=null){try{return SM.call(t)}catch{}try{return t+""}catch{}}return""}var bM=/[\\^$.*+?()[\]{}|]/g,TM=/^\[object .+?Constructor\]$/,IM=Function.prototype,kM=Object.prototype,PM=IM.toString,NM=kM.hasOwnProperty,RM=RegExp("^"+PM.call(NM).replace(bM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function AM(t){if(!il(t)||xM(t))return!1;var e=gx(t)?RM:TM;return e.test(ss(t))}function OM(t,e){return t==null?void 0:t[e]}function os(t,e){var n=OM(t,e);return AM(n)?n:void 0}var Aa=os(Qn,"Map"),Oa=os(Object,"create");function LM(){this.__data__=Oa?Oa(null):{},this.size=0}function DM(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var MM="__lodash_hash_undefined__",FM=Object.prototype,jM=FM.hasOwnProperty;function $M(t){var e=this.__data__;if(Oa){var n=e[t];return n===MM?void 0:n}return jM.call(e,t)?e[t]:void 0}var UM=Object.prototype,BM=UM.hasOwnProperty;function zM(t){var e=this.__data__;return Oa?e[t]!==void 0:BM.call(e,t)}var VM="__lodash_hash_undefined__";function HM(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Oa&&e===void 0?VM:e,this}function Xi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Xi.prototype.clear=LM;Xi.prototype.delete=DM;Xi.prototype.get=$M;Xi.prototype.has=zM;Xi.prototype.set=HM;function WM(){this.size=0,this.__data__={hash:new Xi,map:new(Aa||br),string:new Xi}}function qM(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Hc(t,e){var n=t.__data__;return qM(e)?n[typeof e=="string"?"string":"hash"]:n.map}function GM(t){var e=Hc(this,t).delete(t);return this.size-=e?1:0,e}function KM(t){return Hc(this,t).get(t)}function YM(t){return Hc(this,t).has(t)}function QM(t,e){var n=Hc(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function vi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}vi.prototype.clear=WM;vi.prototype.delete=GM;vi.prototype.get=KM;vi.prototype.has=YM;vi.prototype.set=QM;var XM=200;function JM(t,e){var n=this.__data__;if(n instanceof br){var i=n.__data__;if(!Aa||i.length<XM-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new vi(i)}return n.set(t,e),this.size=n.size,this}function po(t){var e=this.__data__=new br(t);this.size=e.size}po.prototype.clear=pM;po.prototype.delete=mM;po.prototype.get=gM;po.prototype.has=vM;po.prototype.set=JM;function ZM(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}var Qw=function(){try{var t=os(Object,"defineProperty");return t({},"",{}),t}catch{}}();function vx(t,e,n){e=="__proto__"&&Qw?Qw(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var eF=Object.prototype,tF=eF.hasOwnProperty;function yx(t,e,n){var i=t[e];(!(tF.call(t,e)&&mx(i,n))||n===void 0&&!(e in t))&&vx(t,e,n)}function Wc(t,e,n,i){var o=!n;n||(n={});for(var a=-1,u=e.length;++a<u;){var d=e[a],h=void 0;h===void 0&&(h=t[d]),o?vx(n,d,h):yx(n,d,h)}return n}function nF(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var rF="[object Arguments]";function Xw(t){return is(t)&&rs(t)==rF}var wx=Object.prototype,iF=wx.hasOwnProperty,sF=wx.propertyIsEnumerable,oF=Xw(function(){return arguments}())?Xw:function(t){return is(t)&&iF.call(t,"callee")&&!sF.call(t,"callee")},sl=Array.isArray;function aF(){return!1}var _x=typeof nn=="object"&&nn&&!nn.nodeType&&nn,Jw=_x&&typeof rn=="object"&&rn&&!rn.nodeType&&rn,lF=Jw&&Jw.exports===_x,Zw=lF?Qn.Buffer:void 0,uF=Zw?Zw.isBuffer:void 0,Ex=uF||aF,cF=9007199254740991,dF=/^(?:0|[1-9]\d*)$/;function fF(t,e){var n=typeof t;return e=e??cF,!!e&&(n=="number"||n!="symbol"&&dF.test(t))&&t>-1&&t%1==0&&t<e}var hF=9007199254740991;function xx(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=hF}var pF="[object Arguments]",mF="[object Array]",gF="[object Boolean]",vF="[object Date]",yF="[object Error]",wF="[object Function]",_F="[object Map]",EF="[object Number]",xF="[object Object]",CF="[object RegExp]",SF="[object Set]",bF="[object String]",TF="[object WeakMap]",IF="[object ArrayBuffer]",kF="[object DataView]",PF="[object Float32Array]",NF="[object Float64Array]",RF="[object Int8Array]",AF="[object Int16Array]",OF="[object Int32Array]",LF="[object Uint8Array]",DF="[object Uint8ClampedArray]",MF="[object Uint16Array]",FF="[object Uint32Array]",We={};We[PF]=We[NF]=We[RF]=We[AF]=We[OF]=We[LF]=We[DF]=We[MF]=We[FF]=!0;We[pF]=We[mF]=We[IF]=We[gF]=We[kF]=We[vF]=We[yF]=We[wF]=We[_F]=We[EF]=We[xF]=We[CF]=We[SF]=We[bF]=We[TF]=!1;function jF(t){return is(t)&&xx(t.length)&&!!We[rs(t)]}function pm(t){return function(e){return t(e)}}var Cx=typeof nn=="object"&&nn&&!nn.nodeType&&nn,va=Cx&&typeof rn=="object"&&rn&&!rn.nodeType&&rn,$F=va&&va.exports===Cx,fh=$F&&dx.process,Zs=function(){try{var t=va&&va.require&&va.require("util").types;return t||fh&&fh.binding&&fh.binding("util")}catch{}}(),e_=Zs&&Zs.isTypedArray,UF=e_?pm(e_):jF,BF=Object.prototype,zF=BF.hasOwnProperty;function Sx(t,e){var n=sl(t),i=!n&&oF(t),o=!n&&!i&&Ex(t),a=!n&&!i&&!o&&UF(t),u=n||i||o||a,d=u?nF(t.length,String):[],h=d.length;for(var m in t)(e||zF.call(t,m))&&!(u&&(m=="length"||o&&(m=="offset"||m=="parent")||a&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||fF(m,h)))&&d.push(m);return d}var VF=Object.prototype;function mm(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||VF;return t===n}var HF=hx(Object.keys,Object),WF=Object.prototype,qF=WF.hasOwnProperty;function GF(t){if(!mm(t))return HF(t);var e=[];for(var n in Object(t))qF.call(t,n)&&n!="constructor"&&e.push(n);return e}function bx(t){return t!=null&&xx(t.length)&&!gx(t)}function gm(t){return bx(t)?Sx(t):GF(t)}function KF(t,e){return t&&Wc(e,gm(e),t)}function YF(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var QF=Object.prototype,XF=QF.hasOwnProperty;function JF(t){if(!il(t))return YF(t);var e=mm(t),n=[];for(var i in t)i=="constructor"&&(e||!XF.call(t,i))||n.push(i);return n}function vm(t){return bx(t)?Sx(t,!0):JF(t)}function ZF(t,e){return t&&Wc(e,vm(e),t)}var Tx=typeof nn=="object"&&nn&&!nn.nodeType&&nn,t_=Tx&&typeof rn=="object"&&rn&&!rn.nodeType&&rn,e3=t_&&t_.exports===Tx,n_=e3?Qn.Buffer:void 0,r_=n_?n_.allocUnsafe:void 0;function t3(t,e){if(e)return t.slice();var n=t.length,i=r_?r_(n):new t.constructor(n);return t.copy(i),i}function Ix(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}function n3(t,e){for(var n=-1,i=t==null?0:t.length,o=0,a=[];++n<i;){var u=t[n];e(u,n,t)&&(a[o++]=u)}return a}function kx(){return[]}var r3=Object.prototype,i3=r3.propertyIsEnumerable,i_=Object.getOwnPropertySymbols,ym=i_?function(t){return t==null?[]:(t=Object(t),n3(i_(t),function(e){return i3.call(t,e)}))}:kx;function s3(t,e){return Wc(t,ym(t),e)}function Px(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}var o3=Object.getOwnPropertySymbols,Nx=o3?function(t){for(var e=[];t;)Px(e,ym(t)),t=hm(t);return e}:kx;function a3(t,e){return Wc(t,Nx(t),e)}function Rx(t,e,n){var i=e(t);return sl(t)?i:Px(i,n(t))}function l3(t){return Rx(t,gm,ym)}function u3(t){return Rx(t,vm,Nx)}var Gh=os(Qn,"DataView"),Kh=os(Qn,"Promise"),Yh=os(Qn,"Set"),Qh=os(Qn,"WeakMap"),s_="[object Map]",c3="[object Object]",o_="[object Promise]",a_="[object Set]",l_="[object WeakMap]",u_="[object DataView]",d3=ss(Gh),f3=ss(Aa),h3=ss(Kh),p3=ss(Yh),m3=ss(Qh),lr=rs;(Gh&&lr(new Gh(new ArrayBuffer(1)))!=u_||Aa&&lr(new Aa)!=s_||Kh&&lr(Kh.resolve())!=o_||Yh&&lr(new Yh)!=a_||Qh&&lr(new Qh)!=l_)&&(lr=function(t){var e=rs(t),n=e==c3?t.constructor:void 0,i=n?ss(n):"";if(i)switch(i){case d3:return u_;case f3:return s_;case h3:return o_;case p3:return a_;case m3:return l_}return e});var g3=Object.prototype,v3=g3.hasOwnProperty;function y3(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&v3.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var c_=Qn.Uint8Array;function wm(t){var e=new t.constructor(t.byteLength);return new c_(e).set(new c_(t)),e}function w3(t,e){var n=e?wm(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var _3=/\w*$/;function E3(t){var e=new t.constructor(t.source,_3.exec(t));return e.lastIndex=t.lastIndex,e}var d_=hi?hi.prototype:void 0,f_=d_?d_.valueOf:void 0;function x3(t){return f_?Object(f_.call(t)):{}}function C3(t,e){var n=e?wm(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var S3="[object Boolean]",b3="[object Date]",T3="[object Map]",I3="[object Number]",k3="[object RegExp]",P3="[object Set]",N3="[object String]",R3="[object Symbol]",A3="[object ArrayBuffer]",O3="[object DataView]",L3="[object Float32Array]",D3="[object Float64Array]",M3="[object Int8Array]",F3="[object Int16Array]",j3="[object Int32Array]",$3="[object Uint8Array]",U3="[object Uint8ClampedArray]",B3="[object Uint16Array]",z3="[object Uint32Array]";function V3(t,e,n){var i=t.constructor;switch(e){case A3:return wm(t);case S3:case b3:return new i(+t);case O3:return w3(t,n);case L3:case D3:case M3:case F3:case j3:case $3:case U3:case B3:case z3:return C3(t,n);case T3:return new i;case I3:case N3:return new i(t);case k3:return E3(t);case P3:return new i;case R3:return x3(t)}}var h_=Object.create,H3=function(){function t(){}return function(e){if(!il(e))return{};if(h_)return h_(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function W3(t){return typeof t.constructor=="function"&&!mm(t)?H3(hm(t)):{}}var q3="[object Map]";function G3(t){return is(t)&&lr(t)==q3}var p_=Zs&&Zs.isMap,K3=p_?pm(p_):G3,Y3="[object Set]";function Q3(t){return is(t)&&lr(t)==Y3}var m_=Zs&&Zs.isSet,X3=m_?pm(m_):Q3,J3=1,Z3=2,ej=4,Ax="[object Arguments]",tj="[object Array]",nj="[object Boolean]",rj="[object Date]",ij="[object Error]",Ox="[object Function]",sj="[object GeneratorFunction]",oj="[object Map]",aj="[object Number]",Lx="[object Object]",lj="[object RegExp]",uj="[object Set]",cj="[object String]",dj="[object Symbol]",fj="[object WeakMap]",hj="[object ArrayBuffer]",pj="[object DataView]",mj="[object Float32Array]",gj="[object Float64Array]",vj="[object Int8Array]",yj="[object Int16Array]",wj="[object Int32Array]",_j="[object Uint8Array]",Ej="[object Uint8ClampedArray]",xj="[object Uint16Array]",Cj="[object Uint32Array]",Ue={};Ue[Ax]=Ue[tj]=Ue[hj]=Ue[pj]=Ue[nj]=Ue[rj]=Ue[mj]=Ue[gj]=Ue[vj]=Ue[yj]=Ue[wj]=Ue[oj]=Ue[aj]=Ue[Lx]=Ue[lj]=Ue[uj]=Ue[cj]=Ue[dj]=Ue[_j]=Ue[Ej]=Ue[xj]=Ue[Cj]=!0;Ue[ij]=Ue[Ox]=Ue[fj]=!1;function ya(t,e,n,i,o,a){var u,d=e&J3,h=e&Z3,m=e&ej;if(u!==void 0)return u;if(!il(t))return t;var y=sl(t);if(y){if(u=y3(t),!d)return Ix(t,u)}else{var w=lr(t),v=w==Ox||w==sj;if(Ex(t))return t3(t,d);if(w==Lx||w==Ax||v&&!o){if(u=h||v?{}:W3(t),!d)return h?a3(t,ZF(u,t)):s3(t,KF(u,t))}else{if(!Ue[w])return o?t:{};u=V3(t,w,d)}}a||(a=new po);var C=a.get(t);if(C)return C;a.set(t,u),X3(t)?t.forEach(function(R){u.add(ya(R,e,n,R,t,a))}):K3(t)&&t.forEach(function(R,k){u.set(k,ya(R,e,n,k,t,a))});var x=m?h?u3:l3:h?vm:gm,P=y?void 0:x(t);return ZM(P||t,function(R,k){P&&(k=R,R=t[k]),yx(u,k,ya(R,e,n,k,t,a))}),u}var Sj=1,bj=4;function ca(t){return ya(t,Sj|bj)}var hh,g_;function Tj(){if(g_)return hh;g_=1;var t=Array.isArray,e=Object.keys,n=Object.prototype.hasOwnProperty,i=typeof Element<"u";function o(a,u){if(a===u)return!0;if(a&&u&&typeof a=="object"&&typeof u=="object"){var d=t(a),h=t(u),m,y,w;if(d&&h){if(y=a.length,y!=u.length)return!1;for(m=y;m--!==0;)if(!o(a[m],u[m]))return!1;return!0}if(d!=h)return!1;var v=a instanceof Date,C=u instanceof Date;if(v!=C)return!1;if(v&&C)return a.getTime()==u.getTime();var x=a instanceof RegExp,P=u instanceof RegExp;if(x!=P)return!1;if(x&&P)return a.toString()==u.toString();var R=e(a);if(y=R.length,y!==e(u).length)return!1;for(m=y;m--!==0;)if(!n.call(u,R[m]))return!1;if(i&&a instanceof Element&&u instanceof Element)return a===u;for(m=y;m--!==0;)if(w=R[m],!(w==="_owner"&&a.$$typeof)&&!o(a[w],u[w]))return!1;return!0}return a!==a&&u!==u}return hh=function(u,d){try{return o(u,d)}catch(h){if(h.message&&h.message.match(/stack|recursion/i)||h.number===-2146828260)return console.warn("Warning: react-fast-compare does not handle circular references.",h.name,h.message),!1;throw h}},hh}var Ij=Tj();const Yr=La(Ij);var kj=4;function v_(t){return ya(t,kj)}function Dx(t,e){for(var n=-1,i=t==null?0:t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}var Pj="[object Symbol]";function _m(t){return typeof t=="symbol"||is(t)&&rs(t)==Pj}var Nj="Expected a function";function Em(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Nj);var n=function(){var i=arguments,o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var u=t.apply(this,i);return n.cache=a.set(o,u)||a,u};return n.cache=new(Em.Cache||vi),n}Em.Cache=vi;var Rj=500;function Aj(t){var e=Em(t,function(i){return n.size===Rj&&n.clear(),i}),n=e.cache;return e}var Oj=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lj=/\\(\\)?/g,Dj=Aj(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Oj,function(n,i,o,a){e.push(o?a.replace(Lj,"$1"):i||n)}),e}),Mj=1/0;function Fj(t){if(typeof t=="string"||_m(t))return t;var e=t+"";return e=="0"&&1/t==-Mj?"-0":e}var jj=1/0,y_=hi?hi.prototype:void 0,w_=y_?y_.toString:void 0;function Mx(t){if(typeof t=="string")return t;if(sl(t))return Dx(t,Mx)+"";if(_m(t))return w_?w_.call(t):"";var e=t+"";return e=="0"&&1/t==-jj?"-0":e}function $j(t){return t==null?"":Mx(t)}function Fx(t){return sl(t)?Dx(t,Fj):_m(t)?[t]:Ix(Dj($j(t)))}var ph={exports:{}},Re={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function Uj(){if(__)return Re;__=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,n=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,h=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,y=t?Symbol.for("react.forward_ref"):60112,w=t?Symbol.for("react.suspense"):60113,v=t?Symbol.for("react.suspense_list"):60120,C=t?Symbol.for("react.memo"):60115,x=t?Symbol.for("react.lazy"):60116,P=t?Symbol.for("react.block"):60121,R=t?Symbol.for("react.fundamental"):60117,k=t?Symbol.for("react.responder"):60118,M=t?Symbol.for("react.scope"):60119;function V(F){if(typeof F=="object"&&F!==null){var W=F.$$typeof;switch(W){case e:switch(F=F.type,F){case h:case m:case i:case a:case o:case w:return F;default:switch(F=F&&F.$$typeof,F){case d:case y:case x:case C:case u:return F;default:return W}}case n:return W}}}function ee(F){return V(F)===m}return Re.AsyncMode=h,Re.ConcurrentMode=m,Re.ContextConsumer=d,Re.ContextProvider=u,Re.Element=e,Re.ForwardRef=y,Re.Fragment=i,Re.Lazy=x,Re.Memo=C,Re.Portal=n,Re.Profiler=a,Re.StrictMode=o,Re.Suspense=w,Re.isAsyncMode=function(F){return ee(F)||V(F)===h},Re.isConcurrentMode=ee,Re.isContextConsumer=function(F){return V(F)===d},Re.isContextProvider=function(F){return V(F)===u},Re.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===e},Re.isForwardRef=function(F){return V(F)===y},Re.isFragment=function(F){return V(F)===i},Re.isLazy=function(F){return V(F)===x},Re.isMemo=function(F){return V(F)===C},Re.isPortal=function(F){return V(F)===n},Re.isProfiler=function(F){return V(F)===a},Re.isStrictMode=function(F){return V(F)===o},Re.isSuspense=function(F){return V(F)===w},Re.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===i||F===m||F===a||F===o||F===w||F===v||typeof F=="object"&&F!==null&&(F.$$typeof===x||F.$$typeof===C||F.$$typeof===u||F.$$typeof===d||F.$$typeof===y||F.$$typeof===R||F.$$typeof===k||F.$$typeof===M||F.$$typeof===P)},Re.typeOf=V,Re}var E_;function Bj(){return E_||(E_=1,ph.exports=Uj()),ph.exports}var mh,x_;function zj(){if(x_)return mh;x_=1;var t=Bj(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};a[t.ForwardRef]=i,a[t.Memo]=o;function u(x){return t.isMemo(x)?o:a[x.$$typeof]||e}var d=Object.defineProperty,h=Object.getOwnPropertyNames,m=Object.getOwnPropertySymbols,y=Object.getOwnPropertyDescriptor,w=Object.getPrototypeOf,v=Object.prototype;function C(x,P,R){if(typeof P!="string"){if(v){var k=w(P);k&&k!==v&&C(x,k,R)}var M=h(P);m&&(M=M.concat(m(P)));for(var V=u(x),ee=u(P),F=0;F<M.length;++F){var W=M[F];if(!n[W]&&!(R&&R[W])&&!(ee&&ee[W])&&!(V&&V[W])){var Q=y(P,W);try{d(x,W,Q)}catch{}}}}return x}return mh=C,mh}var Vj=zj();const Hj=La(Vj);function Oe(){return Oe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Oe.apply(this,arguments)}function jx(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function ni(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,a;for(a=0;a<i.length;a++)o=i[a],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function C_(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var qc=b.createContext(void 0);qc.displayName="FormikContext";var Wj=qc.Provider,qj=qc.Consumer;function $x(){var t=b.useContext(qc);return t}var S_=function(e){return Array.isArray(e)&&e.length===0},xt=function(e){return typeof e=="function"},ol=function(e){return e!==null&&typeof e=="object"},Gj=function(e){return String(Math.floor(Number(e)))===e},gh=function(e){return Object.prototype.toString.call(e)==="[object String]"},Ux=function(e){return b.Children.count(e)===0},vh=function(e){return ol(e)&&xt(e.then)};function Ye(t,e,n,i){i===void 0&&(i=0);for(var o=Fx(e);t&&i<o.length;)t=t[o[i++]];return i!==o.length&&!t||t===void 0?n:t}function Wn(t,e,n){for(var i=v_(t),o=i,a=0,u=Fx(e);a<u.length-1;a++){var d=u[a],h=Ye(t,u.slice(0,a+1));if(h&&(ol(h)||Array.isArray(h)))o=o[d]=v_(h);else{var m=u[a+1];o=o[d]=Gj(m)&&Number(m)>=0?[]:{}}}return(a===0?t:o)[u[a]]===n?t:(n===void 0?delete o[u[a]]:o[u[a]]=n,a===0&&n===void 0&&delete i[u[a]],i)}function Bx(t,e,n,i){n===void 0&&(n=new WeakMap),i===void 0&&(i={});for(var o=0,a=Object.keys(t);o<a.length;o++){var u=a[o],d=t[u];ol(d)?n.get(d)||(n.set(d,!0),i[u]=Array.isArray(d)?[]:{},Bx(d,e,n,i[u])):i[u]=e}return i}function Kj(t,e){switch(e.type){case"SET_VALUES":return Oe({},t,{values:e.payload});case"SET_TOUCHED":return Oe({},t,{touched:e.payload});case"SET_ERRORS":return Yr(t.errors,e.payload)?t:Oe({},t,{errors:e.payload});case"SET_STATUS":return Oe({},t,{status:e.payload});case"SET_ISSUBMITTING":return Oe({},t,{isSubmitting:e.payload});case"SET_ISVALIDATING":return Oe({},t,{isValidating:e.payload});case"SET_FIELD_VALUE":return Oe({},t,{values:Wn(t.values,e.payload.field,e.payload.value)});case"SET_FIELD_TOUCHED":return Oe({},t,{touched:Wn(t.touched,e.payload.field,e.payload.value)});case"SET_FIELD_ERROR":return Oe({},t,{errors:Wn(t.errors,e.payload.field,e.payload.value)});case"RESET_FORM":return Oe({},t,e.payload);case"SET_FORMIK_STATE":return e.payload(t);case"SUBMIT_ATTEMPT":return Oe({},t,{touched:Bx(t.values,!0),isSubmitting:!0,submitCount:t.submitCount+1});case"SUBMIT_FAILURE":return Oe({},t,{isSubmitting:!1});case"SUBMIT_SUCCESS":return Oe({},t,{isSubmitting:!1});default:return t}}var Di={},Su={};function Yj(t){var e=t.validateOnChange,n=e===void 0?!0:e,i=t.validateOnBlur,o=i===void 0?!0:i,a=t.validateOnMount,u=a===void 0?!1:a,d=t.isInitialValid,h=t.enableReinitialize,m=h===void 0?!1:h,y=t.onSubmit,w=ni(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),v=Oe({validateOnChange:n,validateOnBlur:o,validateOnMount:u,onSubmit:y},w),C=b.useRef(v.initialValues),x=b.useRef(v.initialErrors||Di),P=b.useRef(v.initialTouched||Su),R=b.useRef(v.initialStatus),k=b.useRef(!1),M=b.useRef({});b.useEffect(function(){return k.current=!0,function(){k.current=!1}},[]);var V=b.useState(0),ee=V[1],F=b.useRef({values:ca(v.initialValues),errors:ca(v.initialErrors)||Di,touched:ca(v.initialTouched)||Su,status:ca(v.initialStatus),isSubmitting:!1,isValidating:!1,submitCount:0}),W=F.current,Q=b.useCallback(function(L){var K=F.current;F.current=Kj(K,L),K!==F.current&&ee(function(te){return te+1})},[]),_e=b.useCallback(function(L,K){return new Promise(function(te,re){var he=v.validate(L,K);he==null?te(Di):vh(he)?he.then(function(Se){te(Se||Di)},function(Se){re(Se)}):te(he)})},[v.validate]),pe=b.useCallback(function(L,K){var te=v.validationSchema,re=xt(te)?te(K):te,he=K&&re.validateAt?re.validateAt(K,L):Xj(L,re);return new Promise(function(Se,Qe){he.then(function(){Se(Di)},function(un){un.name==="ValidationError"?Se(Qj(un)):Qe(un)})})},[v.validationSchema]),je=b.useCallback(function(L,K){return new Promise(function(te){return te(M.current[L].validate(K))})},[]),Ce=b.useCallback(function(L){var K=Object.keys(M.current).filter(function(re){return xt(M.current[re].validate)}),te=K.length>0?K.map(function(re){return je(re,Ye(L,re))}):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(te).then(function(re){return re.reduce(function(he,Se,Qe){return Se==="DO_NOT_DELETE_YOU_WILL_BE_FIRED"||Se&&(he=Wn(he,K[Qe],Se)),he},{})})},[je]),ot=b.useCallback(function(L){return Promise.all([Ce(L),v.validationSchema?pe(L):{},v.validate?_e(L):{}]).then(function(K){var te=K[0],re=K[1],he=K[2],Se=qh.all([te,re,he],{arrayMerge:Jj});return Se})},[v.validate,v.validationSchema,Ce,_e,pe]),Le=gn(function(L){return L===void 0&&(L=W.values),Q({type:"SET_ISVALIDATING",payload:!0}),ot(L).then(function(K){return k.current&&(Q({type:"SET_ISVALIDATING",payload:!1}),Q({type:"SET_ERRORS",payload:K})),K})});b.useEffect(function(){u&&k.current===!0&&Yr(C.current,v.initialValues)&&Le(C.current)},[u,Le]);var at=b.useCallback(function(L){var K=L&&L.values?L.values:C.current,te=L&&L.errors?L.errors:x.current?x.current:v.initialErrors||{},re=L&&L.touched?L.touched:P.current?P.current:v.initialTouched||{},he=L&&L.status?L.status:R.current?R.current:v.initialStatus;C.current=K,x.current=te,P.current=re,R.current=he;var Se=function(){Q({type:"RESET_FORM",payload:{isSubmitting:!!L&&!!L.isSubmitting,errors:te,touched:re,status:he,values:K,isValidating:!!L&&!!L.isValidating,submitCount:L&&L.submitCount&&typeof L.submitCount=="number"?L.submitCount:0}})};if(v.onReset){var Qe=v.onReset(W.values,yi);vh(Qe)?Qe.then(Se):Se()}else Se()},[v.initialErrors,v.initialStatus,v.initialTouched,v.onReset]);b.useEffect(function(){k.current===!0&&!Yr(C.current,v.initialValues)&&m&&(C.current=v.initialValues,at(),u&&Le(C.current))},[m,v.initialValues,at,u,Le]),b.useEffect(function(){m&&k.current===!0&&!Yr(x.current,v.initialErrors)&&(x.current=v.initialErrors||Di,Q({type:"SET_ERRORS",payload:v.initialErrors||Di}))},[m,v.initialErrors]),b.useEffect(function(){m&&k.current===!0&&!Yr(P.current,v.initialTouched)&&(P.current=v.initialTouched||Su,Q({type:"SET_TOUCHED",payload:v.initialTouched||Su}))},[m,v.initialTouched]),b.useEffect(function(){m&&k.current===!0&&!Yr(R.current,v.initialStatus)&&(R.current=v.initialStatus,Q({type:"SET_STATUS",payload:v.initialStatus}))},[m,v.initialStatus,v.initialTouched]);var Xt=gn(function(L){if(M.current[L]&&xt(M.current[L].validate)){var K=Ye(W.values,L),te=M.current[L].validate(K);return vh(te)?(Q({type:"SET_ISVALIDATING",payload:!0}),te.then(function(re){return re}).then(function(re){Q({type:"SET_FIELD_ERROR",payload:{field:L,value:re}}),Q({type:"SET_ISVALIDATING",payload:!1})})):(Q({type:"SET_FIELD_ERROR",payload:{field:L,value:te}}),Promise.resolve(te))}else if(v.validationSchema)return Q({type:"SET_ISVALIDATING",payload:!0}),pe(W.values,L).then(function(re){return re}).then(function(re){Q({type:"SET_FIELD_ERROR",payload:{field:L,value:Ye(re,L)}}),Q({type:"SET_ISVALIDATING",payload:!1})});return Promise.resolve()}),Ct=b.useCallback(function(L,K){var te=K.validate;M.current[L]={validate:te}},[]),Ge=b.useCallback(function(L){delete M.current[L]},[]),q=gn(function(L,K){Q({type:"SET_TOUCHED",payload:L});var te=K===void 0?o:K;return te?Le(W.values):Promise.resolve()}),ie=b.useCallback(function(L){Q({type:"SET_ERRORS",payload:L})},[]),Y=gn(function(L,K){var te=xt(L)?L(W.values):L;Q({type:"SET_VALUES",payload:te});var re=K===void 0?n:K;return re?Le(te):Promise.resolve()}),I=b.useCallback(function(L,K){Q({type:"SET_FIELD_ERROR",payload:{field:L,value:K}})},[]),j=gn(function(L,K,te){Q({type:"SET_FIELD_VALUE",payload:{field:L,value:K}});var re=te===void 0?n:te;return re?Le(Wn(W.values,L,K)):Promise.resolve()}),de=b.useCallback(function(L,K){var te=K,re=L,he;if(!gh(L)){L.persist&&L.persist();var Se=L.target?L.target:L.currentTarget,Qe=Se.type,un=Se.name,Xn=Se.id,Jn=Se.value,Qc=Se.checked,Xc=Se.outerHTML,vo=Se.options,Jc=Se.multiple;te=K||un||Xn,re=/number|range/.test(Qe)?(he=parseFloat(Jn),isNaN(he)?"":he):/checkbox/.test(Qe)?e4(Ye(W.values,te),Qc,Jn):vo&&Jc?Zj(vo):Jn}te&&j(te,re)},[j,W.values]),fe=gn(function(L){if(gh(L))return function(K){return de(K,L)};de(L)}),me=gn(function(L,K,te){K===void 0&&(K=!0),Q({type:"SET_FIELD_TOUCHED",payload:{field:L,value:K}});var re=te===void 0?o:te;return re?Le(W.values):Promise.resolve()}),Ee=b.useCallback(function(L,K){L.persist&&L.persist();var te=L.target,re=te.name,he=te.id,Se=te.outerHTML,Qe=K||re||he;me(Qe,!0)},[me]),Ne=gn(function(L){if(gh(L))return function(K){return Ee(K,L)};Ee(L)}),Te=b.useCallback(function(L){xt(L)?Q({type:"SET_FORMIK_STATE",payload:L}):Q({type:"SET_FORMIK_STATE",payload:function(){return L}})},[]),Me=b.useCallback(function(L){Q({type:"SET_STATUS",payload:L})},[]),St=b.useCallback(function(L){Q({type:"SET_ISSUBMITTING",payload:L})},[]),Tr=gn(function(){return Q({type:"SUBMIT_ATTEMPT"}),Le().then(function(L){var K=L instanceof Error,te=!K&&Object.keys(L).length===0;if(te){var re;try{if(re=mo(),re===void 0)return}catch(he){throw he}return Promise.resolve(re).then(function(he){return k.current&&Q({type:"SUBMIT_SUCCESS"}),he}).catch(function(he){if(k.current)throw Q({type:"SUBMIT_FAILURE"}),he})}else if(k.current&&(Q({type:"SUBMIT_FAILURE"}),K))throw L})}),al=gn(function(L){L&&L.preventDefault&&xt(L.preventDefault)&&L.preventDefault(),L&&L.stopPropagation&&xt(L.stopPropagation)&&L.stopPropagation(),Tr().catch(function(K){console.warn("Warning: An unhandled error was caught from submitForm()",K)})}),yi={resetForm:at,validateForm:Le,validateField:Xt,setErrors:ie,setFieldError:I,setFieldTouched:me,setFieldValue:j,setStatus:Me,setSubmitting:St,setTouched:q,setValues:Y,setFormikState:Te,submitForm:Tr},mo=gn(function(){return y(W.values,yi)}),ll=gn(function(L){L&&L.preventDefault&&xt(L.preventDefault)&&L.preventDefault(),L&&L.stopPropagation&&xt(L.stopPropagation)&&L.stopPropagation(),at()}),ul=b.useCallback(function(L){return{value:Ye(W.values,L),error:Ye(W.errors,L),touched:!!Ye(W.touched,L),initialValue:Ye(C.current,L),initialTouched:!!Ye(P.current,L),initialError:Ye(x.current,L)}},[W.errors,W.touched,W.values]),go=b.useCallback(function(L){return{setValue:function(te,re){return j(L,te,re)},setTouched:function(te,re){return me(L,te,re)},setError:function(te){return I(L,te)}}},[j,me,I]),cl=b.useCallback(function(L){var K=ol(L),te=K?L.name:L,re=Ye(W.values,te),he={name:te,value:re,onChange:fe,onBlur:Ne};if(K){var Se=L.type,Qe=L.value,un=L.as,Xn=L.multiple;Se==="checkbox"?Qe===void 0?he.checked=!!re:(he.checked=!!(Array.isArray(re)&&~re.indexOf(Qe)),he.value=Qe):Se==="radio"?(he.checked=re===Qe,he.value=Qe):un==="select"&&Xn&&(he.value=he.value||[],he.multiple=!0)}return he},[Ne,fe,W.values]),wi=b.useMemo(function(){return!Yr(C.current,W.values)},[C.current,W.values]),_i=b.useMemo(function(){return typeof d<"u"?wi?W.errors&&Object.keys(W.errors).length===0:d!==!1&&xt(d)?d(v):d:W.errors&&Object.keys(W.errors).length===0},[d,wi,W.errors,v]),Ir=Oe({},W,{initialValues:C.current,initialErrors:x.current,initialTouched:P.current,initialStatus:R.current,handleBlur:Ne,handleChange:fe,handleReset:ll,handleSubmit:al,resetForm:at,setErrors:ie,setFormikState:Te,setFieldTouched:me,setFieldValue:j,setFieldError:I,setStatus:Me,setSubmitting:St,setTouched:q,setValues:Y,submitForm:Tr,validateForm:Le,validateField:Xt,isValid:_i,dirty:wi,unregisterField:Ge,registerField:Ct,getFieldProps:cl,getFieldMeta:ul,getFieldHelpers:go,validateOnBlur:o,validateOnChange:n,validateOnMount:u});return Ir}function xm(t){var e=Yj(t),n=t.component,i=t.children,o=t.render,a=t.innerRef;return b.useImperativeHandle(a,function(){return e}),b.createElement(Wj,{value:e},n?b.createElement(n,e):o?o(e):i?xt(i)?i(e):Ux(i)?null:b.Children.only(i):null)}function Qj(t){var e={};if(t.inner){if(t.inner.length===0)return Wn(e,t.path,t.message);for(var o=t.inner,n=Array.isArray(o),i=0,o=n?o:o[Symbol.iterator]();;){var a;if(n){if(i>=o.length)break;a=o[i++]}else{if(i=o.next(),i.done)break;a=i.value}var u=a;Ye(e,u.path)||(e=Wn(e,u.path,u.message))}}return e}function Xj(t,e,n,i){n===void 0&&(n=!1);var o=Xh(t);return e[n?"validateSync":"validate"](o,{abortEarly:!1,context:o})}function Xh(t){var e=Array.isArray(t)?[]:{};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=String(n);Array.isArray(t[i])===!0?e[i]=t[i].map(function(o){return Array.isArray(o)===!0||Kw(o)?Xh(o):o!==""?o:void 0}):Kw(t[i])?e[i]=Xh(t[i]):e[i]=t[i]!==""?t[i]:void 0}return e}function Jj(t,e,n){var i=t.slice();return e.forEach(function(a,u){if(typeof i[u]>"u"){var d=n.clone!==!1,h=d&&n.isMergeableObject(a);i[u]=h?qh(Array.isArray(a)?[]:{},a,n):a}else n.isMergeableObject(a)?i[u]=qh(t[u],a,n):t.indexOf(a)===-1&&i.push(a)}),i}function Zj(t){return Array.from(t).filter(function(e){return e.selected}).map(function(e){return e.value})}function e4(t,e,n){if(typeof t=="boolean")return!!e;var i=[],o=!1,a=-1;if(Array.isArray(t))i=t,a=t.indexOf(n),o=a>=0;else if(!n||n=="true"||n=="false")return!!e;return e&&n&&!o?i.concat(n):o?i.slice(0,a).concat(i.slice(a+1)):i}var t4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?b.useLayoutEffect:b.useEffect;function gn(t){var e=b.useRef(t);return t4(function(){e.current=t}),b.useCallback(function(){for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return e.current.apply(void 0,i)},[])}function vn(t){var e=t.validate,n=t.name,i=t.render,o=t.children,a=t.as,u=t.component,d=t.className,h=ni(t,["validate","name","render","children","as","component","className"]),m=$x(),y=ni(m,["validate","validationSchema"]),w=y.registerField,v=y.unregisterField;b.useEffect(function(){return w(n,{validate:e}),function(){v(n)}},[w,v,n,e]);var C=y.getFieldProps(Oe({name:n},h)),x=y.getFieldMeta(n),P={field:C,form:y};if(i)return i(Oe({},P,{meta:x}));if(xt(o))return o(Oe({},P,{meta:x}));if(u){if(typeof u=="string"){var R=h.innerRef,k=ni(h,["innerRef"]);return b.createElement(u,Oe({ref:R},C,k,{className:d}),o)}return b.createElement(u,Oe({field:C,form:y},h,{className:d}),o)}var M=a||"input";if(typeof M=="string"){var V=h.innerRef,ee=ni(h,["innerRef"]);return b.createElement(M,Oe({ref:V},C,ee,{className:d}),o)}return b.createElement(M,Oe({},C,h,{className:d}),o)}var Gc=b.forwardRef(function(t,e){var n=t.action,i=ni(t,["action"]),o=n??"#",a=$x(),u=a.handleReset,d=a.handleSubmit;return b.createElement("form",Oe({onSubmit:d,ref:e,onReset:u,action:o},i))});Gc.displayName="Form";function n4(t){var e=function(o){return b.createElement(qj,null,function(a){return b.createElement(t,Oe({},o,{formik:a}))})},n=t.displayName||t.name||t.constructor&&t.constructor.name||"Component";return e.WrappedComponent=t,e.displayName="FormikConnect("+n+")",Hj(e,t)}var r4=function(e,n,i){var o=Ji(e),a=o[n];return o.splice(n,1),o.splice(i,0,a),o},i4=function(e,n,i){var o=Ji(e),a=o[n];return o[n]=o[i],o[i]=a,o},yh=function(e,n,i){var o=Ji(e);return o.splice(n,0,i),o},s4=function(e,n,i){var o=Ji(e);return o[n]=i,o},Ji=function(e){if(e){if(Array.isArray(e))return[].concat(e);var n=Object.keys(e).map(function(i){return parseInt(i)}).reduce(function(i,o){return o>i?o:i},0);return Array.from(Oe({},e,{length:n+1}))}else return[]},b_=function(e,n){var i=typeof e=="function"?e:n;return function(o){if(Array.isArray(o)||ol(o)){var a=Ji(o);return i(a)}return o}},o4=function(t){jx(e,t);function e(i){var o;return o=t.call(this,i)||this,o.updateArrayField=function(a,u,d){var h=o.props,m=h.name,y=h.formik.setFormikState;y(function(w){var v=b_(d,a),C=b_(u,a),x=Wn(w.values,m,a(Ye(w.values,m))),P=d?v(Ye(w.errors,m)):void 0,R=u?C(Ye(w.touched,m)):void 0;return S_(P)&&(P=void 0),S_(R)&&(R=void 0),Oe({},w,{values:x,errors:d?Wn(w.errors,m,P):w.errors,touched:u?Wn(w.touched,m,R):w.touched})})},o.push=function(a){return o.updateArrayField(function(u){return[].concat(Ji(u),[ca(a)])},!1,!1)},o.handlePush=function(a){return function(){return o.push(a)}},o.swap=function(a,u){return o.updateArrayField(function(d){return i4(d,a,u)},!0,!0)},o.handleSwap=function(a,u){return function(){return o.swap(a,u)}},o.move=function(a,u){return o.updateArrayField(function(d){return r4(d,a,u)},!0,!0)},o.handleMove=function(a,u){return function(){return o.move(a,u)}},o.insert=function(a,u){return o.updateArrayField(function(d){return yh(d,a,u)},function(d){return yh(d,a,null)},function(d){return yh(d,a,null)})},o.handleInsert=function(a,u){return function(){return o.insert(a,u)}},o.replace=function(a,u){return o.updateArrayField(function(d){return s4(d,a,u)},!1,!1)},o.handleReplace=function(a,u){return function(){return o.replace(a,u)}},o.unshift=function(a){var u=-1;return o.updateArrayField(function(d){var h=d?[a].concat(d):[a];return u=h.length,h},function(d){return d?[null].concat(d):[null]},function(d){return d?[null].concat(d):[null]}),u},o.handleUnshift=function(a){return function(){return o.unshift(a)}},o.handleRemove=function(a){return function(){return o.remove(a)}},o.handlePop=function(){return function(){return o.pop()}},o.remove=o.remove.bind(C_(o)),o.pop=o.pop.bind(C_(o)),o}var n=e.prototype;return n.componentDidUpdate=function(o){this.props.validateOnChange&&this.props.formik.validateOnChange&&!Yr(Ye(o.formik.values,o.name),Ye(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},n.remove=function(o){var a;return this.updateArrayField(function(u){var d=u?Ji(u):[];return a||(a=d[o]),xt(d.splice)&&d.splice(o,1),xt(d.every)&&d.every(function(h){return h===void 0})?[]:d},!0,!0),a},n.pop=function(){var o;return this.updateArrayField(function(a){var u=a.slice();return o||(o=u&&u.pop&&u.pop()),u},!0,!0),o},n.render=function(){var o={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},a=this.props,u=a.component,d=a.render,h=a.children,m=a.name,y=a.formik,w=ni(y,["validate","validationSchema"]),v=Oe({},o,{form:w,name:m});return u?b.createElement(u,v):d?d(v):h?typeof h=="function"?h(v):Ux(h)?null:b.Children.only(h):null},e}(b.Component);o4.defaultProps={validateOnChange:!0};var a4=function(t){jx(e,t);function e(){return t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(o){return Ye(this.props.formik.errors,this.props.name)!==Ye(o.formik.errors,this.props.name)||Ye(this.props.formik.touched,this.props.name)!==Ye(o.formik.touched,this.props.name)||Object.keys(this.props).length!==Object.keys(o).length},n.render=function(){var o=this.props,a=o.component,u=o.formik,d=o.render,h=o.children,m=o.name,y=ni(o,["component","formik","render","children","name"]),w=Ye(u.touched,m),v=Ye(u.errors,m);return w&&v?d?xt(d)?d(v):null:h?xt(h)?h(v):null:a?b.createElement(a,y,v):v:null},e}(b.Component),Cm=n4(a4),wh,T_;function l4(){if(T_)return wh;T_=1;function t(k){this._maxSize=k,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(k){return this._values[k]},t.prototype.set=function(k,M){return this._size>=this._maxSize&&this.clear(),k in this._values||this._size++,this._values[k]=M};var e=/[^.^\]^[]+|(?=\[\]|\.\.)/g,n=/^\d+$/,i=/^\d/,o=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,a=/^\s*(['"]?)(.*?)(\1)\s*$/,u=512,d=new t(u),h=new t(u),m=new t(u);wh={Cache:t,split:w,normalizePath:y,setter:function(k){var M=y(k);return h.get(k)||h.set(k,function(ee,F){for(var W=0,Q=M.length,_e=ee;W<Q-1;){var pe=M[W];if(pe==="__proto__"||pe==="constructor"||pe==="prototype")return ee;_e=_e[M[W++]]}_e[M[W]]=F})},getter:function(k,M){var V=y(k);return m.get(k)||m.set(k,function(F){for(var W=0,Q=V.length;W<Q;)if(F!=null||!M)F=F[V[W++]];else return;return F})},join:function(k){return k.reduce(function(M,V){return M+(C(V)||n.test(V)?"["+V+"]":(M?".":"")+V)},"")},forEach:function(k,M,V){v(Array.isArray(k)?k:w(k),M,V)}};function y(k){return d.get(k)||d.set(k,w(k).map(function(M){return M.replace(a,"$2")}))}function w(k){return k.match(e)||[""]}function v(k,M,V){var ee=k.length,F,W,Q,_e;for(W=0;W<ee;W++)F=k[W],F&&(R(F)&&(F='"'+F+'"'),_e=C(F),Q=!_e&&/^\d+$/.test(F),M.call(V,F,_e,Q,W,k))}function C(k){return typeof k=="string"&&k&&["'",'"'].indexOf(k.charAt(0))!==-1}function x(k){return k.match(i)&&!k.match(n)}function P(k){return o.test(k)}function R(k){return!C(k)&&(x(k)||P(k))}return wh}var zi=l4(),_h,I_;function u4(){if(I_)return _h;I_=1;const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['’](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['’](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['’](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,e=y=>y.match(t)||[],n=y=>y[0].toUpperCase()+y.slice(1),i=(y,w)=>e(y).join(w).toLowerCase(),o=y=>e(y).reduce((w,v)=>`${w}${w?v[0].toUpperCase()+v.slice(1).toLowerCase():v.toLowerCase()}`,"");return _h={words:e,upperFirst:n,camelCase:o,pascalCase:y=>n(o(y)),snakeCase:y=>i(y,"_"),kebabCase:y=>i(y,"-"),sentenceCase:y=>n(i(y," ")),titleCase:y=>e(y).map(n).join(" ")},_h}var Eh=u4(),bu={exports:{}},k_;function c4(){if(k_)return bu.exports;k_=1,bu.exports=function(o){return t(e(o),o)},bu.exports.array=t;function t(o,a){var u=o.length,d=new Array(u),h={},m=u,y=n(a),w=i(o);for(a.forEach(function(C){if(!w.has(C[0])||!w.has(C[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});m--;)h[m]||v(o[m],m,new Set);return d;function v(C,x,P){if(P.has(C)){var R;try{R=", node was:"+JSON.stringify(C)}catch{R=""}throw new Error("Cyclic dependency"+R)}if(!w.has(C))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(C));if(!h[x]){h[x]=!0;var k=y.get(C)||new Set;if(k=Array.from(k),x=k.length){P.add(C);do{var M=k[--x];v(M,w.get(M),P)}while(x);P.delete(C)}d[--u]=C}}}function e(o){for(var a=new Set,u=0,d=o.length;u<d;u++){var h=o[u];a.add(h[0]),a.add(h[1])}return Array.from(a)}function n(o){for(var a=new Map,u=0,d=o.length;u<d;u++){var h=o[u];a.has(h[0])||a.set(h[0],new Set),a.has(h[1])||a.set(h[1],new Set),a.get(h[0]).add(h[1])}return a}function i(o){for(var a=new Map,u=0,d=o.length;u<d;u++)a.set(o[u],u);return a}return bu.exports}var d4=c4();const f4=La(d4),h4=Object.prototype.toString,p4=Error.prototype.toString,m4=RegExp.prototype.toString,g4=typeof Symbol<"u"?Symbol.prototype.toString:()=>"",v4=/^Symbol\((.*)\)(.*)$/;function y4(t){return t!=+t?"NaN":t===0&&1/t<0?"-0":""+t}function P_(t,e=!1){if(t==null||t===!0||t===!1)return""+t;const n=typeof t;if(n==="number")return y4(t);if(n==="string")return e?`"${t}"`:t;if(n==="function")return"[Function "+(t.name||"anonymous")+"]";if(n==="symbol")return g4.call(t).replace(v4,"Symbol($1)");const i=h4.call(t).slice(8,-1);return i==="Date"?isNaN(t.getTime())?""+t:t.toISOString(t):i==="Error"||t instanceof Error?"["+p4.call(t)+"]":i==="RegExp"?m4.call(t):null}function li(t,e){let n=P_(t,e);return n!==null?n:JSON.stringify(t,function(i,o){let a=P_(this[i],e);return a!==null?a:o},2)}function zx(t){return t==null?[]:[].concat(t)}let Vx,Hx,Wx,w4=/\$\{\s*(\w+)\s*\}/g;Vx=Symbol.toStringTag;class N_{constructor(e,n,i,o){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[Vx]="Error",this.name="ValidationError",this.value=n,this.path=i,this.type=o,this.errors=[],this.inner=[],zx(e).forEach(a=>{if(Vt.isError(a)){this.errors.push(...a.errors);const u=a.inner.length?a.inner:[a];this.inner.push(...u)}else this.errors.push(a)}),this.message=this.errors.length>1?`${this.errors.length} errors occurred`:this.errors[0]}}Hx=Symbol.hasInstance;Wx=Symbol.toStringTag;class Vt extends Error{static formatError(e,n){const i=n.label||n.path||"this";return n=Object.assign({},n,{path:i,originalPath:n.path}),typeof e=="string"?e.replace(w4,(o,a)=>li(n[a])):typeof e=="function"?e(n):e}static isError(e){return e&&e.name==="ValidationError"}constructor(e,n,i,o,a){const u=new N_(e,n,i,o);if(a)return u;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[Wx]="Error",this.name=u.name,this.message=u.message,this.type=u.type,this.value=u.value,this.path=u.path,this.errors=u.errors,this.inner=u.inner,Error.captureStackTrace&&Error.captureStackTrace(this,Vt)}static[Hx](e){return N_[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let Bn={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:({path:t,type:e,value:n,originalValue:i})=>{const o=i!=null&&i!==n?` (cast from the value \`${li(i,!0)}\`).`:".";return e!=="mixed"?`${t} must be a \`${e}\` type, but the final value was: \`${li(n,!0)}\``+o:`${t} must match the configured type. The validated value was: \`${li(n,!0)}\``+o}},zt={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},Kr={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},Jh={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},_4={isValue:"${path} field must be ${value}"},Mu={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},E4={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},x4={notType:t=>{const{path:e,value:n,spec:i}=t,o=i.types.length;if(Array.isArray(n)){if(n.length<o)return`${e} tuple value has too few items, expected a length of ${o} but got ${n.length} for value: \`${li(n,!0)}\``;if(n.length>o)return`${e} tuple value has too many items, expected a length of ${o} but got ${n.length} for value: \`${li(n,!0)}\``}return Vt.formatError(Bn.notType,t)}};Object.assign(Object.create(null),{mixed:Bn,string:zt,number:Kr,date:Jh,object:Mu,array:E4,boolean:_4,tuple:x4});const Sm=t=>t&&t.__isYupSchema__;class _c{static fromOptions(e,n){if(!n.then&&!n.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:i,then:o,otherwise:a}=n,u=typeof i=="function"?i:(...d)=>d.every(h=>h===i);return new _c(e,(d,h)=>{var m;let y=u(...d)?o:a;return(m=y==null?void 0:y(h))!=null?m:h})}constructor(e,n){this.fn=void 0,this.refs=e,this.refs=e,this.fn=n}resolve(e,n){let i=this.refs.map(a=>a.getValue(n==null?void 0:n.value,n==null?void 0:n.parent,n==null?void 0:n.context)),o=this.fn(i,e,n);if(o===void 0||o===e)return e;if(!Sm(o))throw new TypeError("conditions must return a schema object");return o.resolve(n)}}const Tu={context:"$",value:"."};class as{constructor(e,n={}){if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,typeof e!="string")throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),e==="")throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===Tu.context,this.isValue=this.key[0]===Tu.value,this.isSibling=!this.isContext&&!this.isValue;let i=this.isContext?Tu.context:this.isValue?Tu.value:"";this.path=this.key.slice(i.length),this.getter=this.path&&zi.getter(this.path,!0),this.map=n.map}getValue(e,n,i){let o=this.isContext?i:this.isValue?e:n;return this.getter&&(o=this.getter(o||{})),this.map&&(o=this.map(o)),o}cast(e,n){return this.getValue(e,n==null?void 0:n.parent,n==null?void 0:n.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return`Ref(${this.key})`}static isRef(e){return e&&e.__isYupRef}}as.prototype.__isYupRef=!0;const hr=t=>t==null;function Os(t){function e({value:n,path:i="",options:o,originalValue:a,schema:u},d,h){const{name:m,test:y,params:w,message:v,skipAbsent:C}=t;let{parent:x,context:P,abortEarly:R=u.spec.abortEarly,disableStackTrace:k=u.spec.disableStackTrace}=o;function M(Ce){return as.isRef(Ce)?Ce.getValue(n,x,P):Ce}function V(Ce={}){const ot=Object.assign({value:n,originalValue:a,label:u.spec.label,path:Ce.path||i,spec:u.spec,disableStackTrace:Ce.disableStackTrace||k},w,Ce.params);for(const at of Object.keys(ot))ot[at]=M(ot[at]);const Le=new Vt(Vt.formatError(Ce.message||v,ot),n,ot.path,Ce.type||m,ot.disableStackTrace);return Le.params=ot,Le}const ee=R?d:h;let F={path:i,parent:x,type:m,from:o.from,createError:V,resolve:M,options:o,originalValue:a,schema:u};const W=Ce=>{Vt.isError(Ce)?ee(Ce):Ce?h(null):ee(V())},Q=Ce=>{Vt.isError(Ce)?ee(Ce):d(Ce)};if(C&&hr(n))return W(!0);let pe;try{var je;if(pe=y.call(F,n,F),typeof((je=pe)==null?void 0:je.then)=="function"){if(o.sync)throw new Error(`Validation test of type: "${F.type}" returned a Promise during a synchronous validate. This test will finish after the validate call has returned`);return Promise.resolve(pe).then(W,Q)}}catch(Ce){Q(Ce);return}W(pe)}return e.OPTIONS=t,e}function C4(t,e,n,i=n){let o,a,u;return e?(zi.forEach(e,(d,h,m)=>{let y=h?d.slice(1,d.length-1):d;t=t.resolve({context:i,parent:o,value:n});let w=t.type==="tuple",v=m?parseInt(y,10):0;if(t.innerType||w){if(w&&!m)throw new Error(`Yup.reach cannot implicitly index into a tuple type. the path part "${u}" must contain an index to the tuple element, e.g. "${u}[0]"`);if(n&&v>=n.length)throw new Error(`Yup.reach cannot resolve an array item at index: ${d}, in the path: ${e}. because there is no value at that index. `);o=n,n=n&&n[v],t=w?t.spec.types[v]:t.innerType}if(!m){if(!t.fields||!t.fields[y])throw new Error(`The schema does not contain the path: ${e}. (failed at: ${u} which is a type: "${t.type}")`);o=n,n=n&&n[y],t=t.fields[y]}a=y,u=h?"["+d+"]":"."+d}),{schema:t,parent:o,parentPath:a}):{parent:o,parentPath:e,schema:t}}class Ec extends Set{describe(){const e=[];for(const n of this.values())e.push(as.isRef(n)?n.describe():n);return e}resolveAll(e){let n=[];for(const i of this.values())n.push(e(i));return n}clone(){return new Ec(this.values())}merge(e,n){const i=this.clone();return e.forEach(o=>i.add(o)),n.forEach(o=>i.delete(o)),i}}function Fs(t,e=new Map){if(Sm(t)||!t||typeof t!="object")return t;if(e.has(t))return e.get(t);let n;if(t instanceof Date)n=new Date(t.getTime()),e.set(t,n);else if(t instanceof RegExp)n=new RegExp(t),e.set(t,n);else if(Array.isArray(t)){n=new Array(t.length),e.set(t,n);for(let i=0;i<t.length;i++)n[i]=Fs(t[i],e)}else if(t instanceof Map){n=new Map,e.set(t,n);for(const[i,o]of t.entries())n.set(i,Fs(o,e))}else if(t instanceof Set){n=new Set,e.set(t,n);for(const i of t)n.add(Fs(i,e))}else if(t instanceof Object){n={},e.set(t,n);for(const[i,o]of Object.entries(t))n[i]=Fs(o,e)}else throw Error(`Unable to clone ${t}`);return n}class Ln{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Ec,this._blacklist=new Ec,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(Bn.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},e==null?void 0:e.spec),this.withMutation(n=>{n.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const n=Object.create(Object.getPrototypeOf(this));return n.type=this.type,n._typeCheck=this._typeCheck,n._whitelist=this._whitelist.clone(),n._blacklist=this._blacklist.clone(),n.internalTests=Object.assign({},this.internalTests),n.exclusiveTests=Object.assign({},this.exclusiveTests),n.deps=[...this.deps],n.conditions=[...this.conditions],n.tests=[...this.tests],n.transforms=[...this.transforms],n.spec=Fs(Object.assign({},this.spec,e)),n}label(e){let n=this.clone();return n.spec.label=e,n}meta(...e){if(e.length===0)return this.spec.meta;let n=this.clone();return n.spec.meta=Object.assign(n.spec.meta||{},e[0]),n}withMutation(e){let n=this._mutate;this._mutate=!0;let i=e(this);return this._mutate=n,i}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&this.type!=="mixed")throw new TypeError(`You cannot \`concat()\` schema's of different types: ${this.type} and ${e.type}`);let n=this,i=e.clone();const o=Object.assign({},n.spec,i.spec);return i.spec=o,i.internalTests=Object.assign({},n.internalTests,i.internalTests),i._whitelist=n._whitelist.merge(e._whitelist,e._blacklist),i._blacklist=n._blacklist.merge(e._blacklist,e._whitelist),i.tests=n.tests,i.exclusiveTests=n.exclusiveTests,i.withMutation(a=>{e.tests.forEach(u=>{a.test(u.OPTIONS)})}),i.transforms=[...n.transforms,...i.transforms],i}isType(e){return e==null?!!(this.spec.nullable&&e===null||this.spec.optional&&e===void 0):this._typeCheck(e)}resolve(e){let n=this;if(n.conditions.length){let i=n.conditions;n=n.clone(),n.conditions=[],n=i.reduce((o,a)=>a.resolve(o,e),n),n=n.resolve(e)}return n}resolveOptions(e){var n,i,o,a;return Object.assign({},e,{from:e.from||[],strict:(n=e.strict)!=null?n:this.spec.strict,abortEarly:(i=e.abortEarly)!=null?i:this.spec.abortEarly,recursive:(o=e.recursive)!=null?o:this.spec.recursive,disableStackTrace:(a=e.disableStackTrace)!=null?a:this.spec.disableStackTrace})}cast(e,n={}){let i=this.resolve(Object.assign({value:e},n)),o=n.assert==="ignore-optionality",a=i._cast(e,n);if(n.assert!==!1&&!i.isType(a)){if(o&&hr(a))return a;let u=li(e),d=li(a);throw new TypeError(`The value of ${n.path||"field"} could not be cast to a value that satisfies the schema type: "${i.type}". 

attempted value: ${u} 
`+(d!==u?`result of cast: ${d}`:""))}return a}_cast(e,n){let i=e===void 0?e:this.transforms.reduce((o,a)=>a.call(this,o,e,this),e);return i===void 0&&(i=this.getDefault(n)),i}_validate(e,n={},i,o){let{path:a,originalValue:u=e,strict:d=this.spec.strict}=n,h=e;d||(h=this._cast(h,Object.assign({assert:!1},n)));let m=[];for(let y of Object.values(this.internalTests))y&&m.push(y);this.runTests({path:a,value:h,originalValue:u,options:n,tests:m},i,y=>{if(y.length)return o(y,h);this.runTests({path:a,value:h,originalValue:u,options:n,tests:this.tests},i,o)})}runTests(e,n,i){let o=!1,{tests:a,value:u,originalValue:d,path:h,options:m}=e,y=P=>{o||(o=!0,n(P,u))},w=P=>{o||(o=!0,i(P,u))},v=a.length,C=[];if(!v)return w([]);let x={value:u,originalValue:d,path:h,options:m,schema:this};for(let P=0;P<a.length;P++){const R=a[P];R(x,y,function(M){M&&(Array.isArray(M)?C.push(...M):C.push(M)),--v<=0&&w(C)})}}asNestedTest({key:e,index:n,parent:i,parentPath:o,originalParent:a,options:u}){const d=e??n;if(d==null)throw TypeError("Must include `key` or `index` for nested validations");const h=typeof d=="number";let m=i[d];const y=Object.assign({},u,{strict:!0,parent:i,value:m,originalValue:a[d],key:void 0,[h?"index":"key"]:d,path:h||d.includes(".")?`${o||""}[${h?d:`"${d}"`}]`:(o?`${o}.`:"")+e});return(w,v,C)=>this.resolve(y)._validate(m,y,v,C)}validate(e,n){var i;let o=this.resolve(Object.assign({},n,{value:e})),a=(i=n==null?void 0:n.disableStackTrace)!=null?i:o.spec.disableStackTrace;return new Promise((u,d)=>o._validate(e,n,(h,m)=>{Vt.isError(h)&&(h.value=m),d(h)},(h,m)=>{h.length?d(new Vt(h,m,void 0,void 0,a)):u(m)}))}validateSync(e,n){var i;let o=this.resolve(Object.assign({},n,{value:e})),a,u=(i=n==null?void 0:n.disableStackTrace)!=null?i:o.spec.disableStackTrace;return o._validate(e,Object.assign({},n,{sync:!0}),(d,h)=>{throw Vt.isError(d)&&(d.value=h),d},(d,h)=>{if(d.length)throw new Vt(d,e,void 0,void 0,u);a=h}),a}isValid(e,n){return this.validate(e,n).then(()=>!0,i=>{if(Vt.isError(i))return!1;throw i})}isValidSync(e,n){try{return this.validateSync(e,n),!0}catch(i){if(Vt.isError(i))return!1;throw i}}_getDefault(e){let n=this.spec.default;return n==null?n:typeof n=="function"?n.call(this,e):Fs(n)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){return arguments.length===0?this._getDefault():this.clone({default:e})}strict(e=!0){return this.clone({strict:e})}nullability(e,n){const i=this.clone({nullable:e});return i.internalTests.nullable=Os({message:n,name:"nullable",test(o){return o===null?this.schema.spec.nullable:!0}}),i}optionality(e,n){const i=this.clone({optional:e});return i.internalTests.optionality=Os({message:n,name:"optionality",test(o){return o===void 0?this.schema.spec.optional:!0}}),i}optional(){return this.optionality(!0)}defined(e=Bn.defined){return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(e=Bn.notNull){return this.nullability(!1,e)}required(e=Bn.required){return this.clone().withMutation(n=>n.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let n=this.clone();return n.transforms.push(e),n}test(...e){let n;if(e.length===1?typeof e[0]=="function"?n={test:e[0]}:n=e[0]:e.length===2?n={name:e[0],test:e[1]}:n={name:e[0],message:e[1],test:e[2]},n.message===void 0&&(n.message=Bn.default),typeof n.test!="function")throw new TypeError("`test` is a required parameters");let i=this.clone(),o=Os(n),a=n.exclusive||n.name&&i.exclusiveTests[n.name]===!0;if(n.exclusive&&!n.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return n.name&&(i.exclusiveTests[n.name]=!!n.exclusive),i.tests=i.tests.filter(u=>!(u.OPTIONS.name===n.name&&(a||u.OPTIONS.test===o.OPTIONS.test))),i.tests.push(o),i}when(e,n){!Array.isArray(e)&&typeof e!="string"&&(n=e,e=".");let i=this.clone(),o=zx(e).map(a=>new as(a));return o.forEach(a=>{a.isSibling&&i.deps.push(a.key)}),i.conditions.push(typeof n=="function"?new _c(o,n):_c.fromOptions(o,n)),i}typeError(e){let n=this.clone();return n.internalTests.typeError=Os({message:e,name:"typeError",skipAbsent:!0,test(i){return this.schema._typeCheck(i)?!0:this.createError({params:{type:this.schema.type}})}}),n}oneOf(e,n=Bn.oneOf){let i=this.clone();return e.forEach(o=>{i._whitelist.add(o),i._blacklist.delete(o)}),i.internalTests.whiteList=Os({message:n,name:"oneOf",skipAbsent:!0,test(o){let a=this.schema._whitelist,u=a.resolveAll(this.resolve);return u.includes(o)?!0:this.createError({params:{values:Array.from(a).join(", "),resolved:u}})}}),i}notOneOf(e,n=Bn.notOneOf){let i=this.clone();return e.forEach(o=>{i._blacklist.add(o),i._whitelist.delete(o)}),i.internalTests.blacklist=Os({message:n,name:"notOneOf",test(o){let a=this.schema._blacklist,u=a.resolveAll(this.resolve);return u.includes(o)?this.createError({params:{values:Array.from(a).join(", "),resolved:u}}):!0}}),i}strip(e=!0){let n=this.clone();return n.spec.strip=e,n}describe(e){const n=(e?this.resolve(e):this).clone(),{label:i,meta:o,optional:a,nullable:u}=n.spec;return{meta:o,label:i,optional:a,nullable:u,default:n.getDefault(e),type:n.type,oneOf:n._whitelist.describe(),notOneOf:n._blacklist.describe(),tests:n.tests.map(h=>({name:h.OPTIONS.name,params:h.OPTIONS.params})).filter((h,m,y)=>y.findIndex(w=>w.name===h.name)===m)}}}Ln.prototype.__isYupSchema__=!0;for(const t of["validate","validateSync"])Ln.prototype[`${t}At`]=function(e,n,i={}){const{parent:o,parentPath:a,schema:u}=C4(this,e,n,i.context);return u[t](o&&o[a],Object.assign({},i,{parent:o,path:e}))};for(const t of["equals","is"])Ln.prototype[t]=Ln.prototype.oneOf;for(const t of["not","nope"])Ln.prototype[t]=Ln.prototype.notOneOf;const S4=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function b4(t){const e=Zh(t);if(!e)return Date.parse?Date.parse(t):Number.NaN;if(e.z===void 0&&e.plusMinus===void 0)return new Date(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond).valueOf();let n=0;return e.z!=="Z"&&e.plusMinus!==void 0&&(n=e.hourOffset*60+e.minuteOffset,e.plusMinus==="+"&&(n=0-n)),Date.UTC(e.year,e.month,e.day,e.hour,e.minute+n,e.second,e.millisecond)}function Zh(t){var e,n;const i=S4.exec(t);return i?{year:ar(i[1]),month:ar(i[2],1)-1,day:ar(i[3],1),hour:ar(i[4]),minute:ar(i[5]),second:ar(i[6]),millisecond:i[7]?ar(i[7].substring(0,3)):0,precision:(e=(n=i[7])==null?void 0:n.length)!=null?e:void 0,z:i[8]||void 0,plusMinus:i[9]||void 0,hourOffset:ar(i[10]),minuteOffset:ar(i[11])}:null}function ar(t,e=0){return Number(t)||e}let T4=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,I4=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,k4=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,P4="^\\d{4}-\\d{2}-\\d{2}",N4="\\d{2}:\\d{2}:\\d{2}",R4="(([+-]\\d{2}(:?\\d{2})?)|Z)",A4=new RegExp(`${P4}T${N4}(\\.\\d+)?${R4}$`),O4=t=>hr(t)||t===t.trim(),L4={}.toString();function yn(){return new qx}class qx extends Ln{constructor(){super({type:"string",check(e){return e instanceof String&&(e=e.valueOf()),typeof e=="string"}}),this.withMutation(()=>{this.transform((e,n,i)=>{if(!i.spec.coerce||i.isType(e)||Array.isArray(e))return e;const o=e!=null&&e.toString?e.toString():e;return o===L4?e:o})})}required(e){return super.required(e).withMutation(n=>n.test({message:e||Bn.required,name:"required",skipAbsent:!0,test:i=>!!i.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(n=>n.OPTIONS.name!=="required"),e))}length(e,n=zt.length){return this.test({message:n,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(i){return i.length===this.resolve(e)}})}min(e,n=zt.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i.length>=this.resolve(e)}})}max(e,n=zt.max){return this.test({name:"max",exclusive:!0,message:n,params:{max:e},skipAbsent:!0,test(i){return i.length<=this.resolve(e)}})}matches(e,n){let i=!1,o,a;return n&&(typeof n=="object"?{excludeEmptyString:i=!1,message:o,name:a}=n:o=n),this.test({name:a||"matches",message:o||zt.matches,params:{regex:e},skipAbsent:!0,test:u=>u===""&&i||u.search(e)!==-1})}email(e=zt.email){return this.matches(T4,{name:"email",message:e,excludeEmptyString:!0})}url(e=zt.url){return this.matches(I4,{name:"url",message:e,excludeEmptyString:!0})}uuid(e=zt.uuid){return this.matches(k4,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let n="",i,o;return e&&(typeof e=="object"?{message:n="",allowOffset:i=!1,precision:o=void 0}=e:n=e),this.matches(A4,{name:"datetime",message:n||zt.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:n||zt.datetime_offset,params:{allowOffset:i},skipAbsent:!0,test:a=>{if(!a||i)return!0;const u=Zh(a);return u?!!u.z:!1}}).test({name:"datetime_precision",message:n||zt.datetime_precision,params:{precision:o},skipAbsent:!0,test:a=>{if(!a||o==null)return!0;const u=Zh(a);return u?u.precision===o:!1}})}ensure(){return this.default("").transform(e=>e===null?"":e)}trim(e=zt.trim){return this.transform(n=>n!=null?n.trim():n).test({message:e,name:"trim",test:O4})}lowercase(e=zt.lowercase){return this.transform(n=>hr(n)?n:n.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>hr(n)||n===n.toLowerCase()})}uppercase(e=zt.uppercase){return this.transform(n=>hr(n)?n:n.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:n=>hr(n)||n===n.toUpperCase()})}}yn.prototype=qx.prototype;let D4=t=>t!=+t;function Gx(){return new Kx}class Kx extends Ln{constructor(){super({type:"number",check(e){return e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&!D4(e)}}),this.withMutation(()=>{this.transform((e,n,i)=>{if(!i.spec.coerce)return e;let o=e;if(typeof o=="string"){if(o=o.replace(/\s/g,""),o==="")return NaN;o=+o}return i.isType(o)||o===null?o:parseFloat(o)})})}min(e,n=Kr.min){return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(i){return i>=this.resolve(e)}})}max(e,n=Kr.max){return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(i){return i<=this.resolve(e)}})}lessThan(e,n=Kr.lessThan){return this.test({message:n,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(i){return i<this.resolve(e)}})}moreThan(e,n=Kr.moreThan){return this.test({message:n,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(i){return i>this.resolve(e)}})}positive(e=Kr.positive){return this.moreThan(0,e)}negative(e=Kr.negative){return this.lessThan(0,e)}integer(e=Kr.integer){return this.test({name:"integer",message:e,skipAbsent:!0,test:n=>Number.isInteger(n)})}truncate(){return this.transform(e=>hr(e)?e:e|0)}round(e){var n;let i=["ceil","floor","round","trunc"];if(e=((n=e)==null?void 0:n.toLowerCase())||"round",e==="trunc")return this.truncate();if(i.indexOf(e.toLowerCase())===-1)throw new TypeError("Only valid options for round() are: "+i.join(", "));return this.transform(o=>hr(o)?o:Math[e](o))}}Gx.prototype=Kx.prototype;let M4=new Date(""),F4=t=>Object.prototype.toString.call(t)==="[object Date]";class Kc extends Ln{constructor(){super({type:"date",check(e){return F4(e)&&!isNaN(e.getTime())}}),this.withMutation(()=>{this.transform((e,n,i)=>!i.spec.coerce||i.isType(e)||e===null?e:(e=b4(e),isNaN(e)?Kc.INVALID_DATE:new Date(e)))})}prepareParam(e,n){let i;if(as.isRef(e))i=e;else{let o=this.cast(e);if(!this._typeCheck(o))throw new TypeError(`\`${n}\` must be a Date or a value that can be \`cast()\` to a Date`);i=o}return i}min(e,n=Jh.min){let i=this.prepareParam(e,"min");return this.test({message:n,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(o){return o>=this.resolve(i)}})}max(e,n=Jh.max){let i=this.prepareParam(e,"max");return this.test({message:n,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(o){return o<=this.resolve(i)}})}}Kc.INVALID_DATE=M4;Kc.prototype;function j4(t,e=[]){let n=[],i=new Set,o=new Set(e.map(([u,d])=>`${u}-${d}`));function a(u,d){let h=zi.split(u)[0];i.add(h),o.has(`${d}-${h}`)||n.push([d,h])}for(const u of Object.keys(t)){let d=t[u];i.add(u),as.isRef(d)&&d.isSibling?a(d.path,u):Sm(d)&&"deps"in d&&d.deps.forEach(h=>a(h,u))}return f4.array(Array.from(i),n).reverse()}function R_(t,e){let n=1/0;return t.some((i,o)=>{var a;if((a=e.path)!=null&&a.includes(i))return n=o,!0}),n}function Yx(t){return(e,n)=>R_(t,e)-R_(t,n)}const $4=(t,e,n)=>{if(typeof t!="string")return t;let i=t;try{i=JSON.parse(t)}catch{}return n.isType(i)?i:t};function Fu(t){if("fields"in t){const e={};for(const[n,i]of Object.entries(t.fields))e[n]=Fu(i);return t.setFields(e)}if(t.type==="array"){const e=t.optional();return e.innerType&&(e.innerType=Fu(e.innerType)),e}return t.type==="tuple"?t.optional().clone({types:t.spec.types.map(Fu)}):"optional"in t?t.optional():t}const U4=(t,e)=>{const n=[...zi.normalizePath(e)];if(n.length===1)return n[0]in t;let i=n.pop(),o=zi.getter(zi.join(n),!0)(t);return!!(o&&i in o)};let A_=t=>Object.prototype.toString.call(t)==="[object Object]";function O_(t,e){let n=Object.keys(t.fields);return Object.keys(e).filter(i=>n.indexOf(i)===-1)}const B4=Yx([]);function Yc(t){return new Qx(t)}class Qx extends Ln{constructor(e){super({type:"object",check(n){return A_(n)||typeof n=="function"}}),this.fields=Object.create(null),this._sortErrors=B4,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e,n={}){var i;let o=super._cast(e,n);if(o===void 0)return this.getDefault(n);if(!this._typeCheck(o))return o;let a=this.fields,u=(i=n.stripUnknown)!=null?i:this.spec.noUnknown,d=[].concat(this._nodes,Object.keys(o).filter(w=>!this._nodes.includes(w))),h={},m=Object.assign({},n,{parent:h,__validating:n.__validating||!1}),y=!1;for(const w of d){let v=a[w],C=w in o;if(v){let x,P=o[w];m.path=(n.path?`${n.path}.`:"")+w,v=v.resolve({value:P,context:n.context,parent:h});let R=v instanceof Ln?v.spec:void 0,k=R==null?void 0:R.strict;if(R!=null&&R.strip){y=y||w in o;continue}x=!n.__validating||!k?v.cast(o[w],m):o[w],x!==void 0&&(h[w]=x)}else C&&!u&&(h[w]=o[w]);(C!==w in h||h[w]!==o[w])&&(y=!0)}return y?h:o}_validate(e,n={},i,o){let{from:a=[],originalValue:u=e,recursive:d=this.spec.recursive}=n;n.from=[{schema:this,value:u},...a],n.__validating=!0,n.originalValue=u,super._validate(e,n,i,(h,m)=>{if(!d||!A_(m)){o(h,m);return}u=u||m;let y=[];for(let w of this._nodes){let v=this.fields[w];!v||as.isRef(v)||y.push(v.asNestedTest({options:n,key:w,parent:m,parentPath:n.path,originalParent:u}))}this.runTests({tests:y,value:m,originalValue:u,options:n},i,w=>{o(w.sort(this._sortErrors).concat(h),m)})})}clone(e){const n=super.clone(e);return n.fields=Object.assign({},this.fields),n._nodes=this._nodes,n._excludedEdges=this._excludedEdges,n._sortErrors=this._sortErrors,n}concat(e){let n=super.concat(e),i=n.fields;for(let[o,a]of Object.entries(this.fields)){const u=i[o];i[o]=u===void 0?a:u}return n.withMutation(o=>o.setFields(i,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let n={};return this._nodes.forEach(i=>{var o;const a=this.fields[i];let u=e;(o=u)!=null&&o.value&&(u=Object.assign({},u,{parent:u.value,value:u.value[i]})),n[i]=a&&"getDefault"in a?a.getDefault(u):void 0}),n}setFields(e,n){let i=this.clone();return i.fields=e,i._nodes=j4(e,n),i._sortErrors=Yx(Object.keys(e)),n&&(i._excludedEdges=n),i}shape(e,n=[]){return this.clone().withMutation(i=>{let o=i._excludedEdges;return n.length&&(Array.isArray(n[0])||(n=[n]),o=[...i._excludedEdges,...n]),i.setFields(Object.assign(i.fields,e),o)})}partial(){const e={};for(const[n,i]of Object.entries(this.fields))e[n]="optional"in i&&i.optional instanceof Function?i.optional():i;return this.setFields(e)}deepPartial(){return Fu(this)}pick(e){const n={};for(const i of e)this.fields[i]&&(n[i]=this.fields[i]);return this.setFields(n,this._excludedEdges.filter(([i,o])=>e.includes(i)&&e.includes(o)))}omit(e){const n=[];for(const i of Object.keys(this.fields))e.includes(i)||n.push(i);return this.pick(n)}from(e,n,i){let o=zi.getter(e,!0);return this.transform(a=>{if(!a)return a;let u=a;return U4(a,e)&&(u=Object.assign({},a),i||delete u[e],u[n]=o(a)),u})}json(){return this.transform($4)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||Mu.exact,test(n){if(n==null)return!0;const i=O_(this.schema,n);return i.length===0||this.createError({params:{properties:i.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(e=!0,n=Mu.noUnknown){typeof e!="boolean"&&(n=e,e=!0);let i=this.test({name:"noUnknown",exclusive:!0,message:n,test(o){if(o==null)return!0;const a=O_(this.schema,o);return!e||a.length===0||this.createError({params:{unknown:a.join(", ")}})}});return i.spec.noUnknown=e,i}unknown(e=!0,n=Mu.noUnknown){return this.noUnknown(!e,n)}transformKeys(e){return this.transform(n=>{if(!n)return n;const i={};for(const o of Object.keys(n))i[e(o)]=n[o];return i})}camelCase(){return this.transformKeys(Eh.camelCase)}snakeCase(){return this.transformKeys(Eh.snakeCase)}constantCase(){return this.transformKeys(e=>Eh.snakeCase(e).toUpperCase())}describe(e){const n=(e?this.resolve(e):this).clone(),i=super.describe(e);i.fields={};for(const[a,u]of Object.entries(n.fields)){var o;let d=e;(o=d)!=null&&o.value&&(d=Object.assign({},d,{parent:d.value,value:d.value[a]})),i.fields[a]=u.describe(d)}return i}}Yc.prototype=Qx.prototype;const z4=()=>{const[t,e]=b.useState(!1),n=Fa(),i=Yc().shape({email:yn().email().required(),password:yn().min(6,"Password must be at least 6 characters").required()}),o=async(a,{resetForm:u})=>{try{await dR(cx,a.email,a.password),_n.fire({title:"Logged in successfully!",icon:"success",confirmButtonText:"Cool"}),u(),n("/nannies")}catch(d){_n.fire({title:"Login failed: ",text:d.message,icon:"error",confirmButtonText:"OK"})}};return _.jsxs("div",{className:"text-black auth-form max-h-max max-w-[560px] p-6 md:p-8 xl:p-16 m-6 bg-white rounded-[30px] shadow-lg ",children:[_.jsx("h2",{className:"text-3xl md:text-4xl font-medium mb-5",children:"Login"}),_.jsx("p",{className:"text-gray-500 mb-10",children:"Welcome back! Please enter your credentials to access your account and continue your babysitter search."}),_.jsx(xm,{initialValues:{email:"",password:""},validationSchema:i,onSubmit:o,children:({errors:a,touched:u,isSubmitting:d})=>_.jsxs(Gc,{children:[_.jsx("div",{className:"relative mb-6",children:_.jsx(vn,{name:"email",type:"email",placeholder:"Email",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${a.email&&u.email?"border-red-600":""}`})}),_.jsxs("div",{className:" mb-8",children:[_.jsxs("div",{className:"relative",children:[_.jsx(vn,{name:"password",type:t?"text":"password",placeholder:"Password",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${a.password&&u.password?"border-red-600":""}`}),_.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute top-1/2 right-4 transform -translate-y-1/2 text-gray-500",children:t?_.jsx(m1,{size:24}):_.jsx(g1,{size:24})})]}),_.jsx(Cm,{name:"password",component:"div",className:"text-red-500 mt-1 text-sm"})]}),_.jsx(sn,{text:"Log In",type:"submit",disabled:d,className:"w-full text-lg font-medium"})]})})]})},V4=()=>_.jsxs(_.Fragment,{children:[_.jsx(rl,{}),_.jsxs("section",{className:"flex text-white h-[calc(100vh-4rem)] md:h-screen",children:[_.jsxs("div",{className:"hidden md:flex flex-col flex-1 justify-center pl-8 pr-5 xl:pl-24 xl:pr-16 bg-[--prime]",children:[_.jsx("h1",{className:"text-6xl xl:text-7xl font-medium pb-7",children:"Make Life Easier for the Family:"}),_.jsx("p",{className:"text-2xl pb-16",children:"Find Babysitters Online for All Occasions"}),_.jsx($a,{to:"/nannies",children:_.jsx(sn,{text:"Get Started",border:!0,icon:_.jsx(Xp,{})})})]}),_.jsx("div",{className:" flex items-center justify-center flex-1 home-bg-img",children:_.jsx(z4,{})})]})]}),H4=()=>{const[t,e]=b.useState(!1),n=Fa(),i=Yc().shape({name:yn().required(),email:yn().email().required(),password:yn().min(6,"Password must be at least 6 characters").required()}),o=async(a,{resetForm:u})=>{try{const d=await cR(cx,a.email,a.password);await hR(d.user,{displayName:a.name}),_n.fire({title:"Registration successful!",icon:"success"}),u(),n("/nannies")}catch(d){_n.fire({title:"Registration failed:",text:d.message,icon:"error"})}};return _.jsxs("div",{className:"text-black auth-form max-h-max max-w-[560px] p-6 md:p-8 xl:p-16 m-6 bg-white rounded-[30px] shadow-lg ",children:[_.jsx("h2",{className:"text-3xl md:text-4xl font-medium mb-5",children:"Registration"}),_.jsx("p",{className:"text-gray-500 mb-10",children:"Thank you for your interest in our platform! In order to register, we need some information. Please provide us with the following information."}),_.jsx(xm,{initialValues:{name:"",email:"",password:""},validationSchema:i,onSubmit:o,children:({errors:a,touched:u,isSubmitting:d})=>_.jsxs(Gc,{children:[_.jsx("div",{className:"relative mb-6",children:_.jsx(vn,{name:"name",type:"text",placeholder:"Name",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${a.name&&u.name?"border-red-600":""}`})}),_.jsx("div",{className:"relative mb-6",children:_.jsx(vn,{name:"email",type:"email",placeholder:"Email",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${a.email&&u.email?"border-red-600":""}`})}),_.jsxs("div",{className:" mb-8",children:[_.jsxs("div",{className:"relative",children:[_.jsx(vn,{name:"password",type:t?"text":"password",placeholder:"Password",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${a.password&&u.password?"border-red-600":""}`}),_.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute top-1/2 right-4 transform -translate-y-1/2 text-gray-500",children:t?_.jsx(m1,{size:24}):_.jsx(g1,{size:24})})]}),_.jsx(Cm,{name:"password",component:"div",className:"text-red-500 mt-1 text-sm"})]}),_.jsx(sn,{text:"Sign Up",type:"submit",disabled:d,className:"w-full text-lg font-medium"})]})})]})},W4=()=>_.jsxs(_.Fragment,{children:[_.jsx(rl,{}),_.jsxs("section",{className:"flex text-white h-[calc(100vh-4rem)] md:h-screen",children:[_.jsxs("div",{className:"hidden md:flex flex-col flex-1 justify-center pl-8 pr-5 xl:pl-24 xl:pr-16 bg-[--prime]",children:[_.jsx("h1",{className:"text-6xl xl:text-7xl font-medium pb-7",children:"Make Life Easier for the Family:"}),_.jsx("p",{className:"text-2xl pb-16",children:"Find Babysitters Online for All Occasions"}),_.jsx($a,{to:"/nannies",children:_.jsx(sn,{text:"Get Started",border:!0,icon:_.jsx(Xp,{})})})]}),_.jsx("div",{className:"flex items-center justify-center flex-1 home-bg-img pt-24",children:_.jsx(H4,{})})]})]});function Xx(t){return Kt({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"},child:[]}]})(t)}function q4(t){return Kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M352.92 80C288 80 256 144 256 144s-32-64-96.92-64c-52.76 0-94.54 44.14-95.08 96.81-1.1 109.33 86.73 187.08 183 252.42a16 16 0 0 0 18 0c96.26-65.34 184.09-143.09 183-252.42-.54-52.67-42.32-96.81-95.08-96.81z"},child:[]}]})(t)}function G4(t){return Kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m256 448-9-6c-42.78-28.57-96.91-60.86-137-108.32-42.25-50-62.52-101.35-62-157C48.63 114.54 98.46 64 159.08 64c48.11 0 80.1 28 96.92 48.21C272.82 92 304.81 64 352.92 64c60.62 0 110.45 50.54 111.08 112.65.56 55.68-19.71 107-62 157-40.09 47.49-94.22 79.78-137 108.35z"},child:[]}]})(t)}function K4(t){return Kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 48c-79.5 0-144 61.39-144 137 0 87 96 224.87 131.25 272.49a15.77 15.77 0 0 0 25.5 0C304 409.89 400 272.07 400 185c0-75.61-64.5-137-144-137z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"192",r:"48",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"},child:[]}]})(t)}const Y4=({nanny:t,nannyId:e,userId:n,onClick:i})=>{const{favorites:o,addToFavorites:a,removeFromFavorites:u}=f1(),d=o.some(m=>m.nannyId===e),h=()=>{n?d?u(e,n):a(n,{...t,nannyId:e}):i()};return _.jsx("button",{onClick:h,children:d?_.jsx(G4,{className:"text-2xl md:ml-10 text-red-500"}):_.jsx(q4,{className:"text-2xl md:ml-10"})})};function Q4(t){return Kt({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"},child:[]},{tag:"path",attr:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"},child:[]}]})(t)}function X4(t){return Kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M443.5 420.2L336.7 312.4c20.9-26.2 33.5-59.4 33.5-95.5 0-84.5-68.5-153-153.1-153S64 132.5 64 217s68.5 153 153.1 153c36.6 0 70.1-12.8 96.5-34.2l106.1 107.1c3.2 3.4 7.6 5.1 11.9 5.1 4.1 0 8.2-1.5 11.3-4.5 6.6-6.3 6.8-16.7.6-23.3zm-226.4-83.1c-32.1 0-62.3-12.5-85-35.2-22.7-22.7-35.2-52.9-35.2-84.9 0-32.1 12.5-62.3 35.2-84.9 22.7-22.7 52.9-35.2 85-35.2s62.3 12.5 85 35.2c22.7 22.7 35.2 52.9 35.2 84.9 0 32.1-12.5 62.3-35.2 84.9-22.7 22.7-52.9 35.2-85 35.2z"},child:[]}]})(t)}function Jx(t){return Kt({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M405 136.798L375.202 107 256 226.202 136.798 107 107 136.798 226.202 256 107 375.202 136.798 405 256 285.798 375.202 405 405 375.202 285.798 256z"},child:[]}]})(t)}const J4=({isOpen:t,closeModal:e})=>t?_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg relative",children:[_.jsx("button",{className:"absolute top-3 right-3 text-gray-500 hover:text-black",onClick:e,children:_.jsx(Jx,{className:"w-6 h-6"})}),_.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Thank you!"}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Please wait for your meeting confirmation."})]})}):null,Z4=()=>{const t=[];let e=9;for(;e<18;)t.push(`${String(e).padStart(2,"0")}:00`),t.push(`${String(e).padStart(2,"0")}:30`),e+=1;return t.push("18:00"),t},e5=()=>{const[t,e]=b.useState(!1),n=Yc().shape({address:yn().required("Address is required"),phone:yn().matches(/^\d{10}$/).required(),age:Gx().positive().integer().required(),email:yn().email().required(),parentName:yn().required(),meetingTime:yn().required(),comment:yn()}),i=()=>{e(!1)};return _.jsxs("div",{children:[_.jsx(xm,{initialValues:{address:"",phone:"",age:"",email:"",parentName:"",meetingTime:"",comment:""},validationSchema:n,onSubmit:(o,{resetForm:a})=>{console.log("Form values:",o),a(),e(!0)},children:({errors:o,touched:a,isSubmitting:u})=>_.jsxs(Gc,{className:"flex flex-col text-xs md:text-base space-y-3 md:space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-2 gap-x-2 gap-y-4",children:[_.jsx("div",{children:_.jsx(vn,{name:"address",type:"text",placeholder:"Address",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${o.address&&a.address?"border-red-600":""}`})}),_.jsxs("div",{className:"flex items-center w-full",children:[_.jsx("span",{className:"text-gray-500 mx-1",children:"+38"}),_.jsx(vn,{name:"phone",type:"text",placeholder:"0XXXXXXXXX",maxLength:10,className:`border-2 rounded-lg px-1 py-1 md:px-2 md:py-2 w-full ${o.phone&&a.phone?"border-red-600":""}`})]}),_.jsx("div",{children:_.jsx(vn,{name:"age",type:"number",placeholder:"Child's age",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${o.age&&a.age?"border-red-600":""}`})}),_.jsxs("div",{className:"relative",children:[_.jsxs(vn,{as:"select",name:"meetingTime",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${o.meetingTime&&a.meetingTime?"border-red-600":""}`,children:[_.jsx("option",{value:"",disabled:!0,children:"Meeting time"}),Z4().map(d=>_.jsx("option",{value:d,children:d},d))]}),_.jsx(Q4,{className:"hidden md:flex absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",size:20})]})]}),_.jsx("div",{children:_.jsx(vn,{name:"email",type:"email",placeholder:"Email",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${o.email&&a.email?"border-red-600":""}`})}),_.jsx("div",{children:_.jsx(vn,{name:"parentName",type:"text",placeholder:"Father's or mother's name",className:`border-2 rounded-lg px-2 py-1 md:px-4 md:py-2 w-full ${o.parentName&&a.parentName?"border-red-600":""}`})}),_.jsxs("div",{children:[_.jsx(vn,{as:"textarea",name:"comment",placeholder:"Comment",className:"border rounded-lg px-2 py-1 md:px-4 md:py-2 min-h-12 max-h-28 w-full"}),_.jsx(Cm,{name:"comment",component:"div",className:"text-red-500 text-xs md:text-sm"})]}),_.jsx(sn,{type:"submit",className:"hover:bg-[--hover-prime]",disabled:u,text:"Send"})]})}),_.jsx(J4,{isOpen:t,closeModal:i})]})},t5=({isOpen:t,onClose:e,nanny:n})=>(b.useEffect(()=>{const i=o=>{o.key==="Escape"&&e()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),t?_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center",children:_.jsxs("div",{className:"bg-white rounded-3xl shadow-lg w-full max-w-[600px] max-h-screen overflow-y-auto p-3 md:p-8 m-3 relative",onClick:i=>i.stopPropagation(),children:[_.jsx("h2",{className:"text-xl md:text-3xl 2xl:text-4xl font-medium mb-2 md:mb-4 2xl:mb-5 w-3/4",children:"Make an appointment with a babysitter"}),_.jsx("p",{className:"text-sm md:text-base text-gray-400 mb-5 md:mb-7 2xl:mb-10",children:"Arranging a meeting with a caregiver for your child is the first step to creating a safe and comfortable environment. Fill out the form below so we can match you with the perfect care partner."}),_.jsxs("div",{className:"flex mb-5 2xl:mb-10",children:[_.jsx("div",{className:"mr-3",children:_.jsx("img",{className:"w-11 h-11 rounded-full object-cover",src:n.avatar_url,alt:n.name})}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx("p",{className:"text-xs text-gray-400 mb-1",children:"Your nanny"}),_.jsx("p",{className:"font-medium",children:n.name})]})]}),_.jsx("button",{className:"absolute top-5 right-5 text-gray-500 hover:text-black",onClick:e,children:_.jsx(Jx,{className:"w-6 h-6 md:w-8 md:h-8"})}),_.jsx(e5,{})]})}):null),n5=({nanny:t})=>{const[e,n]=b.useState(!1),[i,o]=b.useState(!1),a=()=>n(!0),u=()=>n(!1),d=()=>{o(!i)};return _.jsxs(_.Fragment,{children:[_.jsx("button",{className:"font-medium underline text-start mr-auto",onClick:()=>d(),children:i?"Show less":"Read more"}),i&&_.jsxs("div",{className:"mt-6",children:[t.reviews&&t.reviews.length>0&&t.reviews.map((h,m)=>_.jsxs("div",{className:"flex items-start space-x-4 mb-4",children:[_.jsx("div",{className:"w-16 h-10 md:w-12 md:h-12 text-sm md:text-base rounded-full bg-gray-300 flex items-center justify-center",children:h.reviewer.charAt(0)}),_.jsxs("div",{children:[_.jsx("p",{className:"font-semibold",children:h.reviewer}),_.jsxs("p",{className:"flex items-center text-gray-600 text-sm",children:[_.jsx(Xx,{className:"mr-1 text-yellow-500"}),h.rating.toFixed(1)]}),_.jsx("p",{className:"text-gray-600",children:h.comment})]})]},m)),_.jsxs("div",{children:[_.jsx(sn,{text:"Make an Appointment",className:"text-sm md:text-base",onClick:a}),_.jsx(t5,{nanny:t,isOpen:e,onClose:u})]})]})]})},r5=t=>{const e=new Date,n=new Date(t);let i=e.getFullYear()-n.getFullYear();const o=e.getMonth()-n.getMonth();return(o<0||o===0&&e.getDate()<n.getDate())&&i--,i},Zx=({nanny:t,userId:e})=>{const n=()=>{e||_n.fire({icon:"warning",title:"You are not logged in!",text:"Please log in to add to favorites."})};return _.jsx("div",{className:"flex flex-col md:flex-row bg-white shadow-lg rounded-xl lg:rounded-3xl p-3 md:p-6 mb-8",children:_.jsxs("div",{className:"flex flex-col flex-1",children:[_.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-4",children:[_.jsxs("div",{className:"flex mb-4",children:[_.jsx("div",{className:"w-[100px] h-[100px] md:w-[120px] md:h-[120px] p-2 rounded-[20px] md:p-3 md:rounded-[30px] outline outline-2 outline-pink-200 mr-6 flex-shrink-0",children:_.jsx("img",{className:"rounded-[15px] object-cover",src:t.avatar_url,alt:t.name})}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-400",children:"Nanny"}),_.jsx("p",{className:"text-xl md:text-2xl font-medium",children:t.name})]})]}),_.jsxs("div",{className:"flex flex-wrap xl:flex-nowrap ml-2 mb-auto justify-between items-center gap-2",children:[_.jsxs("p",{className:"flex items-center ",children:[_.jsx(K4,{className:"mr-2"}),t.location]}),_.jsxs("p",{children:["Price / 1 hour:"," ",_.jsxs("span",{className:"text-green-500 font-medium",children:[t.price_per_hour,"$"]})]}),_.jsxs("p",{className:"flex items-center",children:[_.jsx(Xx,{className:"mr-1 text-yellow-500"}),"Rating: ",t.rating]}),_.jsx(Y4,{nanny:t,nannyId:t.nannyId,userId:e,onClick:n})]})]}),_.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-6 ",children:[_.jsxs("p",{className:"bg-gray-100 text-gray-600 rounded-full px-4 py-2",children:["Age:"," ",_.jsx("span",{className:"text-black underline",children:r5(t.birthday)})]}),_.jsxs("p",{className:"bg-gray-100 text-gray-600 rounded-full px-4 py-2",children:["Experience: ",_.jsx("span",{className:"text-black",children:t.experience})]}),_.jsxs("p",{className:"bg-gray-100 text-gray-600 rounded-full px-4 py-2",children:["Kids Age: ",_.jsx("span",{className:"text-black",children:t.kids_age})]}),_.jsxs("p",{className:"bg-gray-100 text-gray-600 rounded-full px-4 py-2",children:["Education: ",_.jsx("span",{className:"text-black",children:t.education})]})]}),_.jsx("p",{className:"text-gray-500 mb-3",children:t.about}),_.jsx(n5,{nanny:t})]})})},i5=({filterNannies:t,visibleCards:e,setVisibleCards:n,userId:i})=>{const o=t();return _.jsxs("div",{children:[o.slice(0,e).map(a=>_.jsx(Zx,{nanny:a,userId:i},a.nannyId)),e<o.length&&_.jsx(sn,{text:"Load more",onClick:()=>n(e+3),className:"mx-auto mt-16 mb-24"})]})},s5=({filter:t,setFilter:e})=>{const n=i=>{e(i.target.value)};return _.jsxs("div",{className:"flex flex-col mb-8",children:[_.jsx("label",{htmlFor:"filter",className:"mb-2 font-medium text-gray-500",children:"Filters"}),_.jsxs("select",{id:"filter",value:t,onChange:n,className:"block text-base md:text-lg w-36 md:w-52 px-3 py-2 md:px-5 md:py-4  text-white bg-[--prime] border rounded-2xl shadow-sm",children:[_.jsx("option",{value:"rating-asc",children:"Popular"}),_.jsx("option",{value:"price-desc",children:"Higher Price"}),_.jsx("option",{value:"price-asc",children:"Lower Price"}),_.jsx("option",{value:"default",children:"Default"})]})]})},o5=({uniqueCities:t,selectedCity:e,setSelectedCity:n})=>{const i=o=>{n(o.target.value)};return _.jsxs("div",{className:"flex flex-col mb-8",children:[_.jsx("label",{htmlFor:"city",className:"mb-2 font-medium text-gray-500 text-end",children:"City"}),_.jsxs("div",{className:"relative",children:[_.jsxs("select",{id:"city",value:e,onChange:i,className:"block  text-base md:text-lg w-36 md:w-52 px-3 py-2 md:px-5 md:py-4 bg-white border rounded-2xl shadow-sm",children:[_.jsx("option",{value:"",children:"All Cities"}),t.map(o=>_.jsx("option",{value:o,children:o},o))]}),_.jsx(X4,{className:"absolute top-2.5 md:top-5 right-3 text-xl text-gray-500"})]})]})},a5=()=>{const t=Yi(),[e,n]=b.useState([]),[i,o]=b.useState(3),[a,u]=b.useState(!0),[d,h]=b.useState("default"),[m,y]=b.useState("");b.useEffect(()=>{(async()=>{u(!0);const P=await FD();if(P){const R=Object.entries(P).map(([k,M])=>({...M,nannyId:k}));n(R)}u(!1)})()},[]);const w=x=>x.split(",")[0].trim(),v=[...new Set(e.map(x=>w(x.location)))],C=()=>{let x=e;switch(m&&(x=x.filter(P=>w(P.location)===m)),d){case"price-asc":return x.slice().sort((P,R)=>P.price_per_hour-R.price_per_hour);case"price-desc":return x.slice().sort((P,R)=>R.price_per_hour-P.price_per_hour);case"rating-asc":return x.slice().sort((P,R)=>R.rating-P.rating);default:return x}};return a?_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("p",{className:"text-center text-gray-500 mt-10 mb-5",children:"Loading nannies ..."}),_.jsx("span",{className:"text-center loader"})]}):_.jsxs("div",{className:"flex flex-col",children:[_.jsxs("div",{className:"flex justify-between",children:[_.jsx(s5,{filter:d,setFilter:h}),_.jsx(o5,{uniqueCities:v,selectedCity:m,setSelectedCity:y})]}),_.jsx(i5,{nannies:e,filterNannies:C,visibleCards:i,setVisibleCards:o,userId:t.currentUser?t.currentUser.uid:""})]})},l5=()=>_.jsxs(_.Fragment,{children:[_.jsx(rl,{}),_.jsx("section",{className:"bg-gray-100 min-h-screen pt-6 md:pt-12 xl:pt-24 px-4 md:px-16 xl:px-32",children:_.jsx(a5,{})})]}),u5=()=>{var a;const t=Yi();(a=t.currentUser)==null||a.uid;const{favorites:e,isLoading:n}=f1(),[i,o]=b.useState(3);return n?_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsx("p",{className:"text-center text-gray-500 mt-10 mb-5",children:"Loading your favorites..."}),_.jsx("span",{className:"text-center loader"})]}):!e||e.length===0?_.jsx("p",{className:"text-center text-gray-500 mt-10",children:"You have no favorite nannies yet."}):_.jsxs("div",{className:"flex flex-col",children:[e.slice(0,i).map(u=>_.jsx(Zx,{nanny:u,userId:t.currentUser?t.currentUser.uid:""},u.nannyId)),i<e.length&&_.jsx(sn,{text:"Load more",onClick:()=>o(i+3),className:"mx-auto mt-16 mb-24 "})]})},c5=()=>_.jsxs(_.Fragment,{children:[_.jsx(rl,{}),_.jsx("section",{className:"bg-gray-100 min-h-screen pt-24 px-4 md:px-16 xl:px-32",children:_.jsx(u5,{})})]}),d5=()=>_.jsx(kA,{children:_.jsxs(zb,{children:[_.jsx(Ls,{path:"/",element:_.jsx(AD,{})}),_.jsx(Ls,{path:"login",element:_.jsx(V4,{})}),_.jsx(Ls,{path:"register",element:_.jsx(W4,{})}),_.jsx(Ls,{path:"nannies",element:_.jsx(l5,{})}),_.jsx(Ls,{path:"favorites",element:_.jsx(c5,{})})]})}),eC=document.getElementById("root");if(!eC)throw new Error("Root element not found");I2.createRoot(eC).render(_.jsx(b.StrictMode,{children:_.jsx(f2,{basename:"/nannies-app/",children:_.jsx(d5,{})})}))});export default f5();
